/*! For license information please see 2.dc59e955.chunk.js.LICENSE.txt */
(this.webpackJsonpcompendium=this.webpackJsonpcompendium||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(33)},function(t,e,n){"use strict";t.exports=n(32)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return S}));var r=n(6),i=n(0),o=n.n(i),a=(n(11),n(8)),s=n(18),u=n(7),c=n(3),l=n(19),h=n.n(l),f=(n(10),n(9)),p=(n(12),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),d=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;var y=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);var g={},m=0;function b(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(g[t])return g[t];var e=h.a.compile(t);return m<1e4&&(g[t]=e,m++),e}(t)(e,{pretty:!0})}function w(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(d.Consumer,null,(function(t){t||Object(u.a)(!1);var r=t.history,s=t.staticContext,l=i?r.push:r.replace,h=Object(a.c)(e?"string"===typeof n?b(n,e.params):Object(c.default)({},n,{pathname:b(n.pathname,e.params)}):n);return s?(l(h),null):o.a.createElement(y,{onMount:function(){l(h)},onUpdate:function(t,e){var n=Object(a.c)(e.to);Object(a.f)(n,Object(c.default)({},h,{key:n.key}))||l(h)},to:n})}))}var _={},E=0;function S(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=_[n]||(_[n]={});if(r[t])return r[t];var i=[],o={regexp:h()(t,i,e),keys:i};return E<1e4&&(r[t]=o,E++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=f[n],t}),{})}}),null)}var I=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?S(n.pathname,t.props):e.match,i=Object(c.default)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(d.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function T(t){return"/"===t.charAt(0)?t:"/"+t}function C(t,e){if(!t)return e;var n=T(t);return 0!==e.pathname.indexOf(n)?e:Object(c.default)({},e,{pathname:e.pathname.substr(n.length)})}function k(t){return"string"===typeof t?t:Object(a.e)(t)}function A(t){return function(){Object(u.a)(!1)}}function N(){}o.a.Component;o.a.Component;o.a.useContext},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Nt})),n.d(e,"b",(function(){return Dt})),n.d(e,"d",(function(){return Lt}));var r=n(10),i=n(0),o=n.n(i),a=n(27),s=n.n(a),u=n(28),c=n(29),l=n(20),h=n(12),f=n.n(h);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var d=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},v=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(r.typeOf)(t)},y=Object.freeze([]),g=Object.freeze({});function m(t){return"function"==typeof t}function b(t){return t.displayName||t.name||"Component"}function w(t){return t&&"string"==typeof t.styledComponentId}var _="undefined"!=typeof t&&(Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),I={};function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&T(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=0,u=e.length;s<u;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),k=new Map,A=new Map,N=1,O=function(t){if(k.has(t))return k.get(t);for(;A.has(N);)N++;var e=N++;return k.set(t,e),A.set(e,t),e},P=function(t){return A.get(t)},x=function(t,e){k.set(t,e),A.set(e,t)},R="style["+_+'][data-styled-version="5.2.1"]',D=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},M=function(t,e){for(var n=e.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(D);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(x(c,u),L(t,c,s[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},F=function(){return n.nc},j=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.2.1");var a=F();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function t(t){var e=this.element=j(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}T(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),V=function(){function t(t){var e=this.element=j(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),q=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),B=E,z={isServer:!E,useCSSOMInjection:!S},W=function(){function t(t,e,n){void 0===t&&(t=g),void 0===e&&(e={}),this.options=p({},z,{},t),this.gs=e,this.names=new Map(n),!this.options.isServer&&E&&B&&(B=!1,function(t){for(var e=document.querySelectorAll(R),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(_)&&(M(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return O(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(p({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new q(i):r?new U(i):new V(i),new C(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(O(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(O(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(O(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=P(i);if(void 0!==o){var a=t.names.get(o),s=e.getGroup(i);if(void 0!==a&&0!==s.length){var u=_+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(t){t.length>0&&(c+=t+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},t}(),H=/(a)(d)/gi,K=function(t){return String.fromCharCode(t+(t>25?39:97))};function G(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=K(e%52)+n;return(K(e%52)+n).replace(H,"$1-$2")}var Q=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Y=function(t){return Q(5381,t)};function $(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(m(n)&&!w(n))return!1}return!0}var X=Y("5.2.1"),J=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(t),this.componentId=e,this.baseHash=Q(X,e),this.baseStyle=n,W.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=yt(this.rules,t,e,n).join(""),a=G(Q(this.baseHash,o.length)>>>0);if(!e.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);e.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Q(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var p=yt(f,t,e,n),d=Array.isArray(p)?p.join(""):p;c=Q(c,d+h),l+=d}}if(l){var v=G(c>>>0);if(!e.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);e.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},t}(),Z=/^\s*\/\/.*$/gm,tt=[":","[",".","#"];function et(t){var e,n,r,i,o=void 0===t?g:t,a=o.options,s=void 0===a?g:a,c=o.plugins,l=void 0===c?y:c,h=new u.a(s),f=[],p=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}((function(t){f.push(t)})),d=function(t,r,o){return 0===r&&tt.includes(o[n.length])||o.match(i)?t:"."+e};function v(t,o,a,s){void 0===s&&(s="&");var u=t.replace(Z,""),c=o&&a?a+" "+o+" { "+u+" }":u;return e=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,c)}return h.use([].concat(l,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},p,function(t){if(-2===t){var e=f;return f=[],e}}])),v.hash=l.length?l.reduce((function(t,e){return e.name||T(15),Q(t,e.name)}),5381).toString():"",v}var nt=o.a.createContext(),rt=(nt.Consumer,o.a.createContext()),it=(rt.Consumer,new W),ot=et();function at(){return Object(i.useContext)(nt)||it}function st(){return Object(i.useContext)(rt)||ot}function ut(t){var e=Object(i.useState)(t.stylisPlugins),n=e[0],r=e[1],a=at(),u=Object(i.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),c=Object(i.useMemo)((function(){return et({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),o.a.createElement(nt.Provider,{value:u},o.a.createElement(rt.Provider,{value:c},t.children))}var ct=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=ot);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=ot),this.name+t.hash},t}(),lt=/([A-Z])/,ht=/([A-Z])/g,ft=/^ms-/,pt=function(t){return"-"+t.toLowerCase()};function dt(t){return lt.test(t)?t.replace(ht,pt).replace(ft,"-ms-"):t}var vt=function(t){return null==t||!1===t||""===t};function yt(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)""!==(i=yt(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return vt(t)?"":w(t)?"."+t.styledComponentId:m(t)?"function"!=typeof(u=t)||u.prototype&&u.prototype.isReactComponent||!e?t:yt(t(e),e,n,r):t instanceof ct?n?(t.inject(n,r),t.getName(r)):t:v(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!vt(e[a])&&(v(e[a])?o.push.apply(o,t(e[a],a)):m(e[a])?o.push(dt(a)+":",e[a],";"):o.push(dt(a)+": "+(r=a,(null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var u}function gt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return m(t)||v(t)?yt(d(y,[t].concat(n))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:yt(d(t,n))}new Set;var mt=function(t,e,n){return void 0===n&&(n=g),t.theme!==n.theme&&t.theme||e||n.theme},bt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wt=/(^-|-$)/g;function _t(t){return t.replace(bt,"-").replace(wt,"")}var Et=function(t){return G(Y(t)>>>0)};function St(t){return"string"==typeof t&&!0}var It=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},Tt=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function Ct(t,e,n){var r=t[n];It(e)&&It(r)?kt(r,e):t[n]=e}function kt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(It(a))for(var s in a)Tt(s)&&Ct(t,a[s],s)}return t}var At=o.a.createContext();At.Consumer;function Nt(t){var e=Object(i.useContext)(At),n=Object(i.useMemo)((function(){return function(t,e){return t?m(t)?t(e):Array.isArray(t)||"object"!=typeof t?T(8):e?p({},e,{},t):t:T(14)}(t.theme,e)}),[t.theme,e]);return t.children?o.a.createElement(At.Provider,{value:n},t.children):null}var Ot={};function Pt(t,e,n){var r=w(t),a=!St(t),s=e.attrs,u=void 0===s?y:s,c=e.componentId,h=void 0===c?function(t,e){var n="string"!=typeof t?"sc":_t(t);Ot[n]=(Ot[n]||0)+1;var r=n+"-"+Et("5.2.1"+n+Ot[n]);return e?e+"-"+r:r}(e.displayName,e.parentComponentId):c,d=e.displayName,v=void 0===d?function(t){return St(t)?"styled."+t:"Styled("+b(t)+")"}(t):d,_=e.displayName&&e.componentId?_t(e.displayName)+"-"+e.componentId:e.componentId||h,E=r&&t.attrs?Array.prototype.concat(t.attrs,u).filter(Boolean):u,S=e.shouldForwardProp;r&&t.shouldForwardProp&&(S=e.shouldForwardProp?function(n,r){return t.shouldForwardProp(n,r)&&e.shouldForwardProp(n,r)}:t.shouldForwardProp);var I,T=new J(n,_,r?t.componentStyle:void 0),C=T.isStatic&&0===u.length,k=function(t,e){return function(t,e,n,r){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,h=t.styledComponentId,f=t.target,d=function(t,e,n){void 0===t&&(t=g);var r=p({},e,{theme:t}),i={};return n.forEach((function(t){var e,n,o,a=t;for(e in m(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]})),[r,i]}(mt(e,Object(i.useContext)(At),s)||g,e,o),v=d[0],y=d[1],b=function(t,e,n,r){var i=at(),o=st();return e?t.generateAndInjectStyles(g,i,o):t.generateAndInjectStyles(n,i,o)}(a,r,v),w=n,_=y.$as||e.$as||y.as||e.as||f,E=St(_),S=y!==e?p({},e,{},y):e,I={};for(var T in S)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?I.as=S[T]:(c?c(T,l.a):!E||Object(l.a)(T))&&(I[T]=S[T]));return e.style&&y.style!==e.style&&(I.style=p({},e.style,{},y.style)),I.className=Array.prototype.concat(u,h,b!==h?b:null,e.className,y.className).filter(Boolean).join(" "),I.ref=w,Object(i.createElement)(_,I)}(I,t,e,C)};return k.displayName=v,(I=o.a.forwardRef(k)).attrs=E,I.componentStyle=T,I.displayName=v,I.shouldForwardProp=S,I.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):y,I.styledComponentId=_,I.target=r?t.target:t,I.withComponent=function(t){var r=e.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["componentId"]),o=r&&r+"-"+(St(t)?t:_t(b(t)));return Pt(t,p({},i,{attrs:E,componentId:o}),n)},Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?kt({},t.defaultProps,e):e}}),I.toString=function(){return"."+I.styledComponentId},a&&f()(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),I}var xt=function(t){return function t(e,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return T(1,String(n));var o=function(){return e(n,i,gt.apply(void 0,arguments))};return o.withConfig=function(r){return t(e,n,p({},i,{},r))},o.attrs=function(r){return t(e,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Pt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){xt[t]=xt(t)}));var Rt=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=$(t),W.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,r){var i=r(yt(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&W.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();function Dt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=gt.apply(void 0,[t].concat(n)),s="sc-global-"+Et(JSON.stringify(a)),u=new Rt(a,s);function c(t){var e=at(),n=st(),r=Object(i.useContext)(At),o=Object(i.useRef)(e.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return l(o,t,e,r,n),function(){return u.removeStyles(o,e)}}),[o,t,e,r,n]),null}function l(t,e,n,r,i){if(u.isStatic)u.renderStyles(t,I,n,i);else{var o=p({},e,{theme:mt(e,r,c.defaultProps)});u.renderStyles(t,o,n,i)}}return o.a.memo(c)}function Lt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=gt.apply(void 0,[t].concat(n)).join(""),o=Et(i);return new ct(o,i)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=F();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?T(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return T(2);var n=((e={})[_]="",e["data-styled-version"]="5.2.1",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),r=F();return r&&(n.nonce=r),[o.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var e=t.prototype;e.collectStyles=function(t){return this.sealed?T(2):o.a.createElement(ut,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return T(3)}}();e.c=xt}).call(this,n(24))},function(t,e,n){"use strict";function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r="Invariant failed";e.a=function(t,e){if(!t)throw new Error(r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return N})),n.d(e,"d",(function(){return P})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return d}));var r=n(3);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},c=n(7);function l(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.default)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var w="popstate",_="hashchange";function E(){try{return window.history.state||{}}catch(t){return{}}}function S(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,S=void 0===y?6:y,I=t.basename?p(l(t.basename)):"";function T(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=f(o,I)),v(o,r,n)}function C(){return Math.random().toString(36).substr(2,S)}var k=g();function A(t){Object(r.default)(V,t),V.length=e.length,k.notifyListeners(V.location,V.action)}function N(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||x(T(t.state))}function O(){x(T(E()))}var P=!1;function x(t){if(P)P=!1,A();else{k.confirmTransitionTo(t,"POP",h,(function(e){e?A({action:"POP",location:t}):function(t){var e=V.location,n=D.indexOf(e.key);-1===n&&(n=0);var r=D.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(t)}))}}var R=T(E()),D=[R.key];function L(t){return I+d(t)}function M(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?(window.addEventListener(w,N),i&&window.addEventListener(_,O)):0===F&&(window.removeEventListener(w,N),i&&window.removeEventListener(_,O))}var U=!1;var V={length:e.length,action:"POP",location:R,createHref:L,push:function(t,r){var i="PUSH",o=v(t,r,C(),V.location);k.confirmTransitionTo(o,i,h,(function(t){if(t){var r=L(o),a=o.key,u=o.state;if(n)if(e.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,A({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=v(t,r,C(),V.location);k.confirmTransitionTo(o,i,h,(function(t){if(t){var r=L(o),a=o.key,u=o.state;if(n)if(e.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=o.key),A({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=k.setPrompt(t);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),e()}},listen:function(t){var e=k.appendListener(t);return j(1),function(){j(-1),e()}}};return V}var I="hashchange",T={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function k(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function A(t){window.location.replace(C(window.location.href)+"#"+t)}function N(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",h=T[s],y=h.encodePath,w=h.decodePath;function _(){var t=w(k());return u&&(t=f(t,u)),v(t)}var E=g();function S(t){Object(r.default)(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)}var N=!1,O=null;function P(){var t,e,n=k(),r=y(n);if(n!==r)A(r);else{var i=_(),a=V.location;if(!N&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(O===d(i))return;O=null,function(t){if(N)N=!1,S();else{var e="POP";E.confirmTransitionTo(t,e,o,(function(n){n?S({action:e,location:t}):function(t){var e=V.location,n=L.lastIndexOf(d(e));-1===n&&(n=0);var r=L.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(t)}))}}(i)}}var x=k(),R=y(x);x!==R&&A(R);var D=_(),L=[d(D)];function M(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?window.addEventListener(I,P):0===F&&window.removeEventListener(I,P)}var U=!1;var V={length:e.length,action:"POP",location:D,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+d(t))},push:function(t,e){var n="PUSH",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);if(k()!==i){O=e,function(t){window.location.hash=t}(i);var o=L.lastIndexOf(d(V.location)),a=L.slice(0,o+1);a.push(e),L=a,S({action:n,location:r})}else S()}}))},replace:function(t,e){var n="REPLACE",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);k()!==i&&(O=e,A(i));var o=L.indexOf(d(V.location));-1!==o&&(L[o]=e),S({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),e()}},listen:function(t){var e=E.appendListener(t);return j(1),function(){j(-1),e()}}};return V}function O(t,e,n){return Math.min(Math.max(t,e),n)}function P(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=g();function h(t){Object(r.default)(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=O(s,0,o.length-1),y=o.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),m=d;function b(t){var e=O(w.index+t,0,w.entries.length-1),r=w.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:m,push:function(t,e){var r="PUSH",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),h({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){t&&(w.entries[w.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";t.exports=n(52)},function(t,e,n){t.exports=n(53)()},function(t,e,n){"use strict";var r=n(10),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(e,g,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(2),i=n(6),o=n(0),a=n.n(o),s=n(8),u=(n(11),n(3)),c=n(9),l=n(7);a.a.Component;var h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.b)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},e}(a.a.Component);var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=d);var y=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.default)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.default)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=d!==v&&e||n,a.a.createElement("a",l)}));var g=v((function(t,e){var n=t.component,i=void 0===n?y:n,o=t.replace,s=t.to,h=t.innerRef,g=Object(c.default)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),c=r?n.createHref(r):"",y=Object(u.default)({},g,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==v?y.ref=e||h:y.innerRef=h,a.a.createElement(i,y)}))})),m=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,v=t.exact,y=t.isActive,w=t.location,_=t.sensitive,E=t.strict,S=t.style,I=t.to,T=t.innerRef,C=Object(c.default)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(l.a)(!1);var n=w||t.location,o=p(f(I,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=k?Object(r.e)(n.pathname,{path:k,exact:v,sensitive:_,strict:E}):null,N=!!(y?y(A,n):A),O=N?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,P=N?Object(u.default)({},S,{},h):S,x=Object(u.default)({"aria-current":N&&i||null,className:O,style:P,to:o},C);return m!==b?x.ref=e||T:x.innerRef=T,a.a.createElement(g,x)}))}))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return o}))},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(34)},function(t,e,n){"use strict";(function(t){var r=n(0),i=n.n(r),o=n(6),a=n(11),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var h=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=l(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:f}};e.a=h}).call(this,n(25))},function(t,e,n){var r=n(55);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=d&&d!==v,E="+"===b||"*"===b,S="?"===b||"*"===b,I=n[2]||l,T=g||m;r.push({name:y||o++,prefix:v||"",delimiter:I,optional:S,repeat:E,partial:_,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(I)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));e.a=i},function(t,e,n){var r=n(22);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(37),i=n(38),o=n(39),a=n(23),s=n(43),u=n(45),c=n(50),l=n(51);function h(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var f=h(n(9)),p=h(n(3)),d=h(n(0)),v=h(n(17)),y=void 0,g=void 0,m=[],b=function(t){return"undefined"!==typeof window&&window.requestAnimationFrame(t)},w=function(t){return"undefined"!==typeof window&&window.cancelAnimationFrame(t)},_=void 0,E=function(){return Date.now()},S=void 0,I=void 0,T=function(t,e){return g={fn:t,transform:e}},C=function(t){return m=t},k=function(t){return y=t},A=function(t){return _=t},N=function(t){return S=t},O=function(t){return I=t},P=Object.freeze({get bugfixes(){return y},get applyAnimatedValues(){return g},get colorNames(){return m},get requestFrame(){return b},get cancelFrame(){return w},get interpolation(){return _},get now(){return E},get defaultElement(){return S},get createAnimatedStyle(){return I},injectApplyAnimatedValues:T,injectColorNames:C,injectBugfixes:k,injectInterpolation:A,injectFrame:function(t,e){var n=[t,e];return b=n[0],w=n[1],n},injectNow:function(t){return E=t},injectDefaultElement:N,injectCreateAnimatedStyle:O}),x=function(){function t(){c(this,t)}return l(t,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getValue",value:function(){}},{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"addChild",value:function(t){}},{key:"removeChild",value:function(t){}},{key:"getChildren",value:function(){return[]}}]),t}(),R=function(t){return Object.keys(t).map((function(e){return t[e]}))},D=function(t){s(n,t);var e=u(n);function n(){var t,r;return c(this,n),t=e.apply(this,arguments),r=a(t),t.children=[],t.getChildren=function(){return t.children},t.getPayload=function(t){return void 0===t&&(t=void 0),void 0!==t&&r.payload?r.payload[t]:r.payload||r},t}return l(n,[{key:"addChild",value:function(t){0===this.children.length&&this.attach(),this.children.push(t)}},{key:"removeChild",value:function(t){var e=this.children.indexOf(t);this.children.splice(e,1),0===this.children.length&&this.detach()}}]),n}(x),L=function(t){s(n,t);var e=u(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).payload=[],t.getAnimatedValue=function(){return t.getValue()},t.attach=function(){return t.payload.forEach((function(e){return e instanceof x&&e.addChild(a(t))}))},t.detach=function(){return t.payload.forEach((function(e){return e instanceof x&&e.removeChild(a(t))}))},t}return n}(D),M=function(t){s(n,t);var e=u(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).payload={},t.getAnimatedValue=function(){return t.getValue(!0)},t.attach=function(){return R(t.payload).forEach((function(e){return e instanceof x&&e.addChild(a(t))}))},t.detach=function(){return R(t.payload).forEach((function(e){return e instanceof x&&e.removeChild(a(t))}))},t}return l(n,[{key:"getValue",value:function(t){void 0===t&&(t=!1);var e={};for(var n in this.payload){var r=this.payload[n];(!t||r instanceof x)&&(e[n]=r instanceof x?r[t?"getAnimatedValue":"getValue"]():r)}return e}}]),n}(D),F=function(t){s(n,t);var e=u(n);function n(t){var r;return c(this,n),r=e.call(this),!(t=t||{}).transform||t.transform instanceof x||(t=g.transform(t)),r.payload=t,r}return n}(M),j={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},U=function(){function t(){c(this,t)}return l(t,null,[{key:"create",value:function(e,n,r){if("function"===typeof e)return e;if(_&&e.output&&"string"===typeof e.output[0])return _(e);if(Array.isArray(e))return t.create({range:e,output:n,extrapolate:r||"extend"});var i=e.output,o=e.range||[0,1],a=e.easing||function(t){return t},s="extend",u=e.map;void 0!==e.extrapolateLeft?s=e.extrapolateLeft:void 0!==e.extrapolate&&(s=e.extrapolate);var c="extend";return void 0!==e.extrapolateRight?c=e.extrapolateRight:void 0!==e.extrapolate&&(c=e.extrapolate),function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,o);return function(t,e,n,r,i,o,a,s,u){var c=u?u(t):t;if(c<e){if("identity"===a)return c;"clamp"===a&&(c=e)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?c=-c:n===1/0?c-=e:c=(c-e)/(n-e);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(t,o[e],o[e+1],i[e],i[e+1],a,s,c,u)}}}]),t}();var V="[-+]?\\d*\\.?\\d+",q=V+"%";function B(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var z=new RegExp("rgb"+B(V,V,V)),W=new RegExp("rgba"+B(V,V,V,V)),H=new RegExp("hsl"+B(V,q,q)),K=new RegExp("hsla"+B(V,q,q,V)),G=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Q=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Y=/^#([0-9a-fA-F]{6})$/,$=/^#([0-9a-fA-F]{8})$/;function X(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J(t,e,n){var r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=X(i,r,t+1/3),a=X(i,r,t),s=X(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function Z(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function tt(t){return(parseFloat(t)%360+360)%360/360}function et(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function nt(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function rt(t){var e=function(t){var e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Y.exec(t))?parseInt(e[1]+"ff",16)>>>0:j.hasOwnProperty(t)?j[t]:(e=z.exec(t))?(Z(e[1])<<24|Z(e[2])<<16|Z(e[3])<<8|255)>>>0:(e=W.exec(t))?(Z(e[1])<<24|Z(e[2])<<16|Z(e[3])<<8|et(e[4]))>>>0:(e=G.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=$.exec(t))?parseInt(e[1],16)>>>0:(e=Q.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=H.exec(t))?(255|J(tt(e[1]),nt(e[2]),nt(e[3])))>>>0:(e=K.exec(t))?(J(tt(e[1]),nt(e[2]),nt(e[3]))|et(e[4]))>>>0:null}(t);if(null===e)return t;var n=(16711680&(e=e||0))>>>16,r=(65280&e)>>>8,i=(255&e)/255;return"rgba(".concat((4278190080&e)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var it=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ot=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,at=new RegExp("(".concat(Object.keys(j).join("|"),")"),"g");var st=function(t){s(n,t);var e=u(n);function n(t,r,i){var s;return c(this,n),(s=e.call(this)).getValue=function(){var t;return(t=s).calc.apply(t,o(s.payload.map((function(t){return t.getValue()}))))},s.updateConfig=function(t,e){return s.calc=U.create(t,e)},s.interpolate=function(t,e){return new n(a(s),t,e)},s.payload=t instanceof L&&!t.updateConfig?t.payload:Array.isArray(t)?t:[t],s.calc=U.create(r,i),s}return n}(L);function ut(t,e){"function"===typeof t.update?e.add(t):t.getChildren().forEach((function(t){return ut(t,e)}))}var ct=function(t){s(n,t);var e=u(n);function n(t){var r,i;return c(this,n),r=e.call(this),i=a(r),r.setValue=function(t,e){void 0===e&&(e=!0),i.value=t,e&&i.flush()},r.getValue=function(){return r.value},r.updateStyles=function(){return ut(a(r),r.animatedStyles)},r.updateValue=function(t){return r.flush(r.value=t)},r.interpolate=function(t,e){return new st(a(r),t,e)},r.value=t,r.animatedStyles=new Set,r.done=!1,r.startPosition=t,r.lastPosition=t,r.lastVelocity=void 0,r.lastTime=void 0,r.controller=void 0,r}return l(n,[{key:"flush",value:function(){0===this.animatedStyles.size&&this.updateStyles(),this.animatedStyles.forEach((function(t){return t.update()}))}},{key:"prepare",value:function(t){void 0===this.controller&&(this.controller=t),this.controller===t&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=t.isActive?this.lastVelocity:void 0,this.lastTime=t.isActive?this.lastTime:void 0,this.done=!1,this.animatedStyles.clear())}}]),n}(D),lt=function(t){s(n,t);var e=u(n);function n(t){var r,i;return c(this,n),r=e.call(this),i=a(r),r.setValue=function(t,e){void 0===e&&(e=!0),Array.isArray(t)?t.length===i.payload.length&&t.forEach((function(t,n){return i.payload[n].setValue(t,e)})):i.payload.forEach((function(n,r){return i.payload[r].setValue(t,e)}))},r.getValue=function(){return r.payload.map((function(t){return t.getValue()}))},r.interpolate=function(t,e){return new st(a(r),t,e)},r.payload=t.map((function(t){return new ct(t)})),r}return n}(L);function ht(t,e){return void 0===t||null===t?e:t}function ft(t){return void 0!==t?Array.isArray(t)?t:[t]:[]}function pt(t,e){if(typeof t!==typeof e)return!1;if("string"===typeof t||"number"===typeof t)return t===e;var n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return void 0!==n||t===e}function dt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"===typeof t?t.apply(void 0,n):t}function vt(t){return Object.keys(t).map((function(e){return t[e]}))}function yt(t){var e=function(t){return t.to,t.from,t.config,t.native,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.impl,t.inject,t.delay,t.attach,t.destroyed,t.interpolateTo,t.autoStart,t.ref,f(t,["to","from","config","native","onStart","onRest","onFrame","children","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed","interpolateTo","autoStart","ref"])}(t),n=Object.keys(t).reduce((function(n,r){return void 0!==e[r]?n:p({},n,i({},r,t[r]))}),{});return p({to:e},n)}function gt(t,e){var n=e[0],r=e[1];return p({},t,i({},n,new(Array.isArray(r)?lt:ct)(r)))}function mt(t){var e=t.from,n=t.to,r=t.native,i=Object.entries(p({},e,n));return r?i.reduce(gt,{}):p({},e,n)}function bt(t,e){return e&&("function"===typeof e?e(t):"object"===typeof e&&(e.current=t)),t}var wt=function(t){return"auto"===t};var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","Ms","Moz","O"];function St(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}_t=Object.keys(_t).reduce((function(t,e){return Et.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),_t);var It={};O((function(t){return new F(t)})),N("div"),A((function(t){var e=t.output.map((function(t){return t.replace(ot,rt)})).map((function(t){return t.replace(at,rt)})),n=e[0].match(it).map((function(){return[]}));e.forEach((function(t){t.match(it).forEach((function(t,e){return n[e].push(+t)}))}));var r=e[0].match(it).map((function(e,r){return U.create(p({},t,{output:n[r]}))}));return function(t){var n=0;return e[0].replace(it,(function(){return r[n++](t)})).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(function(t,e,n,r,i){return"rgba(".concat(Math.round(e),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")}))}})),C(j),k((function(t,e){var n=t.from,r=t.to,o=t.children;if(vt(r).some(wt)||vt(n).some(wt)){var a=o(mt(t));if(a){Array.isArray(a)&&(a={type:"div",props:{children:a}});var s=a.props.style;return d.createElement(a.type,p({key:a.key?a.key:void 0},a.props,{style:p({},s,{position:"absolute",visibility:"hidden"}),ref:function(o){if(o){var a,s,u=v.findDOMNode(o),c=getComputedStyle(u);if("border-box"===c.boxSizing)a=u.offsetWidth,s=u.offsetHeight;else{var l=parseFloat(c.paddingLeft||0)+parseFloat(c.paddingRight||0),h=parseFloat(c.paddingTop||0)+parseFloat(c.paddingBottom||0),f=parseFloat(c.borderLeftWidth||0)+parseFloat(c.borderRightWidth||0),d=parseFloat(c.borderTopWidth||0)+parseFloat(c.borderBottomWidth||0);a=u.offsetWidth-l-f,s=u.offsetHeight-h-d}var y=function(t,e){return function(n,r){var o=r[0],a=r[1];return p({},n,i({},o,"auto"===a?~o.indexOf("height")?e:t:a))}}(a,s);e(p({},t,{from:Object.entries(n).reduce(y,n),to:Object.entries(r).reduce(y,r)}))}}}))}}})),T((function(t,e){if(!t.nodeType||void 0===t.setAttribute)return!1;var n=e.style,r=e.children,i=e.scrollTop,o=e.scrollLeft,a=f(e,["style","children","scrollTop","scrollLeft"]);for(var s in void 0!==i&&(t.scrollTop=i),void 0!==o&&(t.scrollLeft=o),void 0!==r&&(t.textContent=r),n)if(n.hasOwnProperty(s)){var u=0===s.indexOf("--"),c=St(s,n[s],u);"float"===s&&(s="cssFloat"),u?t.style.setProperty(s,c):t.style[s]=c}for(var l in a){var h=It[l]||(It[l]=l.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})));"undefined"!==typeof t.getAttribute(h)&&t.setAttribute(h,a[l])}}),(function(t){return t}));var Tt=!1,Ct=new Set,kt=function t(){var e,n=E(),i=r(Ct);try{for(i.s();!(e=i.n()).done;){for(var o=e.value,a=!0,s=!0,u=0;u<o.configs.length;u++){for(var c=o.configs[u],l=void 0,h=void 0,f=0;f<c.animatedValues.length;f++){var p=c.animatedValues[f];if(!p.done){var d=c.fromValues[f],v=c.toValues[f],y=p.lastPosition,g=v instanceof x,m=Array.isArray(c.initialVelocity)?c.initialVelocity[f]:c.initialVelocity;if(g&&(v=v.getValue()),c.immediate||!g&&!c.decay&&d===v)p.updateValue(v),p.done=!0;else if(c.delay&&n-o.startTime<c.delay)a=!1;else if(s=!1,"string"!==typeof d&&"string"!==typeof v){if(void 0!==c.duration)y=d+c.easing((n-o.startTime-c.delay)/c.duration)*(v-d),l=n>=o.startTime+c.delay+c.duration;else if(c.decay)y=d+m/(1-.998)*(1-Math.exp(-(1-.998)*(n-o.startTime))),(l=Math.abs(p.lastPosition-y)<.1)&&(v=y);else{h=void 0!==p.lastTime?p.lastTime:n,m=void 0!==p.lastVelocity?p.lastVelocity:c.initialVelocity,n>h+64&&(h=n);for(var w=Math.floor(n-h),_=0;_<w;++_){y+=1*(m+=1*((-c.tension*(y-v)+-c.friction*m)/c.mass)/1e3)/1e3}var S=!(!c.clamp||0===c.tension)&&(d<v?y>v:y<v),I=Math.abs(m)<=c.precision,T=0===c.tension||Math.abs(v-y)<=c.precision;l=S||I&&T,p.lastVelocity=m,p.lastTime=n}g&&!c.toValues[f].done&&(l=!1),l?(p.value!==v&&(y=v),p.done=!0):a=!1,p.updateValue(y),p.lastPosition=y}else p.updateValue(v),p.done=!0}}!o.props.onFrame&&o.props.native||(o.animatedProps[c.name]=c.interpolation.getValue())}!o.props.onFrame&&o.props.native||(!o.props.native&&o.onUpdate&&o.onUpdate(),o.props.onFrame&&o.props.onFrame(o.animatedProps)),a&&(Ct.delete(o),o.debouncedOnEnd({finished:!0,noChange:s}))}}catch(C){i.e(C)}finally{i.f()}Ct.size?b(t):Tt=!1},At=function(t){Ct.has(t)&&Ct.delete(t)},Nt=function(){function t(e,n){var r=this;c(this,t),void 0===n&&(n={native:!0,interpolateTo:!0,autoStart:!0}),this.getValues=function(){return r.props.native?r.interpolations:r.animatedProps},this.dependents=new Set,this.isActive=!1,this.hasChanged=!1,this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[],this.frame=void 0,this.startTime=void 0,this.lastTime=void 0,this.update(p({},e,n))}return l(t,[{key:"update",value:function(t){var e=this;this.props=p({},this.props,t);var n=this.props.interpolateTo?yt(this.props):this.props,r=n.from,o=void 0===r?{}:r,a=n.to,s=void 0===a?{}:a,u=n.config,c=void 0===u?{}:u,l=n.delay,h=void 0===l?0:l,f=n.reverse,d=n.attach,v=n.reset,y=n.immediate,g=n.autoStart,b=n.ref;if(f){var w=[s,o];o=w[0],s=w[1]}this.hasChanged=!1;var _=d&&d(this),E=v?{}:this.merged;if(this.merged=p({},o,E,s),this.animations=Object.entries(this.merged).reduce((function(t,n,r){var a,s,u=n[0],l=n[1],f=!v&&t[u]||{},d="number"===typeof l,g="string"===typeof l&&!l.startsWith("#")&&!/\d/.test(l)&&!m[l],b=!d&&!g&&Array.isArray(l),w=void 0!==o[u]?o[u]:l,E=d||b||g?l:1,S=dt(c,u);if(_&&(E=_.animations[u].parent),void 0===S.decay&&pt(f.changes,l))return t;if(e.hasChanged=!0,d||g)a=s=f.parent||new ct(w);else if(b)a=s=f.parent||new lt(w);else{var I=f.interpolation&&f.interpolation.calc(f.parent.value);f.parent?(a=f.parent).setValue(0,!1):a=new ct(0);var T={output:[void 0!==I?I:w,l]};f.interpolation?(s=f.interpolation,f.interpolation.updateConfig(T)):s=a.interpolate(T)}dt(y,u)&&a.setValue(l,!1);var C=ft(a.getPayload());return C.forEach((function(t){return t.prepare(e)})),p({},t,i({},u,p({},f,{name:u,parent:a,interpolation:s,animatedValues:C,changes:l,fromValues:ft(a.getValue()),toValues:ft(_?E.getPayload():E),immediate:dt(y,u),delay:ht(S.delay,h||0),initialVelocity:ht(S.velocity,0),clamp:ht(S.clamp,!1),precision:ht(S.precision,.01),tension:ht(S.tension,170),friction:ht(S.friction,26),mass:ht(S.mass,1),duration:S.duration,easing:ht(S.easing,(function(t){return t})),decay:S.decay})))}),this.animations),this.hasChanged)for(var S in this.configs=vt(this.animations),this.animatedProps={},this.interpolations={},this.animations)this.interpolations[S]=this.animations[S].interpolation,this.animatedProps[S]=this.animations[S].interpolation.getValue();for(var I=arguments.length,T=new Array(I>1?I-1:0),C=1;C<I;C++)T[C-1]=arguments[C];b||!g&&!T.length||this.start.apply(this,T);var k=T[0],A=T[1];return this.onEnd="function"===typeof k&&k,this.onUpdate=A,this.getValues()}},{key:"start",value:function(t,e){var n,r=this;return this.startTime=E(),this.isActive&&this.stop(),this.isActive=!0,this.onEnd="function"===typeof t&&t,this.onUpdate=e,this.props.onStart&&this.props.onStart(),n=this,Ct.has(n)||(Ct.add(n),Tt||b(kt),Tt=!0),new Promise((function(t){return r.resolve=t}))}},{key:"stop",value:function(t){void 0===t&&(t=!1),t&&vt(this.animations).forEach((function(t){return t.changes=void 0})),this.debouncedOnEnd({finished:t})}},{key:"destroy",value:function(){At(this),this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[]}},{key:"debouncedOnEnd",value:function(t){At(this),this.isActive=!1;var e=this.onEnd;this.onEnd=null,e&&e(t),this.resolve&&this.resolve(),this.resolve=null}}]),t}(),Ot=function(t){s(n,t);var e=u(n);function n(t,r){var i;return c(this,n),i=e.call(this),t.style&&(t=p({},t,{style:I(t.style)})),i.payload=t,i.update=r,i.attach(),i}return n}(M);function Pt(t){var e=function(e){s(r,e);var n=u(r);function r(t){var e;return c(this,r),(e=n.call(this)).callback=function(){e.node&&(!1===g.fn(e.node,e.propsAnimated.getAnimatedValue(),a(e))&&e.forceUpdate())},e.attachProps(t),e}return l(r,[{key:"componentWillUnmount",value:function(){this.propsAnimated&&this.propsAnimated.detach()}},{key:"setNativeProps",value:function(t){!1===g.fn(this.node,t,this)&&this.forceUpdate()}},{key:"attachProps",value:function(t){t.forwardRef;var e=f(t,["forwardRef"]),n=this.propsAnimated;this.propsAnimated=new Ot(e,this.callback),n&&n.detach()}},{key:"shouldComponentUpdate",value:function(t){var e=t.style,n=f(t,["style"]),r=this.props,i=r.style;return(!pt(f(r,["style"]),n)||!pt(i,e))&&(this.attachProps(t),!0)}},{key:"render",value:function(){var e=this,n=this.propsAnimated.getValue(),r=(n.scrollTop,n.scrollLeft,f(n,["scrollTop","scrollLeft"]));return d.createElement(t,p({},r,{ref:function(t){return e.node=bt(t,e.props.forwardRef)}}))}}]),r}(d.Component);return d.forwardRef((function(t,n){return d.createElement(e,p({},t,{forwardRef:n}))}))}var xt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Rt=function(t){s(n,t);var e=u(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).state={lastProps:{from:{},to:{}},propsChanged:!1,internal:!1},t.controller=new Nt(null,null),t.didUpdate=!1,t.didInject=!1,t.finished=!0,t.start=function(){t.finished=!1;var e=t.mounted;t.controller.start((function(n){return t.finish(p({},n,{wasMounted:e}))}),t.update)},t.stop=function(){return t.controller.stop(!0)},t.update=function(){return t.mounted&&t.setState({internal:!0})},t.finish=function(e){var n=e.finished,r=e.noChange,i=e.wasMounted;t.finished=!0,t.mounted&&n&&(!t.props.onRest||!i&&r||t.props.onRest(t.controller.merged),t.mounted&&t.didInject&&(t.afterInject=mt(t.props),t.setState({internal:!0})),t.mounted&&(t.didInject||t.props.after)&&t.setState({internal:!0}),t.didInject=!1)},t}return l(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate(),this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.stop()}},{key:"render",value:function(){var t=this,e=this.props.children,n=this.state.propsChanged;if(this.props.inject&&n&&!this.injectProps){var r=this.props.inject(this.props,(function(e){t.injectProps=e,t.setState({internal:!0})}));if(r)return r}(this.injectProps||n)&&(this.didInject=!1,this.injectProps?(this.controller.update(this.injectProps),this.didInject=!0):n&&this.controller.update(this.props),this.didUpdate=!0,this.afterInject=void 0,this.injectProps=void 0);var i=p({},this.controller.getValues(),this.afterInject);return this.finished&&(i=p({},i,this.props.after)),Object.keys(i).length?e(i):null}},{key:"componentDidUpdate",value:function(){this.didUpdate&&this.start(),this.didUpdate=!1}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.internal,r=e.lastProps,i=t.from,o=t.to,a=t.reset,s=t.force;return{propsChanged:!pt(o,r.to)||!pt(i,r.from)||a&&!n||s&&!n,lastProps:t,internal:!1}}}]),n}(d.Component);Rt.defaultProps={from:{},to:{},config:xt.default,native:!1,immediate:!1,reset:!1,force:!1,inject:y};var Dt=function(t){s(n,t);var e=u(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).first=!0,t.instances=new Set,t.hook=function(e,n,r,i){return t.instances.add(e),(i?n===r-1:0===n)?void 0:Array.from(t.instances)[i?n+1:n-1]},t}return l(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.items,r=e.children,i=e.from,o=void 0===i?{}:i,a=e.initial,s=e.reverse,u=e.keys,c=e.delay,l=e.onRest,h=f(e,["items","children","from","initial","reverse","keys","delay","onRest"]),v=ft(n);return ft(v).map((function(e,n){return d.createElement(Rt,p({onRest:0===n?l:null,key:"function"===typeof u?u(e):ft(u)[n],from:t.first&&void 0!==a?a||{}:o},h,{delay:0===n&&c||void 0,attach:function(e){return t.hook(e,n,v.length,s)},children:function(t){var i=r(e,n);return i?i(t):null}}))}))}},{key:"componentDidUpdate",value:function(t){this.first=!1,t.items!==this.props.items&&this.instances.clear()}}]),n}(d.PureComponent);Dt.defaultProps={keys:function(t){return t}};var Lt="__default",Mt=function(t){s(n,t);var e=u(n);function n(){var t,r;return c(this,n),t=e.apply(this,arguments),r=a(t),t.guid=0,t.state={props:{},resolve:function(){return null},last:!0,index:0},t.next=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=0),r.running=!0,new Promise((function(i){r.mounted&&r.setState((function(r){return{props:t,resolve:i,last:e,index:n}}),(function(){return r.running=!1}))}))},t}return l(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.componentDidUpdate({})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this,n=this,r=this.props,i=r.states,o=r.filter,a=r.state;(t.state!==this.props.state||this.props.reset&&!this.running||!pt(i[a],t.states[t.state]))&&i&&a&&i[a]&&function(){var t=++e.guid,r=i[a];if(r)if(Array.isArray(r))for(var s=Promise.resolve(),u=function(n){var i=n,a=r[i],u=i===r.length-1;s=s.then((function(){return t===e.guid&&e.next(o(a),u,i)}))},c=0;c<r.length;c++)u(c);else if("function"===typeof r){var l=0;r((function(e,r){return void 0===r&&(r=!1),t===n.guid&&n.next(o(e),r,l++)}),(function(){return b((function(){return e.instance&&e.instance.stop()}))}),e.props)}else e.next(o(i[a]))}()}},{key:"render",value:function(){var t=this,e=this.state,n=e.props,r=e.resolve,i=e.last,o=e.index;if(!n||0===Object.keys(n).length)return null;var a=this.props,s=(a.state,a.filter,a.states,a.config),u=a.primitive,c=a.onRest,l=a.forwardRef,h=f(a,["state","filter","states","config","primitive","onRest","forwardRef"]);return Array.isArray(s)&&(s=s[o]),d.createElement(u,p({ref:function(e){return t.instance=bt(e,l)},config:s},h,n,{onRest:function(t){r(t),c&&i&&c(t)}}))}}]),n}(d.PureComponent);Mt.defaultProps={state:Lt};var Ft=d.forwardRef((function(t,e){return d.createElement(Mt,p({},t,{forwardRef:e}))}));Ft.create=function(t){return function(e,n){return void 0===n&&(n=function(t){return t}),("function"===typeof e||Array.isArray(e))&&(e=i({},Lt,e)),function(r){return d.createElement(Mt,p({primitive:t,states:e,filter:n},r))}}},Ft.Spring=function(t){return Ft.create(Rt)(t,yt)},Ft.Trail=function(t){return Ft.create(Dt)(t,yt)};var jt=0,Ut=function(t){var e=t.items,n=t.keys,r=f(t,["items","keys"]);return e=ft(void 0!==e?e:null),n="function"===typeof n?e.map(n):ft(n),p({items:e,keys:n.map((function(t){return String(t)}))},r)},Vt=function(t){s(n,t);var e=u(n);function n(t){var r;return c(this,n),(r=e.call(this,t)).destroyItem=function(t,e,n){return function(i){var o=r.props,a=o.onRest,s=o.onDestroyed;r.mounted&&(s&&s(t),r.setState((function(t){return{deleted:t.deleted.filter((function(t){return t.key!==e}))}})),a&&a(t,n,i))}},r.state={first:!0,transitions:[],current:{},deleted:[],prevProps:t},r}return l(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}}]),l(n,[{key:"render",value:function(){var t=this,e=this.props,n=(e.initial,e.from,e.enter,e.leave,e.update,e.onDestroyed,e.keys,e.items,e.onFrame),r=e.onRest,o=e.onStart,a=(e.trail,e.config,e.children),s=(e.unique,e.reset),u=f(e,["initial","from","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","trail","config","children","unique","reset"]);return this.state.transitions.map((function(e,c){var l=e.state,h=e.key,f=e.item,v=e.from,y=e.to,g=e.trail,m=e.config,b=e.destroyed;return d.createElement(Ft,p({reset:s&&"enter"===l,primitive:Rt,state:l,filter:yt,states:i({},l,y),key:h,onRest:b?t.destroyItem(f,h,l):r&&function(t){return r(f,l,t)},onStart:o&&function(){return o(f,l)},onFrame:n&&function(t){return n(f,l,t)},delay:g,config:m},u,{from:v,children:function(t){var e=a(f,l,c);return e?e(t):null}}))}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.first,r=e.prevProps,i=f(e,["first","prevProps"]),a=Ut(t),s=a.items,u=a.keys,c=a.initial,l=a.from,h=a.enter,d=a.leave,v=a.update,y=a.trail,g=void 0===y?0:y,m=a.unique,b=a.config,w=Ut(r),_=w.keys,E=w.items,S=p({},i.current),I=o(i.deleted),T=Object.keys(S),C=new Set(T),k=new Set(u),A=u.filter((function(t){return!C.has(t)})),N=i.transitions.filter((function(t){return!t.destroyed&&!k.has(t.originalKey)})).map((function(t){return t.originalKey})),O=u.filter((function(t){return C.has(t)})),P=0;A.forEach((function(t){m&&I.find((function(e){return e.originalKey===t}))&&(I=I.filter((function(e){return e.originalKey!==t})));var e=u.indexOf(t),r=s[e],i="enter";S[t]={state:i,originalKey:t,key:m?String(t):jt++,item:r,trail:P+=g,config:dt(b,r,i),from:dt(n&&void 0!==c?c||{}:l,r),to:dt(h,r)}})),N.forEach((function(t){var e=_.indexOf(t),n=E[e],r="leave";I.push(p({},S[t],{state:r,destroyed:!0,left:_[Math.max(0,e-1)],right:_[Math.min(_.length,e+1)],trail:P+=g,config:dt(b,n,r),to:dt(d,n)})),delete S[t]})),O.forEach((function(t){var e=u.indexOf(t),n=s[e],r="update";S[t]=p({},S[t],{item:n,state:r,trail:P+=g,config:dt(b,n,r),to:dt(v,n)})}));var x=u.map((function(t){return S[t]}));return I.forEach((function(t){var e,n=t.left,r=t.right,i=f(t,["left","right"]);-1!==(e=x.findIndex((function(t){return t.originalKey===n})))&&(e+=1),-1===e&&(e=x.findIndex((function(t){return t.originalKey===r}))),-1===e&&(e=I.findIndex((function(t){return t.originalKey===n}))),-1===e&&(e=I.findIndex((function(t){return t.originalKey===r}))),e=Math.max(0,e),x=[].concat(o(x.slice(0,e)),[i],o(x.slice(e)))})),{first:n&&0===A.length,transitions:x,current:S,deleted:I,prevProps:t}}}]),n}(d.PureComponent);Vt.defaultProps={keys:function(t){return t},unique:!1,reset:!1};var qt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(t,e){return t[e]=Pt(e),t}),Pt);e.Spring=Rt,e.Keyframes=Ft,e.Transition=Vt,e.Trail=Dt,e.Controller=Nt,e.config=xt,e.animated=qt,e.interpolate=function(t,e,n){return t&&new st(t,e,n)},e.Globals=P},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=t[c],h=e[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},function(t,e,n){"use strict";e.a=function(t){function e(t,r,u,c,f){for(var p,d,v,y,w,E=0,S=0,I=0,T=0,C=0,x=0,D=v=p=0,M=0,F=0,j=0,U=0,V=u.length,q=V-1,B="",z="",W="",H="";M<V;){if(d=u.charCodeAt(M),M===q&&0!==S+T+I+E&&(0!==S&&(d=47===S?10:47),T=I=E=0,V++,q++),0===S+T+I+E){if(M===q&&(0<F&&(B=B.replace(h,"")),0<B.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}d=59}switch(d){case 123:for(p=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(d=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(M+1)){case 42:case 47:t:{for(D=M+1;D<q;++D)switch(u.charCodeAt(D)){case 47:if(42===d&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break t}break;case 10:if(47===d){M=D+1;break t}}M=D}}break;case 91:d++;case 40:d++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==d;);}if(0===v)break;M++}switch(v=u.substring(U,M),0===p&&(p=(B=B.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(B=B.replace(h,"")),d=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=e(r,F,v,d,f+1)).length,0<R&&(w=s(3,v,F=n(P,B,j),r,A,k,U,d,f,c),B=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(d=0,v="")),0<U)switch(d){case 115:B=B.replace(_,a);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(g,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v="";break;default:v=e(r,n(r,B,j),v,c,f+1)}W+=v,v=j=F=D=p=0,B="",d=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(h,""):B).trim()).length))switch(0===D&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(U=(B=B.replace(" ",":")).length),0<R&&void 0!==(w=s(1,B,r,t,A,k,z.length,c,f,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),d=B.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(z+=i(B,p,d,B.charCodeAt(2)))}j=F=D=p=0,B="",d=u.charCodeAt(++M)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==c&&0<B.length&&(F=1,B+="\0"),0<R*L&&s(0,B,r,t,A,k,z.length,c,f,c),k=1,A++;break;case 59:case 125:if(0===S+T+I+E){k++;break}default:switch(k++,y=u.charAt(M),d){case 9:case 32:if(0===T+E+S)switch(C){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===T+S+E&&(F=j=1,y="\f"+y);break;case 108:if(0===T+S+E+N&&0<D)switch(M-D){case 2:112===C&&58===u.charCodeAt(M-3)&&(N=C);case 8:111===x&&(N=x)}break;case 58:0===T+S+E&&(D=M);break;case 44:0===S+I+T+E&&(F=1,y+="\r");break;case 34:case 39:0===S&&(T=T===d?0:0===T?d:T);break;case 91:0===T+S+I&&E++;break;case 93:0===T+S+I&&E--;break;case 41:0===T+S+E&&I--;break;case 40:if(0===T+S+E){if(0===p)switch(2*C+3*x){case 533:break;default:p=1}I++}break;case 64:0===S+I+T+E+D+v&&(v=1);break;case 42:case 47:if(!(0<T+E+I))switch(S){case 0:switch(2*d+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===d&&42===C&&U+2!==M&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,M+1)),y="",S=0)}}0===S&&(B+=y)}x=C,C=d,M++}if(0<(U=z.length)){if(F=r,0<R&&(void 0!==(w=s(2,z,F,t,A,k,U,c,f,c))&&0===(z=w).length))return H+z+W;if(z=F.join(",")+"{"+z+"}",0!==O*N){switch(2!==O||o(z,2)||(N=0),N){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(m,"::-webkit-input-$1")+z.replace(m,"::-moz-$1")+z.replace(m,":-ms-input-$1")+z}N=0}}return H+z+W}function n(t,e,n){var i=e.trim().split(v);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=r(t,e[s],n).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var c=0;c<a;++c)e[u++]=r(t[c]+" ",i[s],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(y,"$1"+t.trim());case 58:return t.trim()+e.replace(y,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(y,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",s=2*e+3*n+4*r;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===O||2===O&&o(u,1)?"-webkit-"+u+u:u}if(0===O||2===O&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(I,"$1"),n,e)}function a(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(E," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,a,s,u,l){for(var h,f=0,p=e;f<R;++f)switch(h=x[f].call(c,t,p,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function u(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!==typeof t?O=1:(O=2,D=t):O=0),u}function c(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,A,k,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=e(P,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,A,k,o.length,0,0,0))&&(o=i)),"",N=0,k=A=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,k=1,A=1,N=0,O=1,P=[],x=[],R=0,D=null,L=0;return c.use=function t(e){switch(e){case void 0:case null:R=x.length=0;break;default:if("function"===typeof e)x[R++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else L=0|!!e}return t},c.set=u,void 0!==t&&u(t),c}},function(t,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e,n){(function(e,n){t.exports=function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function u(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(y&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m&&y&&w(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t,e,n=a(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=s(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var n,r=(e=e||{}).body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<E.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))})),e}function p(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}var d,v,y,g,m,b,w,_,E,S;(ft="undefined"!=typeof self?self:void 0).fetch||(d="URLSearchParams"in ft,v="Symbol"in ft&&"iterator"in Symbol,y="FileReader"in ft&&"Blob"in ft&&function(){try{return new Blob,!0}catch(i){return!1}}(),g="FormData"in ft,(m="ArrayBuffer"in ft)&&(b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&-1<b.indexOf(Object.prototype.toString.call(t))}),o.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},o.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},o.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},v&&(o.prototype[Symbol.iterator]=o.prototype.entries),E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},l.call(h.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t},S=[301,302,303,307,308],p.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},ft.Headers=o,ft.Request=h,ft.Response=p,ft.fetch=function(t,e){return new Promise((function(n,r){var i=new h(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",t=new o,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":");(e=n.shift().trim())&&(n=n.join(":").trim(),t.append(e,n))})),t)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new p(r,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&y&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},ft.fetch.polyfill=!0);var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function T(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function C(t){try{return!!t()}catch(t){return!0}}function k(t){return"object"==typeof t?null!==t:"function"==typeof t}function A(t){return V?U.createElement(t):{}}function N(t){if(!k(t))throw TypeError(String(t)+" is not an object");return t}function O(t,e){if(!k(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!k(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!k(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!k(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function P(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function x(t,e){try{W(M,t,e)}catch(i){M[t]=e}return e}function R(t,e){return G.call(t,e)}function D(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Q+Y).toString(36)}function L(t){return R(J,t)||($&&R(Z,t)?J[t]=Z[t]:J[t]=tt("Symbol."+t)),J[t]}var M=(dt=function(t){return t&&t.Math==Math&&t})("object"==typeof globalThis&&globalThis)||dt("object"==typeof window&&window)||dt("object"==typeof self&&self)||dt("object"==typeof I&&I)||Function("return this")(),F=!1,j=!C((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),U=M.document,V=k(U)&&k(U.createElement),q=!j&&!C((function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})),B=Object.defineProperty,z={f:j?B:function(t,e,n){if(N(t),e=O(e,!0),N(n),q)try{return B(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},W=j?function(t,e,n){return z.f(t,e,P(1,n))}:function(t,e,n){return t[e]=n,t},H=M[St="__core-js_shared__"]||x(St,{}),K=T((function(t){(t.exports=function(t,e){return H[t]||(H[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),G={}.hasOwnProperty,Q=0,Y=Math.random(),$=!!Object.getOwnPropertySymbols&&!C((function(){return!String(Symbol())})),X=$&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=K("wks"),Z=M.Symbol,tt=X?Z:Z&&Z.withoutSetter||D;(ce={})[L("toStringTag")]="z";var et="[object z]"===String(ce),nt=Function.toString;"function"!=typeof H.inspectSource&&(H.inspectSource=function(t){return nt.call(t)});var rt,it,ot,at,st,ut,ct,lt,ht=H.inspectSource,ft="function"==typeof(Mt=M.WeakMap)&&/native code/.test(ht(Mt)),pt=K("keys"),dt=function(t){return pt[t]||(pt[t]=D(t))},vt={};function yt(t){return bt.call(t).slice(8,-1)}I=M.WeakMap,ct=ft?(rt=new I,it=rt.get,ot=rt.has,at=rt.set,st=function(t,e){return at.call(rt,t,e),e},ut=function(t){return it.call(rt,t)||{}},function(t){return ot.call(rt,t)}):(lt=dt("state"),vt[lt]=!0,st=function(t,e){return W(t,lt,e),e},ut=function(t){return R(t,lt)?t[lt]:{}},function(t){return R(t,lt)});var gt={set:st,get:ut,has:ct,enforce:function(t){return ct(t)?ut(t):st(t,{})},getterFor:function(t){return function(e){var n;if(!k(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},mt=T((function(t){var e=gt.get,n=gt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;o=!!o&&!!o.noTargetGet,"function"==typeof i&&("string"!=typeof e||R(i,"name")||W(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==M?(a?!o&&t[e]&&(s=!0):delete t[e],s?t[e]=i:W(t,e,i)):s?t[e]=i:x(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ht(this)}))})),bt={}.toString,wt=L("toStringTag"),_t="Arguments"==yt(function(){return arguments}()),Et=et?yt:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),wt))?t:_t?yt(e):"Object"==(t=yt(e))&&"function"==typeof e.callee?"Arguments":t},St=et?{}.toString:function(){return"[object "+Et(this)+"]"};function It(t){return isNaN(t=+t)?0:(0<t?Lt:Dt)(t)}function Tt(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Ct(t){return Vt(Tt(t))}function kt(t){return"function"==typeof t?t:void 0}function At(t,e){return arguments.length<2?kt(zt[t])||kt(M[t]):zt[t]&&zt[t][e]||M[t]&&M[t][e]}function Nt(t){return 0<t?Wt(It(t),9007199254740991):0}function Ot(t,e){var n,r=Ct(t),i=0,o=[];for(n in r)!R(vt,n)&&R(r,n)&&o.push(n);for(;e.length>i;)R(r,n=e[i++])&&(~Gt(o,n)||o.push(n));return o}function Pt(t,e){for(var n=Jt(e),r=z.f,i=Bt.f,o=0;o<n.length;o++){var a=n[o];R(t,a)||r(t,a,i(e,a))}}function xt(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,u=a?M:s?M[o]||x(o,{}):(M[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=oe(u,n))&&i.value:u[n],!ie(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Pt(r,i)}(t.sham||i&&i.sham)&&W(r,"sham",!0),mt(u,n,r,t)}}function Rt(t){return Object(Tt(t))}et||mt(Object.prototype,"toString",St,{unsafe:!0});var Dt=Math.ceil,Lt=Math.floor,Mt={codeAt:(ce=function(t){return function(e,n){var r,i=String(Tt(e)),o=It(n);return e=i.length,o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:ce(!0)},Ft=(ft={}.propertyIsEnumerable,Object.getOwnPropertyDescriptor),jt={f:Ft&&!ft.call({1:2},1)?function(t){return!!(t=Ft(this,t))&&t.enumerable}:ft},Ut="".split,Vt=C((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==yt(t)?Ut.call(t,""):Object(t)}:Object,qt=Object.getOwnPropertyDescriptor,Bt={f:j?qt:function(t,e){if(t=Ct(t),e=O(e,!0),q)try{return qt(t,e)}catch(t){}if(R(t,e))return P(!jt.f.call(t,e),t[e])}},zt=M,Wt=Math.min,Ht=Math.max,Kt=Math.min,Gt=((I=function(t){return function(e,n,r){var i,o=Ct(e),a=Nt(o.length),s=function(t,e){return(t=It(t))<0?Ht(t+e,0):Kt(t,e)}(r,a);if(t&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}})(!0),I(!1)),Qt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Yt=Qt.concat("length","prototype"),$t={f:Object.getOwnPropertyNames||function(t){return Ot(t,Yt)}},Xt={f:Object.getOwnPropertySymbols},Jt=At("Reflect","ownKeys")||function(t){var e=$t.f(N(t)),n=Xt.f;return n?e.concat(n(t)):e},Zt=/#|\.prototype\./,te=(et=function(t,e){return(t=ee[te(t)])==re||t!=ne&&("function"==typeof e?C(e):!!e)}).normalize=function(t){return String(t).replace(Zt,".").toLowerCase()},ee=et.data={},ne=et.NATIVE="N",re=et.POLYFILL="P",ie=et,oe=Bt.f,ae=(St=!C((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),dt("IE_PROTO")),se=Object.prototype,ue=St?Object.getPrototypeOf:function(t){return R(t=Rt(t),ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?se:null},ce=L("iterator");function le(){}function he(t){return"<script>"+t+"</"+ge+">"}ft=!1,[].keys&&("next"in(In=[].keys())?(Cn=ue(ue(In)))!==Object.prototype&&(An=Cn):ft=!0),null==An&&(An={}),R(An,ce)||W(An,ce,(function(){return this})),I={IteratorPrototype:An,BUGGY_SAFARI_ITERATORS:ft};var fe,pe=Object.keys||function(t){return Ot(t,Qt)},de=j?Object.defineProperties:function(t,e){N(t);for(var n,r=pe(e),i=r.length,o=0;o<i;)z.f(t,n=r[o++],e[n]);return t},ve=At("document","documentElement"),ye="prototype",ge="script",me=dt("IE_PROTO"),be=function(){try{fe=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;be=fe?function(t){t.write(he("")),t.close();var e=t.parentWindow.Object;return t=null,e}(fe):((t=A("iframe")).style.display="none",ve.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(he("document.F=Object")),t.close(),t.F);for(var e=Qt.length;e--;)delete be[ye][Qt[e]];return be()};function we(t,e,n){t&&!R(t=n?t:t.prototype,Ce)&&Te(t,Ce,{configurable:!0,value:e})}function _e(){return this}function Ee(){return this}function Se(t,e,n,r,i,o,a){function s(t){if(t===i&&d)return d;if(!Pe&&t in f)return f[t];switch(t){case"keys":case Re:case De:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=Ie(Ae,{next:P(1,n)}),we(t,e,!1),ke[e]=_e}(n,e,r);var u,c,l=e+" Iterator",h=!1,f=t.prototype,p=f[xe]||f["@@iterator"]||i&&f[i],d=!Pe&&p||s(i);if((r="Array"==e&&f.entries||p)&&(t=ue(r.call(new t)),Oe!==Object.prototype&&t.next&&(ue(t)!==Oe&&(Ne?Ne(t,Oe):"function"!=typeof t[xe]&&W(t,xe,Ee)),we(t,l,!0))),i==Re&&p&&p.name!==Re&&(h=!0,d=function(){return p.call(this)}),f[xe]!==d&&W(f,xe,d),ke[e]=d,i)if(u={values:s(Re),keys:o?d:s("keys"),entries:s(De)},a)for(c in u)!Pe&&!h&&c in f||mt(f,c,u[c]);else xt({target:e,proto:!0,forced:Pe||h},u);return u}vt[me]=!0;var Ie=Object.create||function(t,e){var n;return null!==t?(le[ye]=N(t),n=new le,le[ye]=null,n[me]=t):n=be(),void 0===e?n:de(n,e)},Te=z.f,Ce=L("toStringTag"),ke={},Ae=I.IteratorPrototype,Ne=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return N(n),function(t){if(!k(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Oe=I.IteratorPrototype,Pe=I.BUGGY_SAFARI_ITERATORS,xe=L("iterator"),Re="values",De="entries",Le=Mt.charAt,Me="String Iterator",Fe=gt.set,je=gt.getterFor(Me);Se(String,"String",(function(t){Fe(this,{type:Me,string:String(t),index:0})}),(function(){var t=je(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=Le(e,n),t.index+=n.length,{value:n,done:!1})}));var Ue={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ve=L("unscopables"),qe=Array.prototype;null==qe[Ve]&&z.f(qe,Ve,{configurable:!0,value:Ie(null)}),et=function(t){qe[Ve][t]=!0};var Be="Array Iterator",ze=gt.set,We=gt.getterFor(Be),He=Se(Array,"Array",(function(t,e){ze(this,{type:Be,target:Ct(t),index:0,kind:e})}),(function(){var t=We(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ke.Arguments=ke.Array,et("keys"),et("values"),et("entries");var Ke,Ge=L("iterator"),Qe=L("toStringTag"),Ye=He.values;for(Ke in Ue){var $e=M[Ke],Xe=$e&&$e.prototype;if(Xe){if(Xe[Ge]!==Ye)try{W(Xe,Ge,Ye)}catch(os){Xe[Ge]=Ye}if(Xe[Qe]||W(Xe,Qe,Ke),Ue[Ke])for(var Je in He)if(Xe[Je]!==He[Je])try{W(Xe,Je,He[Je])}catch(os){Xe[Je]=He[Je]}}}function Ze(t,e,n){for(var r in e)mt(t,r,e[r],n);return t}function tn(t){var e=At(t);t=z.f,j&&e&&!e[cn]&&t(e,cn,{configurable:!0,get:function(){return this}})}function en(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function nn(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function rn(t){return void 0!==t&&(ke.Array===t||hn[ln]===t)}function on(t,e,n){if(en(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function an(t){if(null!=t)return t[fn]||t["@@iterator"]||ke[Et(t)]}function sn(t,e,n,r){try{return r?e(N(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&N(i.call(t)),e}}var un=M.Promise,cn=L("species"),ln=L("iterator"),hn=Array.prototype,fn=L("iterator"),pn=T((function(t){function e(t,e){this.stopped=t,this.result=e}(t.exports=function(t,n,r,i,o){var a,s,u,c,l,h,f=on(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(o=an(t)))throw TypeError("Target is not iterable");if(rn(o)){for(s=0,u=Nt(t.length);s<u;s++)if((c=i?f(N(h=t[s])[0],h[1]):f(t[s]))&&c instanceof e)return c;return new e(!1)}a=o.call(t)}for(l=a.next;!(h=l.call(a)).done;)if("object"==typeof(c=sn(a,f,h.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),dn=L("iterator"),vn=!1;try{var yn=0,gn={next:function(){return{done:!!yn++}},return:function(){vn=!0}};gn[dn]=function(){return this},Array.from(gn,(function(){throw 2}))}catch(os){}function mn(t,e){if(!e&&!vn)return!1;var n=!1;try{var r={};r[dn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function bn(t,e){var n;return void 0===(t=N(t).constructor)||null==(n=N(t)[Sn])?e:en(n)}function wn(t){var e;Pn.hasOwnProperty(t)&&(e=Pn[t],delete Pn[t],e())}function _n(t){return function(){wn(t)}}var En,Sn=L("species"),In=(St=At("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(St)),Tn=M.location,Cn=M.setImmediate,kn=(ce=M.clearImmediate,M.process),An=M.MessageChannel,Nn=M.Dispatch,On=0,Pn={},xn="onreadystatechange";ft=function(t){wn(t.data)},I=function(t){M.postMessage(t+"",Tn.protocol+"//"+Tn.host)},Cn&&ce||(Cn=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Pn[++On]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},En(On),On},ce=function(t){delete Pn[t]},"process"==yt(kn)?En=function(t){kn.nextTick(_n(t))}:Nn&&Nn.now?En=function(t){Nn.now(_n(t))}:An&&!In?(An=(Mt=new An).port2,Mt.port1.onmessage=ft,En=on(An.postMessage,An,1)):!M.addEventListener||"function"!=typeof postMessage||M.importScripts||C(I)||"file:"===Tn.protocol?En=xn in A("script")?function(t){ve.appendChild(A("script"))[xn]=function(){ve.removeChild(this),wn(t)}}:function(t){setTimeout(_n(t),0)}:(En=I,M.addEventListener("message",ft,!1))),I={set:Cn,clear:ce},ft=Bt.f;var Rn,Dn,Ln,Mn,Fn,jn,Un,Vn,qn=I.set,Bn=(Cn=M.MutationObserver||M.WebKitMutationObserver,M.process),zn=(ce=M.Promise,"process"==yt(Bn));function Wn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=en(e),this.reject=en(n)}function Hn(t,e){return N(t),k(e)&&e.constructor===t?e:((0,(t=Qn.f(t)).resolve)(e),t.promise)}function Kn(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}(ft=(ft=ft(M,"queueMicrotask"))&&ft.value)||(Rn=function(){var t,e;for(zn&&(t=Bn.domain)&&t.exit();Dn;){e=Dn.fn,Dn=Dn.next;try{e()}catch(t){throw Dn?Mn():Ln=void 0,t}}Ln=void 0,t&&t.enter()},Mn=zn?function(){Bn.nextTick(Rn)}:Cn&&!In?(Fn=!0,jn=document.createTextNode(""),new Cn(Rn).observe(jn,{characterData:!0}),function(){jn.data=Fn=!Fn}):ce&&ce.resolve?(Un=ce.resolve(void 0),Vn=Un.then,function(){Vn.call(Un,Rn)}):function(){qn.call(M,Rn)});var Gn=ft||function(t){t={fn:t,next:void 0},Ln&&(Ln.next=t),Dn||(Dn=t,Mn()),Ln=t},Qn={f:function(t){return new Wn(t)}};function Yn(t){var e;return!(!k(t)||"function"!=typeof(e=t.then))&&e}function $n(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Gn((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{h?(o||(2===e.rejection&&Sr(t,e),e.rejection=1),!0===h?s=i:(d&&d.enter(),s=h(i),d&&(d.exit(),c=!0)),s===l.promise?p(fr("Promise-chain cycle")):(u=Yn(s))?u.call(s,f,p):f(s)):p(i)}catch(i){d&&!c&&d.exit(),p(i)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&_r(t,e)})))}function Xn(t,e,n){var r;br?((r=pr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),M.dispatchEvent(r)):r={promise:e,reason:n},(e=M["on"+t])?e(r):t===wr&&function(t,e){var n=M.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Jn(t,e,n,r){return function(i){t(e,n,i,r)}}function Zn(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,$n(t,e,!0))}ft=(ce=M.process)&&ce.versions,(ce=ft&&ft.v8)?Dr=(Qr=ce.split("."))[0]+Qr[1]:St&&(!(Qr=St.match(/Edge\/(\d+)/))||74<=Qr[1])&&(Qr=St.match(/Chrome\/(\d+)/))&&(Dr=Qr[1]);var tr,er,nr,rr,ir=Dr&&+Dr,or=I.set,ar=L("species"),sr="Promise",ur=gt.get,cr=gt.set,lr=gt.getterFor(sr),hr=un,fr=M.TypeError,pr=M.document,dr=M.process,vr=At("fetch"),yr=Qn.f,gr=yr,mr="process"==yt(dr),br=!!(pr&&pr.createEvent&&M.dispatchEvent),wr="unhandledrejection",_r=(ce=(ft=ie(sr,(function(){if(ht(hr)===String(hr)){if(66===ir)return!0;if(!mr&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=ir&&/native code/.test(hr))return!1;function t(t){t((function(){}),(function(){}))}var e=hr.resolve(1);return(e.constructor={})[ar]=t,!(e.then((function(){}))instanceof t)})))||!mn((function(t){hr.all(t).catch((function(){}))})),function(t,e){or.call(M,(function(){var n,r=e.value;if(Er(e)&&(n=Kn((function(){mr?dr.emit("unhandledRejection",r,t):Xn(wr,t,r)})),e.rejection=mr||Er(e)?2:1,n.error))throw n.value}))}),Er=function(t){return 1!==t.rejection&&!t.parent},Sr=function(t,e){or.call(M,(function(){mr?dr.emit("rejectionHandled",t):Xn("rejectionhandled",t,e.value)}))},Ir=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw fr("Promise can't be resolved itself");var o=Yn(r);o?Gn((function(){var i={done:!1};try{o.call(r,Jn(t,e,i,n),Jn(Zn,e,i,n))}catch(r){Zn(e,i,r,n)}})):(n.value=r,n.state=1,$n(e,n,!1))}catch(r){Zn(e,{done:!1},r,n)}}};ft&&(hr=function(t){nn(this,hr,sr),en(t),tr.call(this);var e=ur(this);try{t(Jn(Ir,this,e),Jn(Zn,this,e))}catch(t){Zn(this,e,t)}},(tr=function(){cr(this,{type:sr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Ze(hr.prototype,{then:function(t,e){var n=lr(this),r=yr(bn(this,hr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=mr?dr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$n(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),er=function(){var t=new tr,e=ur(t);this.promise=t,this.resolve=Jn(Ir,t,e),this.reject=Jn(Zn,t,e)},Qn.f=yr=function(t){return t===hr||t===nr?new er:gr(t)},"function"==typeof un&&(rr=un.prototype.then,mt(un.prototype,"then",(function(t,e){var n=this;return new hr((function(t,e){rr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof vr&&xt({global:!0,enumerable:!0,forced:!0},{fetch:function(){return Hn(hr,vr.apply(M,arguments))}}))),xt({global:!0,wrap:!0,forced:ft},{Promise:hr}),we(hr,sr,!1),tn(sr),nr=At(sr),xt({target:sr,stat:!0,forced:ft},{reject:function(t){var e=yr(this);return e.reject.call(void 0,t),e.promise}}),xt({target:sr,stat:!0,forced:ft},{resolve:function(t){return Hn(this,t)}}),xt({target:sr,stat:!0,forced:ce},{all:function(t){var e=this,n=yr(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),o=[],a=0,s=1;pn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=yr(e),r=n.reject,i=Kn((function(){var i=en(e.resolve);pn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),xt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Qn.f(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),i=[],o=0,a=1;pn(t,(function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}}),xt({target:"Promise",proto:!0,real:!0,forced:St=!!un&&C((function(){un.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=bn(this,At("Promise")),n="function"==typeof t;return this.then(n?function(n){return Hn(e,t()).then((function(){return n}))}:t,n?function(n){return Hn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof un||un.prototype.finally||mt(un.prototype,"finally",At("Promise").prototype.finally),zt.Promise;var Tr=gt.set,Cr=gt.getterFor("AggregateError"),kr=function t(e,n){var r=this;if(!(r instanceof t))return new t(e,n);Ne&&(r=Ne(new Error(n),ue(r)));var i=[];return pn(e,i.push,i),j?Tr(r,{errors:i,type:"AggregateError"}):r.errors=i,void 0!==n&&W(r,"message",String(n)),r};kr.prototype=Ie(Error.prototype,{constructor:P(5,kr),message:P(5,""),name:P(5,"AggregateError")}),j&&z.f(kr.prototype,"errors",{get:function(){return Cr(this).errors},configurable:!0}),xt({global:!0},{AggregateError:kr}),xt({target:"Promise",stat:!0},{try:function(t){var e=Qn.f(this);return((t=Kn(t)).error?e.reject:e.resolve)(t.value),e.promise}});var Ar="No one promise resolved";function Nr(t,e){var n;return Pr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Pr(n.prototype))||k(n)&&null===(n=n[xr]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Or(t){throw t}xt({target:"Promise",stat:!0},{any:function(t){var e=this,n=Qn.f(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),o=[],a=0,s=1,u=!1;pn(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--s||i(new(At("AggregateError"))(o,Ar)))}))})),--s||i(new(At("AggregateError"))(o,Ar))}));return o.error&&i(o.value),n.promise}});var Pr=Array.isArray||function(t){return"Array"==yt(t)},xr=L("species"),Rr=[].push,Dr={forEach:(Qr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,u,c,l){for(var h,f,p=Rt(s),d=Vt(p),v=on(u,c,3),y=Nt(d.length),g=0,m=(l=l||Nr,e?l(s,y):n?l(s,0):void 0);g<y;g++)if((a||g in d)&&(f=v(h=d[g],g,p),t))if(e)m[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:Rr.call(m,h)}else if(i)return!1;return o?-1:r||i?i:m}})(0),map:Qr(1),filter:Qr(2),some:Qr(3),every:Qr(4),find:Qr(5),findIndex:Qr(6)},Lr=Object.defineProperty,Mr={},Fr=(I=function(t,e){if(R(Mr,t))return Mr[t];var n=[][t],r=!!R(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=R(e,0)?e[0]:Or,o=R(e,1)?e[1]:void 0;return Mr[t]=!!n&&!C((function(){if(r&&!j)return 1;var t={length:-1};r?Lr(t,1,{enumerable:!0,get:Or}):t[1]=1,n.call(t,i,o)}))},Dr.find),jr=!0;ce=I(ft="find"),ft in[]&&Array(1)[ft]((function(){jr=!1})),xt({target:"Array",proto:!0,forced:jr||!ce},{find:function(t,e){return Fr(this,t,1<arguments.length?e:void 0)}}),et(ft);var Ur=Function.call,Vr=((St=function(t,e,n){return on(Ur,M[t].prototype[e],n)})("Array","find"),Dr.findIndex),qr=!0;function Br(t,e,n){(e=O(e))in t?z.f(t,e,P(0,n)):t[e]=n}ce=I(Qr="findIndex"),Qr in[]&&Array(1)[Qr]((function(){qr=!1})),xt({target:"Array",proto:!0,forced:qr||!ce},{findIndex:function(t,e){return Vr(this,t,1<arguments.length?e:void 0)}}),et(Qr),St("Array","findIndex"),xt({target:"Array",stat:!0,forced:ft=!mn((function(t){Array.from(t)}))},{from:function(t,e,n){var r,i,o,a,s,u=Rt(t),c="function"==typeof this?this:Array,l=1<(t=arguments.length)?e:void 0,h=void 0!==l,f=(e=an(u),0);if(h&&(l=on(l,2<t?n:void 0,2)),null==e||c==Array&&rn(e))for(i=new c(r=Nt(u.length));f<r;f++)Br(i,f,h?l(u[f],f):u[f]);else for(s=(a=e.call(u)).next,i=new c;!(o=s.call(a)).done;f++)Br(i,f,h?sn(a,l,[o.value,f],!0):o.value);return i.length=f,i}}),zt.Array.from;var zr,Wr,Hr=Dr.some;function Kr(t){return k(t)&&R(ei,Et(t))}ce=!!(Wr=[].some)&&C((function(){Wr.call(null,zr||function(){throw 1},1)})),et=I("some"),xt({target:"Array",proto:!0,forced:!ce||!et},{some:function(t,e){return Hr(this,t,1<arguments.length?e:void 0)}}),St("Array","some");var Gr,Qr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Yr=(ft=z.f,M.Int8Array),$r=Yr&&Yr.prototype,Xr=(ce=(I=M.Uint8ClampedArray)&&I.prototype,Yr&&ue(Yr)),Jr=$r&&ue($r),Zr=((et=Object.prototype).isPrototypeOf,I=L("toStringTag"),D("TYPED_ARRAY_TAG")),ti=Qr&&!!Ne&&"Opera"!==Et(M.opera),ei=(Qr=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Gr in ei)M[Gr]||(ti=!1);if((!ti||"function"!=typeof Xr||Xr===Function.prototype)&&(Xr=function(){throw TypeError("Incorrect invocation")},ti))for(Gr in ei)M[Gr]&&Ne(M[Gr],Xr);if((!ti||!Jr||Jr===et)&&(Jr=Xr.prototype,ti))for(Gr in ei)M[Gr]&&Ne(M[Gr].prototype,Jr);if(ti&&ue(ce)!==Jr&&Ne(ce,Jr),j&&!R(Jr,I))for(Gr in Qr=!0,ft(Jr,I,{get:function(){return k(this)?this[Zr]:void 0}}),ei)M[Gr]&&W(M[Gr],Zr,Gr);ce=function(t){if(Kr(t))return t;throw TypeError("Target is not a typed array")},ft=function(t,e,n){if(j){if(n)for(var r in ei){var i=M[r];i&&R(i.prototype,t)&&delete i.prototype[t]}Jr[t]&&!n||mt(Jr,t,!n&&ti&&$r[t]||e)}},I=L("iterator"),Qr=M.Uint8Array;var ni=He.values,ri=He.keys,ii=He.entries,oi=ce;ce=ft,Qr=!!(ft=Qr&&Qr.prototype[I])&&("values"==ft.name||null==ft.name),ft=function(){return ni.call(oi(this))},ce("entries",(function(){return ii.call(oi(this))})),ce("keys",(function(){return ri.call(oi(this))})),ce("values",ft,!Qr),ce(I,ft,!Qr);var ai=Object.assign,si=Object.defineProperty;ft=!ai||C((function(){if(j&&1!==ai({b:1},ai(si({},"a",{enumerable:!0,get:function(){si(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ai({},t)[n]||pe(ai({},e)).join("")!=r}))?function(t){for(var e=Rt(t),n=arguments.length,r=1,i=Xt.f,o=jt.f;r<n;)for(var a,s=Vt(arguments[r++]),u=i?pe(s).concat(i(s)):pe(s),c=u.length,l=0;l<c;)a=u[l++],j&&!o.call(s,a)||(e[a]=s[a]);return e}:ai,xt({target:"Object",stat:!0,forced:Object.assign!==ft},{assign:ft}),zt.Object.assign;var ui=jt.f,ci=(ft={entries:(Qr=function(t){return function(e){for(var n,r=Ct(e),i=pe(r),o=i.length,a=0,s=[];a<o;)n=i[a++],j&&!ui.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}})(!0),values:Qr(!1)}).entries;xt({target:"Object",stat:!0},{entries:function(t){return ci(t)}}),zt.Object.entries;var li=ft.values;function hi(t){if(k(e=t)&&(void 0!==(n=e[fi])?n:"RegExp"==yt(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}xt({target:"Object",stat:!0},{values:function(t){return li(t)}}),zt.Object.values;var fi=L("match"),pi=L("match");xt({target:"String",proto:!0,forced:!(Qr=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[pi]=!1,"/./"[t](e)}catch(i){}}return!1})("includes")},{includes:function(t,e){return!!~String(Tt(this)).indexOf(hi(t),1<arguments.length?e:void 0)}}),St("String","includes"),ft=Bt.f;var di,vi="".startsWith,yi=Math.min;Qr=Qr("startsWith"),xt({target:"String",proto:!0,forced:!(di=!(Qr||!(di=ft(String.prototype,"startsWith"))||di.writable))&&!Qr},{startsWith:function(t,e){var n=String(Tt(this));return hi(t),e=Nt(yi(1<arguments.length?e:void 0,n.length)),t=String(t),vi?vi.call(n,t,e):n.slice(e,e+t.length)===t}}),St("String","startsWith"),xt({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(Tt(this)),n="",r=It(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),St("String","repeat");var gi,mi=L("species"),bi=L("isConcatSpreadable"),wi=9007199254740991,_i="Maximum allowed index exceeded";function Ei(t){var e=zt.Symbol||(zt.Symbol={});R(e,t)||Ni(e,t,{value:Ai.f(t)})}function Si(t,e){var n=zi[t]=Ie(Fi[Ri]);return Di(n,{type:xi,tag:t,description:e}),j||(n.description=e),n}function Ii(t,e){N(t);var n=Ct(e);return e=pe(n).concat(Ji(n)),Oi(e,(function(e){j&&!Xi.call(n,e)||$i(t,e,n[e])})),t}Qr=51<=ir||!C((function(){var t=[];return t[bi]=!1,t.concat()[0]!==t})),gi="concat",St=51<=ir||!C((function(){var t=[];return(t.constructor={})[mi]=function(){return{foo:1}},1!==t[gi](Boolean).foo})),xt({target:"Array",proto:!0,forced:!Qr||!St},{concat:function(){for(var t,e,n,r=Rt(this),i=Nr(r,0),o=0,a=-1,s=arguments.length;a<s;a++)if(function(t){if(!k(t))return!1;var e=t[bi];return void 0!==e?!!e:Pr(t)}(n=-1===a?r:arguments[a])){if(e=Nt(n.length),wi<o+e)throw TypeError(_i);for(t=0;t<e;t++,o++)t in n&&Br(i,o,n[t])}else{if(wi<=o)throw TypeError(_i);Br(i,o++,n)}return i.length=o,i}});var Ti=$t.f,Ci={}.toString,ki="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ai=(St={f:function(t){return ki&&"[object Window]"==Ci.call(t)?function(t){try{return Ti(t)}catch(t){return ki.slice()}}(t):Ti(Ct(t))}},{f:L}),Ni=z.f,Oi=Dr.forEach,Pi=dt("hidden"),xi="Symbol",Ri="prototype",Di=(Dr=L("toPrimitive"),gt.set),Li=gt.getterFor(xi),Mi=Object[Ri],Fi=M.Symbol,ji=At("JSON","stringify"),Ui=Bt.f,Vi=z.f,qi=St.f,Bi=jt.f,zi=K("symbols"),Wi=K("op-symbols"),Hi=K("string-to-symbol-registry"),Ki=K("symbol-to-string-registry"),Gi=(dt=K("wks"),!(K=M.QObject)||!K[Ri]||!K[Ri].findChild),Qi=j&&C((function(){return 7!=Ie(Vi({},"a",{get:function(){return Vi(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ui(Mi,e);r&&delete Mi[e],Vi(t,e,n),r&&t!==Mi&&Vi(Mi,e,r)}:Vi,Yi=X?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Fi},$i=function t(e,n,r){return e===Mi&&t(Wi,n,r),N(e),n=O(n,!0),N(r),R(zi,n)?(r.enumerable?(R(e,Pi)&&e[Pi][n]&&(e[Pi][n]=!1),r=Ie(r,{enumerable:P(0,!1)})):(R(e,Pi)||Vi(e,Pi,P(1,{})),e[Pi][n]=!0),Qi(e,n,r)):Vi(e,n,r)},Xi=function(t){var e=O(t,!0);return t=Bi.call(this,e),!(this===Mi&&R(zi,e)&&!R(Wi,e))&&(!(t||!R(this,e)||!R(zi,e)||R(this,Pi)&&this[Pi][e])||t)},Ji=(K=function(t,e){var n=Ct(t);if(t=O(e,!0),n!==Mi||!R(zi,t)||R(Wi,t))return!(e=Ui(n,t))||!R(zi,t)||R(n,Pi)&&n[Pi][t]||(e.enumerable=!0),e},X=function(t){t=qi(Ct(t));var e=[];return Oi(t,(function(t){R(zi,t)||R(vt,t)||e.push(t)})),e},function(t){var e=t===Mi,n=(t=qi(e?Wi:Ct(t)),[]);return Oi(t,(function(t){!R(zi,t)||e&&!R(Mi,t)||n.push(zi[t])})),n});$||(mt((Fi=function(t){if(this instanceof Fi)throw TypeError("Symbol is not a constructor");var e=D(t=arguments.length&&void 0!==t?String(t):void 0),n=function t(n){this===Mi&&t.call(Wi,n),R(this,Pi)&&R(this[Pi],e)&&(this[Pi][e]=!1),Qi(this,e,P(1,n))};return j&&Gi&&Qi(Mi,e,{configurable:!0,set:n}),Si(e,t)})[Ri],"toString",(function(){return Li(this).tag})),mt(Fi,"withoutSetter",(function(t){return Si(D(t),t)})),jt.f=Xi,z.f=$i,Bt.f=K,$t.f=St.f=X,Xt.f=Ji,Ai.f=function(t){return Si(L(t),t)},j&&(Vi(Fi[Ri],"description",{configurable:!0,get:function(){return Li(this).description}}),mt(Mi,"propertyIsEnumerable",Xi,{unsafe:!0}))),xt({global:!0,wrap:!0,forced:!$,sham:!$},{Symbol:Fi}),Oi(pe(dt),(function(t){Ei(t)})),xt({target:xi,stat:!0,forced:!$},{for:function(t){var e=String(t);return R(Hi,e)?Hi[e]:(t=Fi(e),Hi[e]=t,Ki[t]=e,t)},keyFor:function(t){if(!Yi(t))throw TypeError(t+" is not a symbol");if(R(Ki,t))return Ki[t]},useSetter:function(){Gi=!0},useSimple:function(){Gi=!1}}),xt({target:"Object",stat:!0,forced:!$,sham:!j},{create:function(t,e){return void 0===e?Ie(t):Ii(Ie(t),e)},defineProperty:$i,defineProperties:Ii,getOwnPropertyDescriptor:K}),xt({target:"Object",stat:!0,forced:!$},{getOwnPropertyNames:X,getOwnPropertySymbols:Ji}),xt({target:"Object",stat:!0,forced:C((function(){Xt.f(1)}))},{getOwnPropertySymbols:function(t){return Xt.f(Rt(t))}}),ji&&xt({target:"JSON",stat:!0,forced:ho=!$||C((function(){var t=Fi();return"[null]"!=ji([t])||"{}"!=ji({a:t})||"{}"!=ji(Object(t))}))},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((k(n=e)||void 0!==t)&&!Yi(t))return Pr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Yi(e))return e}),r[1]=e,ji.apply(null,r)}}),Fi[Ri][Dr]||W(Fi[Ri],Dr,Fi[Ri].valueOf),we(Fi,xi),vt[Pi]=!0,Ei("asyncIterator"),K=z.f;var Zi,to,eo,no,ro,io=M.Symbol;!j||"function"!=typeof io||"description"in io.prototype&&void 0===io().description||(Zi={},Pt(to=function(t){var e=arguments.length<1||void 0===t?void 0:String(t);return t=this instanceof to?new io(e):void 0===e?io():io(e),""===e&&(Zi[t]=!0),t},io),(vo=to.prototype=io.prototype).constructor=to,eo=vo.toString,no="Symbol(test)"==String(io("test")),ro=/^Symbol\((.*)\)[^)]+$/,K(vo,"description",{configurable:!0,get:function(){var t=k(this)?this.valueOf():this,e=eo.call(t);return R(Zi,t)?"":""===(e=no?e.slice(7,-1):e.replace(ro,"$1"))?void 0:e}}),xt({global:!0,forced:!0},{Symbol:to})),Ei("hasInstance"),Ei("isConcatSpreadable"),Ei("iterator"),Ei("match"),Ei("matchAll"),Ei("replace"),Ei("search"),Ei("species"),Ei("split"),Ei("toPrimitive"),Ei("toStringTag"),Ei("unscopables"),we(Math,"Math",!0),we(M.JSON,"JSON",!0),zt.Symbol,Ei("asyncDispose"),Ei("dispose"),Ei("observable"),Ei("patternMatch"),Ei("replaceAll"),Ai.f("iterator");var oo=!C((function(){return Object.isExtensible(Object.preventExtensions({}))})),ao=T((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=z.f,r=D("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!k(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!R(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return oo&&a.REQUIRED&&o(t)&&!R(t,r)&&e(t),t}};vt[r]=!0})),so=(X=function(t,e,n){function r(t){var e=p[t];mt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!k(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!k(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!k(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,a,s,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=M[t],p=f&&f.prototype,d=f,v={};return ie(t,"function"!=typeof f||!(l||p.forEach&&!C((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),ao.REQUIRED=!0):ie(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,a=C((function(){i.has(1)})),s=mn((function(t){new f(t)})),u=!l&&C((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),s||(((d=e((function(e,n){nn(e,d,t);var r,i,o,a=(a=new f,r=e,e=d,Ne&&"function"==typeof(i=r.constructor)&&i!==e&&k(o=i.prototype)&&o!==e.prototype&&Ne(a,o),a);return null!=n&&pn(n,a[h],a,c),a}))).prototype=p).constructor=d),(a||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),v[t]=d,xt({global:!0,forced:d!=f},v),we(d,t),l||n.setStrong(d,t,c),d},z.f),uo=ao.fastKey,co=gt.set,lo=gt.getterFor,ho={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=a(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=uo(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),j?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t((function(t,i){nn(t,o,e),co(t,{type:e,index:Ie(null),first:void 0,last:void 0,size:0}),j||(t.size=0),null!=i&&pn(i,t[r],t,n)})),a=lo(e),s=function(t,e){var n,r=a(t);if("F"!==(t=uo(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ze(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,j?t.size=0:this.size=0},delete:function(t){var e,n=a(this),r=s(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),j?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=a(this),i=on(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),Ze(o.prototype,n?{get:function(t){return(t=s(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),j&&so(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=lo(e),o=lo(r);Se(t,e,(function(t,e){co(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),tn(e)}};function fo(){for(var t,e=N(this),n=en(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function po(t){return Map.prototype.entries.call(t)}xt({target:"Map",stat:!0},{from:(X("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),ho),zt.Map,Dr=function(t,e,n){var r,i,o,a=arguments.length,s=1<a?e:void 0;return en(this),(e=void 0!==s)&&en(s),null==t?new this:(r=[],e?(i=0,o=on(s,2<a?n:void 0,2),pn(t,(function(t){r.push(o(t,i++))}))):pn(t,r.push,r),new this(r))})}),xt({target:"Map",stat:!0},{of:K=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),xt({target:"Map",proto:!0,real:!0,forced:F},{deleteAll:function(){return fo.apply(this,arguments)}}),xt({target:"Map",proto:!0,real:!0,forced:F},{every:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return!pn(r,(function(t,e){if(!i(e,t,n))return pn.stop()}),void 0,!0,!0).stopped}}),xt({target:"Map",proto:!0,real:!0,forced:F},{filter:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,At("Map"))),a=en(o.set);return pn(r,(function(t,e){i(e,t,n)&&a.call(o,t,e)}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:F},{find:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop(e)}),void 0,!0,!0).result}}),xt({target:"Map",proto:!0,real:!0,forced:F},{findKey:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop(t)}),void 0,!0,!0).result}}),xt({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;en(e);var r=en(n.has),i=en(n.get),o=en(n.set);return pn(t,(function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])})),n}}),xt({target:"Map",proto:!0,real:!0,forced:F},{includes:function(t){return pn(po(N(this)),(function(e,n){if((r=n)===(n=t)||r!=r&&n!=n)return pn.stop();var r}),void 0,!0,!0).stopped}}),xt({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;en(e);var r=en(n.set);return pn(t,(function(t){r.call(n,e(t),t)})),n}}),xt({target:"Map",proto:!0,real:!0,forced:F},{keyOf:function(t){return pn(po(N(this)),(function(e,n){if(n===t)return pn.stop(e)}),void 0,!0,!0).result}}),xt({target:"Map",proto:!0,real:!0,forced:F},{mapKeys:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,At("Map"))),a=en(o.set);return pn(r,(function(t,e){a.call(o,i(e,t,n),e)}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:F},{mapValues:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,At("Map"))),a=en(o.set);return pn(r,(function(t,e){a.call(o,t,i(e,t,n))}),void 0,!0,!0),o}}),xt({target:"Map",proto:!0,real:!0,forced:F},{merge:function(){for(var t=N(this),e=en(t.set),n=0;n<arguments.length;)pn(arguments[n++],e,t,!0);return t}}),xt({target:"Map",proto:!0,real:!0,forced:F},{reduce:function(t,e){var n=N(this),r=po(n),i=arguments.length<2,o=i?void 0:e;if(en(t),pn(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),xt({target:"Map",proto:!0,real:!0,forced:F},{some:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop()}),void 0,!0,!0).stopped}}),xt({target:"Map",proto:!0,real:!0,forced:F},{update:function(t,e,n){var r=N(this),i=arguments.length;en(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");return n=o?r.get(t):en(2<i?n:void 0)(t,r),r.set(t,e(n,t,r)),r}});var vo=function(t,e,n){var r,i=N(this);if(n=2<arguments.length?n:void 0,"function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r};function yo(t){return Set.prototype.values.call(t)}xt({target:"Map",proto:!0,real:!0,forced:F},{upsert:vo}),xt({target:"Map",proto:!0,real:!0,forced:F},{updateOrInsert:vo}),X("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),ho),zt.Set,xt({target:"Set",stat:!0},{from:Dr}),xt({target:"Set",stat:!0},{of:K}),xt({target:"Set",proto:!0,real:!0,forced:F},{addAll:function(){return function(){for(var t=N(this),e=en(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),xt({target:"Set",proto:!0,real:!0,forced:F},{deleteAll:function(){return fo.apply(this,arguments)}}),xt({target:"Set",proto:!0,real:!0,forced:F},{every:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return!pn(r,(function(t){if(!i(t,t,n))return pn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:F},{difference:function(t){var e=N(this),n=new(bn(e,At("Set")))(e),r=en(n.delete);return pn(t,(function(t){r.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:F},{filter:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,At("Set"))),a=en(o.add);return pn(r,(function(t){i(t,t,n)&&a.call(o,t)}),void 0,!1,!0),o}}),xt({target:"Set",proto:!0,real:!0,forced:F},{find:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t){if(i(t,t,n))return pn.stop(t)}),void 0,!1,!0).result}}),xt({target:"Set",proto:!0,real:!0,forced:F},{intersection:function(t){var e=N(this),n=new(bn(e,At("Set"))),r=en(e.has),i=en(n.add);return pn(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:F},{isDisjointFrom:function(t){var e=N(this),n=en(e.has);return!pn(t,(function(t){if(!0===n.call(e,t))return pn.stop()})).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:F},{isSubsetOf:function(t){var e=function(t){var e=an(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return N(e.call(t))}(this),n=N(t),r=n.has;return"function"!=typeof r&&(n=new(At("Set"))(t),r=en(n.has)),!pn(e,(function(t){if(!1===r.call(n,t))return pn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:F},{isSupersetOf:function(t){var e=N(this),n=en(e.has);return!pn(t,(function(t){if(!1===n.call(e,t))return pn.stop()})).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:F},{join:function(t){var e=yo(n=N(this)),n=void 0===t?",":String(t);return pn(e,(t=[]).push,t,!1,!0),t.join(n)}}),xt({target:"Set",proto:!0,real:!0,forced:F},{map:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,At("Set"))),a=en(o.add);return pn(r,(function(t){a.call(o,i(t,t,n))}),void 0,!1,!0),o}}),xt({target:"Set",proto:!0,real:!0,forced:F},{reduce:function(t,e){var n=N(this),r=yo(n),i=arguments.length<2,o=i?void 0:e;if(en(t),pn(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),xt({target:"Set",proto:!0,real:!0,forced:F},{some:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t){if(i(t,t,n))return pn.stop()}),void 0,!1,!0).stopped}}),xt({target:"Set",proto:!0,real:!0,forced:F},{symmetricDifference:function(t){var e=N(this),n=new(bn(e,At("Set")))(e),r=en(n.delete),i=en(n.add);return pn(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),xt({target:"Set",proto:!0,real:!0,forced:F},{union:function(t){var e=new(bn(e=N(this),At("Set")))(e);return pn(t,en(e.add),e),e}});var go=Math.floor;xt({target:"Number",stat:!0},{isInteger:function(t){return!k(t)&&isFinite(t)&&go(t)===t}}),zt.Number.isInteger,xt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),zt.Number.isNaN;var mo=function(t,e){return(mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function bo(t,e){function n(){this.constructor=t}mo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _o(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Eo(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function So(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function To(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Io(arguments[e]));return t}function Co(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function ko(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Ao(t){try{return xo.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var No={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Oo=function(t,e){if(!t)throw Po(e)},Po=function(t){return new Error("Firebase Database ("+No.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},xo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?t[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ko(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ro(t){return Do(void 0,t)}function Do(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=Do(t[n],e[n]));return t}var Lo=(Mo.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},Mo);function Mo(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function Fo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fo())}function Uo(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Vo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qo(){return!0===No.NODE_ADMIN}function Bo(){return"indexedDB"in self&&null!=indexedDB}function zo(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Wo(){return!(!navigator||!navigator.cookieEnabled)}var Ho,Ko="FirebaseError",Go=(bo(Qo,Ho=Error),Qo);function Qo(t,e,n){return(e=Ho.call(this,e)||this).code=t,e.customData=n,e.name=Ko,Object.setPrototypeOf(e,Qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Yo.prototype.create),e}var Yo=($o.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(Xo,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new Go(o,t,i)},$o);function $o(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Xo=/\{\$([^}]+)}/g;function Jo(t){return JSON.parse(t)}function Zo(t){return JSON.stringify(t)}function ta(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Jo(Ao(o[0])||""),n=Jo(Ao(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function ea(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function na(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function ra(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ia(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var oa=(aa.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},aa.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},aa.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},aa.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},aa);function aa(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function sa(t,e){return(e=new ua(t,e)).subscribe.bind(e)}var ua=(ca.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},ca.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},ca.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},ca.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=la),void 0===r.error&&(r.error=la),void 0===r.complete&&(r.complete=la),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),n},ca.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ca.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},ca.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},ca.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},ca);function ca(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function la(){}function ha(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function fa(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return(t+=" failed: ")+r+" argument "}function pa(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(fa(t,e,r)+"must be a valid function.")}function da(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(fa(t,e,r)+"must be a valid context object.")}function va(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var ya=1e3,ga=2,ma=144e5,ba=.5;function wa(t,e,n){return void 0===e&&(e=ya),void 0===n&&(n=ga),n=e*Math.pow(n,t),t=Math.round(ba*n*(Math.random()-.5)*2),Math.min(ma,n+t)}var _a=(Ea.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ea.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ea.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ea);function Ea(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Sa="[DEFAULT]",Ia=(Ta.prototype.get=function(t){void 0===t&&(t=Sa);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Lo;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},Ta.prototype.getImmediate=function(t){var e=wo({identifier:Sa,optional:!1},t),n=(t=e.identifier,e.optional),r=this.normalizeInstanceIdentifier(t);try{var i=this.getOrInitializeService(r);if(i)return i;if(n)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(n)return null;throw t}},Ta.prototype.getComponent=function(){return this.component},Ta.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(Sa)}catch(t){}try{for(var r=So(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Io(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Ta.prototype.clearInstance=function(t){void 0===t&&(t=Sa),this.instancesDeferred.delete(t),this.instances.delete(t)},Ta.prototype.delete=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(To(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},Ta.prototype.isComponentSet=function(){return null!=this.component},Ta.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===Sa?void 0:e),this.instances.set(t,n)),n||null},Ta.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:Sa},Ta);function Ta(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var Ca=(ka.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},ka.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},ka.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ia(t,this);return this.providers.set(t,e),e},ka.prototype.getProviders=function(){return Array.from(this.providers.values())},ka);function ka(t){this.name=t,this.providers=new Map}function Aa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Na,Oa=[];function Pa(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Da[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Aa(["["+i+"]  "+t.name+":"],n))}}(Dr=Na=Na||{})[Dr.DEBUG=0]="DEBUG",Dr[Dr.VERBOSE=1]="VERBOSE",Dr[Dr.INFO=2]="INFO",Dr[Dr.WARN=3]="WARN",Dr[Dr.ERROR=4]="ERROR",Dr[Dr.SILENT=5]="SILENT";var xa={debug:Na.DEBUG,verbose:Na.VERBOSE,info:Na.INFO,warn:Na.WARN,error:Na.ERROR,silent:Na.SILENT},Ra=Na.INFO,Da=((K={})[Na.DEBUG]="log",K[Na.VERBOSE]="log",K[Na.INFO]="info",K[Na.WARN]="warn",K[Na.ERROR]="error",K),La=(Object.defineProperty(Ma.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Na))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),Ma.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?xa[t]:t},Object.defineProperty(Ma.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ma.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),Ma.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,Na.DEBUG],t)),this._logHandler.apply(this,Aa([this,Na.DEBUG],t))},Ma.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,Na.VERBOSE],t)),this._logHandler.apply(this,Aa([this,Na.VERBOSE],t))},Ma.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,Na.INFO],t)),this._logHandler.apply(this,Aa([this,Na.INFO],t))},Ma.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,Na.WARN],t)),this._logHandler.apply(this,Aa([this,Na.WARN],t))},Ma.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,Na.ERROR],t)),this._logHandler.apply(this,Aa([this,Na.ERROR],t))},Ma);function Ma(t){this.name=t,this._logLevel=Ra,this._logHandler=Pa,this._userLogHandler=null,Oa.push(this)}function Fa(t){Oa.forEach((function(e){e.setLogLevel(t)}))}(F={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",F["bad-app-name"]="Illegal App name: '{$appName}",F["duplicate-app"]="Firebase App named '{$appName}' already exists",F["app-deleted"]="Firebase App named '{$appName}' already deleted",F["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",F["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var ja=new Yo("app","Firebase",Dr=F),Ua="@firebase/app",Va="[DEFAULT]",qa=((K={})[Ua]="fire-core",K["@firebase/analytics"]="fire-analytics",K["@firebase/auth"]="fire-auth",K["@firebase/database"]="fire-rtdb",K["@firebase/functions"]="fire-fn",K["@firebase/installations"]="fire-iid",K["@firebase/messaging"]="fire-fcm",K["@firebase/performance"]="fire-perf",K["@firebase/remote-config"]="fire-rc",K["@firebase/storage"]="fire-gcs",K["@firebase/firestore"]="fire-fst",K["fire-js"]="fire-js",K["firebase-wrapper"]="fire-js-all",K),Ba=new La("@firebase/app"),za=(Object.defineProperty(Wa.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(Wa.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Wa.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Wa.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},Wa.prototype._getService=function(t,e){return void 0===e&&(e=Va),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},Wa.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Va),this.container.getProvider(t).clearInstance(e)},Wa.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(i){Ba.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,i)}},Wa.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},Wa.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ja.create("app-deleted",{appName:this.name_})},Wa);function Wa(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ro(t),this.container=new Ca(e.name),this._addComponent(new _a("app",(function(){return o}),"PUBLIC"));try{for(var a=So(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}za.prototype.name&&za.prototype.options||za.prototype.delete||console.log("dc");var Ha="8.0.0";function Ka(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Va),"string"!=typeof(i=o.name)||!i)throw ja.create("bad-app-name",{appName:String(i)});if(ea(e,i))throw ja.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=qa[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);if(t=e.match(/\s|\//),i||t)return n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Ba.warn(n.join(" "));o(new _a(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:Fa,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ja.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=Oa;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=xa[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Na[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:Ha,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!ea(e,t=t||Va))throw ja.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u,c=o.name;if(n.has(c))return Ba.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw ja.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&Do(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=So(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(s){a={error:s}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}F=function t(){var e=Ka(za);return e.INTERNAL=wo(wo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Do(e,t)},createSubscribe:sa,ErrorFactory:Yo,deepExtend:Do}),e}();var Ga=(Qa.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null})).filter((function(t){return t})).join(" ")},Qa);function Qa(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(Ba.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(gu=self.firebase.SDK_VERSION)&&0<=gu.indexOf("LITE")&&Ba.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Ya=F.initializeApp;F.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return}}()&&Ba.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ya.apply(void 0,t)};var $a,Xa,Ja=F;($a=Ja).INTERNAL.registerComponent(new _a("platform-logger",(function(t){return new Ga(t)}),"PRIVATE")),$a.registerVersion(Ua,"0.6.12",Xa),$a.registerVersion("fire-js",""),Ja.registerVersion("firebase","8.0.0","app"),function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Pa(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=T+t,this.message=e||C[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new E(e.substring(T.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var I,T="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function N(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function O(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,O):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function x(t){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}I=A("__EID__")?"__EID__":void 0,_(O,Error),O.prototype.name="CustomError",_(P,O),P.prototype.name="AssertionError",R.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var M=new R((function(){return new F}),(function(t){t.reset()}));function F(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=j(t,e)}function W(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function K(){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,X=/</g,J=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function rt(t,e){return-1!=t.indexOf(e)}function it(t,e){return t<e?-1:e<t?1:0}var ot=a.navigator;function at(t){return rt(Q,t)}function st(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ut(t){for(var e in t)return;return 1}function ct(t){var e,n={};for(e in t)n[e]=t[e];return n}Q=ot&&(ot=ot.userAgent)?ot:"";var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<lt.length;i++)e=lt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ft(t,e){t:{try{var n;if((n=(n=(n=t&&t.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(p(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function pt(t,e){this.a=t===yt&&e||"",this.b=vt}function dt(t){return t instanceof pt&&t.constructor===pt&&t.b===vt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}pt.prototype.sa=!0,pt.prototype.ra=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt={},yt={},gt=new pt(yt,"");function mt(t,e){this.a=t===It&&e||"",this.b=St}function bt(t){return t instanceof mt&&t.constructor===mt&&t.b===St?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function wt(t,e){var n=dt(t);if(!Et.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pt?dt(t):encodeURIComponent(String(t))})),new mt(It,t)}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a.toString()},mt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},It={};function Tt(t,e){this.a=t===Ot&&e||"",this.b=Nt}function Ct(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Nt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function At(t){return t instanceof Tt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),kt.test(t)||(t="about:invalid#zClosurez"),new Tt(Ot,t))}var Nt={},Ot={};function Pt(){this.a="",this.b=Rt}function xt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Rt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Rt={};function Dt(t){var e=new Pt;return e.a=t,e}Dt("<!DOCTYPE html>");var Lt=Dt("");function Mt(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Ft(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(X,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(J,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function jt(t){return jt[" "](t),t}Dt("<br>"),jt[" "]=c;var Ut,Vt=at("Opera"),qt=at("Trident")||at("MSIE"),Bt=at("Edge"),zt=Bt||qt,Wt=at("Gecko")&&!(rt(Q.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Ht=rt(Q.toLowerCase(),"webkit")&&!at("Edge");function Kt(){var t=a.document;return t?t.documentMode:void 0}var Gt="",Qt=(Qt=Q,Wt?/rv:([^\);]+)(\)|;)/.exec(Qt):Bt?/Edge\/([\d\.]+)/.exec(Qt):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qt):Ht?/WebKit\/(\S+)/.exec(Qt):Vt?/(?:Version)[ \/]?(\S+)/.exec(Qt):void 0);Qt&&(Gt=Qt?Qt[1]:""),Ut=qt&&null!=(Qt=Kt())&&Qt>parseFloat(Gt)?String(Qt):Gt;var Yt,$t={};function Xt(t){return e=t,n=function(){for(var e=0,n=Y(String(Ut)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=$t,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}Yt=a.document&&qt?Kt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Jt=!qt||9<=Number(Yt);function Zt(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function te(t,e){st(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:re.hasOwnProperty(n)?t.setAttribute(re[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ee,ne,re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ie(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!Jt&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ft(i.name),'"'),i.type&&(r.push(' type="',Ft(i.type),'"'),ht(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=oe(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):te(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):U(function(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}(o)?G(o):o,r)}}(n,r,e),r}function oe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ae(t){a.setTimeout((function(){throw t}),0)}function se(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t,e,n=oe(document,"IFRAME");n.style.display="none",t=n,e=new mt(It,dt(gt)),ft(t,"HTMLIFrameElement"),t.src=bt(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(xt(Lt)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=m((function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()}),this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0===t||at("Trident")||at("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Fb,n.Fb=null,t())},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}function ue(t,e){ne||function(){var t;ne=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(he)}):function(){var t=he;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!at("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ee=ee||se())(t):a.setImmediate(t)}}(),ce||(ne(),ce=!0),le.add(t,e)}var ce=!1,le=new L;function he(){for(var t,e,n;n=e=void 0,n=null,(e=le).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ae(t)}D(M,t)}ce=!1}function fe(t,e){if(this.a=pe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Te(n,de,t)}),(function(t){if(!(t instanceof xe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Te(n,ve,t)}))}catch(t){Te(this,ve,t)}}var pe=0,de=2,ve=3;function ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ge=new R((function(){return new ye}),(function(t){t.reset()}));function me(t,e,n){var r=ge.get();return r.g=t,r.b=e,r.f=n,r}function be(t){if(t instanceof fe)return t;var e=new fe(c);return Te(e,de,t),e}function we(t){return new fe((function(e,n){n(t)}))}function _e(t,e,n){Ce(t,e,n,null)||ue(b(e,t))}function Ee(t){return new fe((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)_e(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Se(t,e){t.b||t.a!=de&&t.a!=ve||ke(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ie(t,e,n,r){var i=me(null,null,null);return i.a=new fe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof xe?o(e):t(i)}catch(e){o(e)}}:o})),Se(i.a.c=t,i),i.a}function Te(t,e,n){var r,i;t.a==pe&&(t===n&&(e=ve,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ce(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,ke(t),e!=ve||n instanceof xe||(i=n,(r=t).g=!0,ue((function(){r.g&&Pe.call(null,i)})))))}function Ce(t,e,n,r){if(t instanceof fe)return Se(t,me(e||c,n||null,r)),1;if(N(t))return t.then(e,n,r),1;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function ke(t){t.h||(t.h=!0,ue(t.fc,t))}function Ae(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ne(t,e,n,r){if(n==ve&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Oe(e,n,r);else try{e.c?e.g.call(e.f):Oe(e,n,r)}catch(t){Pe.call(null,t)}D(ge,e)}function Oe(t,e,n){e==de?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Ie(this,f(t)?t:null,f(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).na=function(t,e){return(t=me(t,t,e)).c=!0,Se(this,t),this},t.s=function(t,e){return Ie(this,null,t,e)},t.cancel=function(t){var e;this.a==pe&&(e=new xe(t),ue((function(){!function t(e,n){if(e.a==pe)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==pe&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ae(r),Ne(r,o,ve,n)))}e.c=null}else Te(e,ve,n)}(this,e)}),this))},t.Zc=function(t){this.a=pe,Te(this,de,t)},t.$c=function(t){this.a=pe,Te(this,ve,t)},t.fc=function(){for(var t;t=Ae(this);)Ne(this,t,this.a,this.i);this.h=!1};var Pe=ae;function xe(t){O.call(this,t)}function Re(){this.xa=this.xa,this.oa=this.oa}_(xe,O);var De=0;function Le(t){t.xa||(t.xa=!0,t.Da(),0==De)||(t=t,Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v))}Re.prototype.xa=!(xe.prototype.name="cancel"),Re.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Me=Object.freeze||function(t){return t},Fe=!qt||9<=Number(Yt),je=qt&&!Xt("9"),Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function Ve(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{jt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Be[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Ve.prototype.preventDefault=function(){this.defaultPrevented=!0},_(qe,Ve);var Be=Me({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,je)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.g=function(){return this.a};var ze="closure_listenable_"+(1e6*Math.random()|0),We=0;function He(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++We,this.va=this.Oa=!1}function Ke(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Ge(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ke(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Ge.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new He(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var $e="closure_lm_"+(1e6*Math.random()|0),Xe={};function Je(t,e,n,r,i){if(r&&r.once)tn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?fn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!1,r,i)}function Ze(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=un(t);if(c||(t[$e]=c=new Ge(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=sn,r=s=Fe?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Ue||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?pn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!0,r,i)}function en(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=ln(n),t&&t[ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Ye(o=t.a[e],n,r,i))&&(Ke(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&un(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ye(e,n,r,i)),(n=-1<t?e[t]:null)&&nn(n))}function nn(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[ze]?Qe(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=un(e))?(Qe(n,t),0==n.b&&(n.src=null,e[$e]=null)):Ke(t)))}function rn(t){return t in Xe?Xe[t]:Xe[t]="on"+t}function on(t,e,n,r){var i=!0;if((t=un(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=an(o,r),i=i&&!1!==o)}return i}function an(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&nn(t),n.call(r,e)}function sn(t,e){if(t.va)return!0;if(Fe)return an(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new qe(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=on(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=on(r[i],t,!1,e),n=n&&o}return n}function un(t){return(t=t[$e])instanceof Ge?t:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(t){return f(t)?t:(t[cn]||(t[cn]=function(e){return t.handleEvent(e)}),t[cn])}function hn(){Re.call(this),this.v=new Ge(this),(this.$b=this).fb=null}function fn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function pn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function dn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Ua||u.src,u.Oa&&Qe(t.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function vn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function yn(t){var e=null;return new fe((function(n,r){-1==(e=vn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function gn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function mn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function bn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_n(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_n(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(hn,Re),hn.prototype[ze]=!0,hn.prototype.addEventListener=function(t,e,n,r){Je(this,t,e,n,r)},hn.prototype.removeEventListener=function(t,e,n,r){en(this,t,e,n,r)},hn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t?t=new Ve(t,n):t instanceof Ve?t.target=t.target||n:(a=t,ht(t=new Ve(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=dn(o,r,!0,t)&&a;if(a=dn(o=t.b=n,r,!0,t)&&a,a=dn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=dn(o=t.b=e[i],r,!1,t)&&a;return a},hn.prototype.Da=function(){if(hn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ke(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=bn.prototype).V=function(){wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return wn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return _n(this.b,t)?this.b[t]:e},t.set=function(t,e){_n(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var En=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Sn?(this.i=void 0!==e?e:t.i,In(this,t.f),this.l=t.l,this.a=t.a,Tn(this,t.g),this.c=t.c,Cn(this,Hn(t.b)),this.h=t.h):t&&(n=String(t).match(En))?(this.i=!!e,In(this,n[1]||"",!0),this.l=Pn(n[2]||""),this.a=Pn(n[3]||"",!0),Tn(this,n[4]),this.c=Pn(n[5]||"",!0),Cn(this,n[6]||"",!0),this.h=Pn(n[7]||"")):(this.i=!!e,this.b=new Un(null,this.i))}function In(t,e,n){t.f=n?Pn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Tn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Cn(t,e,n){var r,i;e instanceof Un?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(Vn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bn(this,e),Wn(this,n,t))}),r)),r.f=i):(n||(e=xn(e,Fn)),t.b=new Un(e,t.i))}function kn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function Nn(t){return t instanceof Sn?new Sn(t):new Sn(t,void 0)}function On(t,e,n,r){var i=new Sn(null,void 0);return t&&In(i,t),e&&(i.a=e),n&&Tn(i,n),r&&(i.c=r),i}function Pn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(xn(e,Dn,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(xn(e,Dn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(xn(n,"/"==n.charAt(0)?Mn:Ln,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",xn(n,jn)),t.join("")},Sn.prototype.resolve=function(t){var e=new Sn(this),n=!!t.f;n?In(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r,i=t.c;if(n)Tn(e,t.g);else if(n=!!t.c)if("/"!=i.charAt(0)&&(this.a&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(rt(r,"./")||rt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.c=i:n=""!==t.b.toString(),n?Cn(e,Hn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Dn=/[#\/\?@]/g,Ln=/[#\?:]/g,Mn=/[#\?]/g,Fn=/[#\?@]/g,jn=/#/g;function Un(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Vn(t){t.a||(t.a=new bn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qn(t){var e=mn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Un(null,void 0);t=gn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Wn(n,i,o):n.add(i,o)}return n}function Bn(t,e){Vn(t),e=Kn(t,e),_n(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_n((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wn(t)))}function zn(t,e){return Vn(t),e=Kn(t,e),_n(t.a.b,e)}function Wn(t,e,n){Bn(t,e),0<n.length&&(t.c=null,t.a.set(Kn(t,e),G(n)),t.b+=n.length)}function Hn(t){var e=new Un;return e.c=t.c,t.a&&(e.a=new bn(t.a),e.b=t.b),e}function Kn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Gn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Xn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=Un.prototype).add=function(t,e){Vn(this),this.c=null,t=Kn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Vn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Vn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Vn(this);var e=[];if("string"==typeof t)zn(this,t)&&(e=K(e,this.a.get(Kn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Vn(this),this.c=null,zn(this,t=Kn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.V(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(t,e){e.push('"',t.replace($n,(function(t){var e=Yn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Yn[t]=e),e})),'"')}function Jn(){var t=gr();return qt&&Yt&&11==Yt||/Edge\/\d+/.test(t)}function Zn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function tr(t,e){e=e||a.window;var n="about:blank";t&&(n=Ct(At(t))),e.location.href=n}function er(t){return!!((t=(t||gr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nr(t){t=t||a.window;try{t.close()}catch(t){}}function rr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gr().toLowerCase(),r&&(e.target=r,rt(n,"crios/")&&(e.target="_blank")),dr(gr())==fr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Tt?n:At(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ft(a=oe(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.sa?e.ra():String(e),kt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Ot,e)),a.href=Ct(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Ct(e),a&&(zt&&rt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),r=a.document)&&(r.write(xt(t)),r.close())):(a=r.open(Ct(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var t=null;return new fe((function(e){"complete"==a.document.readyState?e():(t=function(){e()},tn(window,"load",t))})).s((function(e){throw en(window,"load",t),e}))}function sr(t){return t=t||gr(),!("file:"!==Er()&&"ionic:"!==Er()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function cr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return Ja.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ja.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function hr(){var t=lr();return"ReactNative"===t||"Node"===t}var fr="Firefox",pr="Chrome";function dr(t){var e=t.toLowerCase();return rt(e,"opera/")||rt(e,"opr/")||rt(e,"opios/")?"Opera":rt(e,"iemobile")?"IEMobile":rt(e,"msie")||rt(e,"trident/")?"IE":rt(e,"edge/")?"Edge":rt(e,"firefox/")?fr:rt(e,"silk/")?"Silk":rt(e,"blackberry")?"Blackberry":rt(e,"webos")?"Webos":!rt(e,"safari/")||rt(e,"chrome/")||rt(e,"crios/")||rt(e,"android")?!rt(e,"chrome/")&&!rt(e,"crios/")||rt(e,"edge/")?rt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":pr:"Safari"}var vr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function yr(t,e){e=e||[];var n,r=[],i={};for(n in vr)i[vr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=dr(i=gr()):"Worker"===r&&(r=dr(i=gr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function gr(){return a.navigator&&a.navigator.userAgent||""}function mr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function br(){try{var t=a.localStorage,e=kr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!a.indexedDB}catch(t){return cr()&&!!a.indexedDB}return!1}function wr(){return(_r()||"chrome-extension:"===Er()||sr())&&!hr()&&br()&&!cr()}function _r(){return"http:"===Er()||"https:"===Er()}function Er(){return a.location&&a.location.protocol||null}function Sr(t){return!er(t=t||gr())&&dr(t)!=fr}function Ir(t){return void 0===t?null:Gn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Cr(t){if(null!==t)return JSON.parse(t)}function kr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=dr(t=t||gr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gr(),e=lr(),this.b=er(t)||"ReactNative"===e}function Pr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function xr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Rr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Dr(){return mr("fireauth.oauthhelper",a)||mr("fireauth.iframe",a)}Or.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==Er()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Mr={};function Fr(t){Mr[t]||(Mr[t]=!0,xr(t))}try{var jr={};Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==jr.abcd}catch(t){Lr=!1}function Ur(t,e,n){Lr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Vr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ur(t,n,e[n])}function qr(t){var e={};return Vr(e,t),e}function Br(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ur(e,n,Br(t[n]));return e}function zr(t){var e=t&&(t[Qr]?"phone":null);if(!(e&&t&&t[Gr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Ur(this,"uid",t[Gr]),Ur(this,"displayName",t[Hr]||null);var n=null;t[Kr]&&(n=new Date(t[Kr]).toUTCString()),Ur(this,"enrollmentTime",n),Ur(this,"factorId",e)}function Wr(t){try{var e=new Yr(t)}catch(t){e=null}return e}zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Hr="displayName",Kr="enrolledAt",Gr="mfaEnrollmentId",Qr="phoneInfo";function Yr(t){zr.call(this,t),Ur(this,"phoneNumber",t[Qr])}function $r(t){var e={},n=t[ti],r=t[ni],i=t[ri];if(t=Wr(t[ei]),!i||i!=Jr&&i!=Zr&&!n||i==Zr&&!r||i==Xr&&!t)throw Error("Invalid checkActionCode response!");i==Zr?(e[oi]=n||null,e[si]=n||null,e[ii]=r):(e[oi]=r||null,e[si]=r||null,e[ii]=n||null),e[ai]=t||null,Ur(this,ci,i),Ur(this,ui,Br(e))}_(Yr,zr),Yr.prototype.w=function(){var t=Yr.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Xr="REVERT_SECOND_FACTOR_ADDITION",Jr="EMAIL_SIGNIN",Zr="VERIFY_AND_CHANGE_EMAIL",ti="email",ei="mfaInfo",ni="newEmail",ri="requestType",ii="email",oi="fromEmail",ai="multiFactorInfo",si="previousEmail",ui="data",ci="operation";function li(t){var e=An(t=Nn(t),hi)||null,n=An(t,fi)||null,r=(r=An(t,vi)||null)&&gi[r]||null;if(!e||!n||!r)throw new E("argument-error",hi+", "+fi+"and "+vi+" are required in a valid action code URL.");Vr(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,pi)||null,languageCode:An(t,di)||null,tenantId:An(t,yi)||null})}var hi="apiKey",fi="oobCode",pi="continueUrl",di="languageCode",vi="mode",yi="tenantId",gi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Xr,signIn:Jr,verifyAndChangeEmail:Zr,verifyEmail:"VERIFY_EMAIL"};function mi(t){try{return new li(t)}catch(t){return null}}function bi(t){var e=t[Ii];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[wi])&&"object"==typeof r){e=r[ki];var n=r[Ti],r=r[Ci];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new E("argument-error",Ti+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new E("argument-error",Ci+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new E("argument-error",ki+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new E("missing-android-pkg-name")}}else if(void 0!==r)throw new E("argument-error",wi+" property must be a non null object when specified.");if(this.f=null,(e=t[Si])&&"object"==typeof e){if("string"==typeof(e=e[Ai])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(e=t[Ei])&&"boolean"!=typeof e)throw new E("argument-error",Ei+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[_i])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",_i+" property must be a non empty string when specified.");this.i=t||null}var wi="android",_i="dynamicLinkDomain",Ei="handleCodeInApp",Si="iOS",Ii="url",Ti="installApp",Ci="minimumVersion",ki="packageName",Ai="bundleId";function Ni(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Oi=null;function Pi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Oi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Oi){Oi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Oi[o]&&(Oi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function xi(t){var e=Di(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ri(t){try{return new xi(t)}catch(t){return null}}function Di(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}xi.prototype.S=function(){return this.f},xi.prototype.i=function(){return this.b},xi.prototype.toString=function(){return this.g};var Li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mi=["client_id","response_type","scope","redirect_uri","state"],Fi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Mi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Mi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Mi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Li},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function ji(t){for(var e in Fi)if(Fi[e].fa==t)return Fi[e];return null}function Ui(t){var e={};e["facebook.com"]=Wi,e["google.com"]=Ki,e["github.com"]=Hi,e["twitter.com"]=Gi;var n=t&&t[qi];try{if(n)return new(e[n]?e[n]:zi)(t);if(void 0!==t[Vi])return new Bi(t)}catch(t){}return null}var Vi="idToken",qi="providerId";function Bi(t){var e,n=t[qi];if(n||!t[Vi]||(e=Ri(t[Vi]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Ur(this,"providerId",n),Ur(this,"isNewUser",e)}function zi(t){Bi.call(this,t),Ur(this,"profile",Br((t=Cr(t.rawUserInfo||"{}"))||{}))}function Wi(t){if(zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hi(t){if(zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function Ki(t){if(zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(t){if(zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",t.screenName||null)}function Qi(t){var e=An(r=Nn(t),"link"),n=An(Nn(e),"link"),r=An(r,"deep_link_id");return An(Nn(r),"link")||r||n||e||t}function Yi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?$i:Xi}_(zi,Bi),_(Wi,zi),_(Hi,zi),_(Ki,zi),_(Gi,zi);var $i="enroll",Xi="signin";function Ji(){}function Zi(t,e){return t.then((function(t){if(t[Ba]){var n=Ri(t[Ba]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new E("user-mismatch"):t}))}function to(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Ur(this,"providerId",t),Ur(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function ro(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ur(this,"idToken",e.idToken),e.accessToken&&Ur(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ur(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Ur(this,"accessToken",e.oauthToken),Ur(this,"secret",e.oauthTokenSecret)}Ur(this,"providerId",t),Ur(this,"signInMethod",n)}function io(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ro(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Pc=e||[],Vr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(ji(t)||{}).Ja||null,this.nb=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,Mi),this.a=[]}function co(){uo.call(this,"facebook.com")}function lo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function ho(){uo.call(this,"github.com")}function fo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new ho).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Ca("profile")}function vo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function yo(){ao.call(this,"twitter.com",Li)}function go(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ro("twitter.com",n,"twitter.com")}function mo(t,e,n){this.a=t,this.f=e,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bo(t){return t&&t.email&&t.password?new mo(t.email,t.password,t.signInMethod):null}function wo(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function _o(t,e){if(!(e=Eo(e)))throw new E("argument-error","Invalid email link!");return new mo(t,e.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(t){return(t=mi(t=Qi(t)))&&t.operation===Jr?t:null}function So(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new E("internal-error");this.a=t,Ur(this,"providerId","phone"),this.fa="phone",Ur(this,"signInMethod","phone")}function Io(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function To(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Co(t){try{this.a=t||Ja.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new So({cb:t,bb:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new So({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return lo(n);case"github.com":return fo(n);case"twitter.com":return go(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new to(e,a):new ro(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function No(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Oo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Oo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function xo(){this.b=null,this.a=[]}Yi.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Yi.prototype.w=function(){return this.type==$i?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Ji.prototype.ja=function(){},Ji.prototype.b=function(){},Ji.prototype.c=function(){},Ji.prototype.w=function(){},to.prototype.ja=function(t){return hs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,fs(t,n)},to.prototype.c=function(t,e){return Zi(ps(t,eo(this)),e)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ro.prototype.ja=function(t){return hs(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,fs(t,n)},ro.prototype.c=function(t,e){return Zi(ps(t,io(this)),e)},ro.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ka=function(t){return this.Hb=ct(t),this},_(so,ao),_(uo,ao),uo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},uo.prototype.Pb=function(){return G(this.a)},uo.prototype.credential=function(t,e){if(!(e=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ro(this.providerId,e,this.providerId)},_(co,uo),Ur(co,"PROVIDER_ID","facebook.com"),Ur(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(ho,uo),Ur(ho,"PROVIDER_ID","github.com"),Ur(ho,"GITHUB_SIGN_IN_METHOD","github.com"),_(po,uo),Ur(po,"PROVIDER_ID","google.com"),Ur(po,"GOOGLE_SIGN_IN_METHOD","google.com"),_(yo,ao),Ur(yo,"PROVIDER_ID","twitter.com"),Ur(yo,"TWITTER_SIGN_IN_METHOD","twitter.com"),mo.prototype.ja=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,_s,{email:this.a,oobCode:this.f}):Qs(t,zs,{email:this.a,password:this.f})},mo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Ls,{idToken:e,email:this.a,password:this.f})},mo.prototype.c=function(t,e){return Zi(this.ja(t),e)},mo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Vr(wo,{PROVIDER_ID:"password"}),Vr(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ja=function(t){return t.eb(To(this))},So.prototype.b=function(t,e){var n=To(this);return n.idToken=e,Qs(t,Hs,n)},So.prototype.c=function(t,e){var n=To(this);return n.operation="REAUTH",Zi(t=Qs(t,Ks,n),e)},So.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Co.prototype.eb=function(t,e){var n=this.a.a;return be(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i=i&&i.type==$i?i.Ha().then((function(t){return Qs(n,Fs,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==Xi?i.Ha().then((function(e){return i=n,e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Qs(i,js,e).then((function(t){return t.phoneResponseInfo.sessionInfo}));var i})):Qs(n,Rs,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},Vr(Co,{PROVIDER_ID:"phone"}),Vr(Co,{PHONE_SIGN_IN_METHOD:"phone"}),Oo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Oo.prototype.S=function(){return this.h},Oo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ro,Do=null;function Lo(t){var e="unauthorized-domain",n=void 0,r=Nn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Mo(t,e,n){E.call(this,t,n),(t=e||{}).Ib&&Ur(this,"email",t.Ib),t.ea&&Ur(this,"phoneNumber",t.ea),t.credential&&Ur(this,"credential",t.credential),t.Yb&&Ur(this,"tenantId",t.Yb)}function Fo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Ao(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function jo(){}function Uo(t){return t.c||(t.c=t.b())}function Vo(){}function qo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Bo(){}function zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.pc,this),this.a.onerror=m(this.Rb,this),this.a.onprogress=m(this.qc,this),this.a.ontimeout=m(this.uc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ho(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ko(t){this.f=t,this.b=this.c=this.a=null}function Go(t,e){this.name=t,this.value=e}_(Lo,E),_(Mo,E),Mo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&ht(t,e),t},Mo.prototype.toJSON=function(){return this.w()},jo.prototype.c=null,_(Vo,jo),Vo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Vo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Ro=new Vo,_(Bo,jo),Bo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new zo;throw Error("Unsupported browser")},Bo.prototype.b=function(){return{}},(t=zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ho.prototype.a=null,Ho.prototype.reset=function(t,e,n,r,i){delete this.a},Go.prototype.toString=function(){return this.name};var Qo=new Go("SEVERE",1e3),Yo=new Go("WARNING",900),$o=new Go("CONFIG",700),Xo=new Go("FINE",500);Ko.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Ho(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Jo,Zo={},ta=null;function ea(t){var e,n,r;return ta||(ta=new Ko(""),(Zo[""]=ta).c=$o),(e=Zo[t])||(e=new Ko(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=ea(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,Zo[t]=e),e}function na(t,e){t&&t.log(Xo,e,void 0)}function ra(t){this.f=t}function ia(t){hn.call(this),this.o=t,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ea("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(ra,jo),ra.prototype.a=function(){return new ia(this.f)},ra.prototype.b=(Jo={},function(){return Jo}),_(ia,hn);var oa=0;function aa(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function sa(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){hn.call(this),this.headers=new bn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=la,this.u=this.R=!1}(t=ia.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this,!1)),this.readyState=oa},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,aa(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){var e;this.a&&((e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),t.done?sa(this,!0):ua(this),3==this.readyState&&aa(this))},t.sc=function(t){this.a&&(this.response=this.responseText=t,sa(this,!0))},t.rc=function(t){this.a&&(this.response=t,sa(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(Yo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&sa(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ca,hn);var la="";ca.prototype.b=ea("goog.net.XhrIo");var ha=/^https?$/i,fa=["POST","PUT"];function pa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=(t.O?t.O:Ro).a(),t.A=t.O?Uo(t.O):Uo(Ro),t.a.onreadystatechange=m(t.Ub,t);try{na(t.b,Ea(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return na(t.b,Ea(t,"Error opening Xhr: "+e.message)),void va(t,e)}e=r||"";var o,s=new bn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=mn(t),r=gn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){s.set(e,t)})),i=function(t){t:{for(var e=da,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=a.FormData&&e instanceof a.FormData,!z(fa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ba(t),0<t.g&&(t.u=(o=t.a,qt&&Xt(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),na(t.b,Ea(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ma,t)):t.o=vn(t.Ma,t.g,t)),na(t.b,Ea(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){na(t.b,Ea(t,"Send error: "+e.message)),va(t,e)}}function da(t){return"content-type"==t.toLowerCase()}function va(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ya(t),ma(t)}function ya(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ga(t){if(t.c&&void 0!==o)if(t.A[1]&&4==wa(t)&&2==_a(t))na(t.b,Ea(t,"Local request error detected and ignored"));else if(t.i&&4==wa(t))vn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==wa(t)){na(t.b,Ea(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=_a(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(En)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!ha.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<wa(t)?t.a.statusText:""}catch(e){na(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+_a(t)+"]",ya(t)}}finally{ma(t)}}}function ma(t,e){if(t.a){ba(t);var n=t.a,r=t.A[0]?c:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Qo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ba(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function wa(t){return t.a?t.a.readyState:0}function _a(t){try{return 2<wa(t)?t.a.status:-1}catch(t){return-1}}function Ea(t,e){return e+" ["+t.P+" "+t.l+" "+_a(t)+"]"}function Sa(t){var e=Da;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ia(t,e,n){t.a=!0,t.c=n,t.f=!e,Aa(t)}function Ta(t){if(t.a){if(!t.m)throw new Na;t.m=!1}}function Ca(t,e,n,r){t.g.push([e,n,r]),t.a&&Aa(t)}function ka(t){return B(t.g,(function(t){return f(t[1])}))}function Aa(t){var e,n;t.h&&t.a&&ka(t)&&(e=t.h,(n=xa[e])&&(a.clearTimeout(n.a),delete xa[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ka(t)||(n=!0)}}t.c=e,r&&(u=m(t.v,t,!0),r=m(t.v,t,!1),e instanceof Sa?(Ca(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Pa(e),xa[e.a]=e,t.h=e.a)}function Na(){O.call(this)}function Oa(){O.call(this)}function Pa(t){this.a=a.setTimeout(m(this.c,this),0),this.b=t}(t=ca.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,Ea(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(na(this.b,Ea(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ma(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ma(this,!0)),ca.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ga(this):this.Ic())},t.Ic=function(){ga(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case la:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Sa.prototype.cancel=function(t){var e;this.a?this.c instanceof Sa&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Oa,Ta(this),Ia(this,!1,t)))},Sa.prototype.v=function(t,e){this.i=!1,Ia(this,t,e)},Sa.prototype.then=function(t,e,n){var r,i,o=new fe((function(t,e){r=t,i=e}));return Ca(this,r,(function(t){t instanceof Oa?o.cancel():i(t)})),o.then(t,e,n)},Sa.prototype.$goog_Thenable=!0,_(Na,O),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",_(Oa,O),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Pa.prototype.c=function(){throw delete xa[this.a],this.b};var xa={};function Ra(t){var e=document,n=bt(t).toString(),r=oe(document,"SCRIPT"),i={Vb:r,Ma:void 0},o=new Sa(i),c=window.setTimeout((function(){La(r,!0);var t=new ja(Fa,"Timeout reached for loading script "+n);Ta(o),Ia(o,!1,t)}),5e3);return i.Ma=c,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(La(r,!1,c),Ta(o),Ia(o,!0,null))},r.onerror=function(){La(r,!0,c);var t=new ja(Ma,"Error while loading script "+n);Ta(o),Ia(o,!1,t)},ht(i={},{type:"text/javascript",charset:"UTF-8"}),te(r,i),i=t,ft(t=r,"HTMLScriptElement"),t.src=bt(i),null===u&&(u=(i=(i=a.document).querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&s.test(i)?i:""),(i=u)&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),o}function Da(){var t;this&&this.Vb&&(t=this.Vb)&&"SCRIPT"==t.tagName&&La(t,!0,this.Ma)}function La(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ma=0,Fa=1;function ja(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Ua(t){this.f=t}function Va(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||za,this.g=ct(t.secureTokenHeaders||Wa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ha,this.a=ct(t.firebaseHeaders||Ka),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&Ja.INTERNAL.node&&Ja.INTERNAL.node.XMLHttpRequest)&&!cr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,cr()?this.f=new ra(self):hr()?this.f=new Ua(n):this.f=new Bo,this.b=null}_(ja,O),_(Ua,jo),Ua.prototype.a=function(){return new this.f},Ua.prototype.b=function(){return{}};var qa,Ba="idToken",za=new Or(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},Ha=new Or(3e4,6e4),Ka={"Content-Type":"application/json"};function Ga(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e&&(t.l=Ya("https://securetoken.googleapis.com/v1/token",e),t.h=Ya("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ya("https://identitytoolkit.googleapis.com/v2/",e))}function Ya(t,e){return t=Nn(t),e=Nn(e.url),t.c=t.a+t.c,In(t,e.f),t.a=e.a,Tn(t,e.g),t.toString()}function $a(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Xa(t,e,n,r,i,o,s){var u;(t=((u=dr(u=gr())==pr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||qt&&Yt&&!(9<Yt))&&!cr()?(qa=qa||new fe((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ts]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ca(t,null,e,void 0)}(Ra(wt(Za,{onload:ts})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),m(t.o,t)):m(t.u,t))(e,n,r,i,o,s)}Va.prototype.S=function(){return this.b},Va.prototype.u=function(t,e,n,r,i,o){if(cr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ca(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),fn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return na(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),pn(u,"ready",(function(){s&&clearTimeout(s),Le(this)})),pn(u,"timeout",(function(){s&&clearTimeout(s),Le(this),e&&e(null)})),pa(u,t,n,r,i)};var Za=new pt(yt,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function es(t,e,n,r,i,o,a){var s=Nn(e+n);kn(s,"key",t.c),a&&kn(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&kn(s,c,i[c]);return new fe((function(e,n){Xa(t,s.toString(),(function(t){t?t.error?n($s(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Gn(Tr(i)),t.a,t.m.get())}))}function ns(t){if("string"!=typeof(t=t.email)||!or.test(t))throw new E("invalid-email")}function rs(t){"email"in t&&ns(t)}function is(t){if(!t[Ba]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ct(t));throw new E("internal-error")}}function os(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Va.prototype.o=function(t,e,n,r,i){var o=this;qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Va.prototype.yb=function(){return Qs(this,Ms,{})},Va.prototype.Ab=function(t,e){return Qs(this,Ds,{idToken:t,email:e})},Va.prototype.Bb=function(t,e){return Qs(this,Ls,{idToken:t,password:e})};var as={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ss(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function us(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function cs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&zn(t=new Un(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ls(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Fo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Fo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Fo(t)):t.errorMessage&&(e=Ys(t.errorMessage)),e)throw e;is(t)}function hs(t,e){return e.returnIdpCredential=!0,Qs(t,Us,e)}function fs(t,e){return e.returnIdpCredential=!0,Qs(t,qs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,Vs,e)}function ds(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Va.prototype).Cb=function(t,e){var n={idToken:t},r=[];return st(as,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Ds,n)},t.ub=function(t,e){return ht(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,Ns,t)},t.vb=function(t,e){return ht(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,Cs,t)},t.tb=function(t,e){return ht(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,ks,t)},t.Db=function(t,e,n){return ht(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,As,t)},t.eb=function(t){return Qs(this,Ws,t)},t.mb=function(t,e){return Qs(this,xs,{oobCode:t,newPassword:e})},t.Qa=function(t){return Qs(this,ys,{oobCode:t})},t.ib=function(t){return Qs(this,vs,{oobCode:t})};var vs={endpoint:"setAccountInfo",B:ds,Z:"email",C:!0},ys={endpoint:"resetPassword",B:ds,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},gs={endpoint:"signupNewUser",B:function(t){if(ns(t),!t.password)throw new E("weak-password")},F:is,U:!0,C:!0},ms={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},_s={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ns,F:is,U:!0,C:!0},Es={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ns,F:is,U:!0},Ss={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ss,F:is,C:!0,Na:!0},Is={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ss,F:is,C:!0,Na:!0},Ts={endpoint:"getAccountInfo"},Cs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ns(t)},Z:"email",C:!0},ks={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ns(t)},Z:"email",C:!0},Os={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ps={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},xs={endpoint:"resetPassword",B:ds,Z:"email",C:!0},Rs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ds={endpoint:"setAccountInfo",M:["idToken"],B:rs,U:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(rs(t),!t.password)throw new E("weak-password")},F:is,U:!0},Ms={endpoint:"signupNewUser",F:is,U:!0,C:!0},Fs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},js={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Us={endpoint:"verifyAssertion",B:us,Xa:cs,F:ls,U:!0,C:!0},Vs={endpoint:"verifyAssertion",B:us,Xa:cs,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Ys(t.errorMessage);is(t)},U:!0,C:!0},qs={endpoint:"verifyAssertion",B:function(t){if(us(t),!t.idToken)throw new E("internal-error")},Xa:cs,F:ls,U:!0},Bs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new E("invalid-custom-token")},F:is,U:!0,C:!0},zs={endpoint:"verifyPassword",B:function(t){if(ns(t),!t.password)throw new E("wrong-password")},F:is,U:!0,C:!0},Ws={endpoint:"verifyPhoneNumber",B:os,F:is,C:!0},Hs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new E("internal-error");os(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Fo(t);is(t)}},Ks={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:os,F:is,C:!0},Gs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ba]^!!t.refreshToken)throw new E("internal-error")},C:!0,Na:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return we(new E("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return be(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),es(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function Ys(t){return $s({error:{errors:[{message:t}],code:400,message:t}})}function $s(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new E(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",ht(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new E(i[n],e);return!e&&t&&(e=Ir(t)),new E("internal-error",e)}function Xs(t){var e;this.b=t,this.a=null,this.qb=(e=this,(eu||(eu=new fe((function(t,e){function n(){Nr(),mr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Nr(),e(Error("Network Error"))},timeout:Zs.get()})}var r;mr("gapi.iframes.Iframe")?t():mr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){mr("gapi.load")?n():e(Error("Network Error"))},be(Ra(r=wt(Js,{onload:r}))).s((function(){e(Error("Network Error"))})))})).s((function(t){throw eu=null,t})))).then((function(){return new fe((function(t,n){mr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Js=new pt(yt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new Or(3e4,6e4),tu=new Or(5e3,15e3),eu=null;function nu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?On((t=Nn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):On("https",this.l,null,"/__/auth/iframe"),this.a=t,kn(this.a,"apiKey",this.h),kn(this.a,"appName",this.i),this.b=null,this.c=[]}function ru(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(t){try{return Ja.app(t).auth().Ga()}catch(t){return[]}}function ou(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function au(t){var e=Zn();return Qs(t,Os,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=Nn(e)).f,r=r.a,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Nn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ir.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Lo(Zn())}))}function su(t){return t.v||(t.v=ar().then((function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=iu(t.b),(i=new nu(t.o,t.g,t.b,t.f)).f=e,i.b=n,i.c=G(r||[]),t.u=i.toString()),t.m=new Xs(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",be(n)}return n.status="ERROR",be(n)}))}(t)}))),t.v}function uu(t){return t.l||(t.A=t.c?yr(t.c,iu(t.b)):null,t.l=new Va(t.g,A(t.i),t.A),t.f&&Qa(t.l,t.f)),t.l}function cu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new ru(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ct(u||null),t.f=c,t.xb(l).toString()}function lu(t){if(this.a=t||Ja.INTERNAL.reactNative&&Ja.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(t){this.b=t,this.a={},this.f=m(this.c,this)}nu.prototype.toString=function(){return this.f?kn(this.a,"v",this.f):Bn(this.a.b,"v"),this.b?kn(this.a,"eid",this.b):Bn(this.a.b,"eid"),this.c.length?kn(this.a,"fw",this.c.join(",")):Bn(this.a.b,"fw"),this.a.toString()},ru.prototype.xb=function(t){return this.h=t,this},ru.prototype.toString=function(){var t;if(kn(t=this.m?On((t=Nn(this.m.url)).f,t.a,t.g,"/emulator/auth/handler"):On("https",this.u,null,"/__/auth/handler"),"apiKey",this.o),kn(t,"appName",this.c),kn(t,"authType",this.v),this.a.isOAuthProvider){var e,n=this.a;try{var r=Ja.app(this.c).auth().ka()}catch(t){r=null}for(e in n.nb=r,kn(t,"providerId",this.a.providerId),n=Tr((r=this.a).Hb))n[e]=n[e].toString();e=r.Pc,n=ct(n);for(var i=0;i<e.length;i++){var o=e[i];o in n&&delete n[o]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),ut(n)||kn(t,"customParameters",Ir(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&kn(t,"scopes",r.join(",")),this.l?kn(t,"redirectUrl",this.l):Bn(t.b,"redirectUrl"),this.g?kn(t,"eventId",this.g):Bn(t.b,"eventId"),this.i?kn(t,"v",this.i):Bn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!An(t,a)&&kn(t,a,this.b[a]);return this.h?kn(t,"tid",this.h):Bn(t.b,"tid"),this.f?kn(t,"eid",this.f):Bn(t.b,"eid"),(a=iu(this.c)).length&&kn(t,"fw",a.join(",")),t.toString()},(t=ou.prototype).Nb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){var n,r;r={type:"webStorageSupport"},su(n=o).then((function(){return t=n.m,e=r,t.qb.then((function(){return new fe((function(n){t.a.send(e.type,e,n,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&nr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return e=t,new fe((function(t){return function n(){yn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!a)return yn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=gr();return!Sr(t)&&!Ar(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return we(new E("popup-blocked"));if(a&&!Sr())return this.la().s((function(e){nr(t),i(e)})),r(),be();this.a||(this.a=au(uu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw nr(t),i(e),e}));return r(),e})).then((function(){No(n),a||tr(cu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=au(uu(this)));var i=this;return this.a.then((function(){No(e),tr(cu(i.o,i.g,i.b,t,e,Zn(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return su(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new E("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){H(this.h,(function(e){return e==t}))},(t=lu.prototype).get=function(t){return be(this.a.getItem(t)).then((function(t){return t&&Cr(t)}))},t.set=function(t,e){return be(this.a.setItem(t,Ir(e)))},t.T=function(t){return be(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fu,pu=[];function du(t,e,n){ut(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return we(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return mu(t,c),e})).s((function(e){throw mu(t,c),e}))}function mu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e})))}function bu(){if(!Eu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t,e,n,r=this;cr()&&self?(this.l=(n=cr()?self:null,U(pu,(function(t){t.b==n&&(e=t)})),e||(e=new hu(n),pu.push(e)),e),du(this.l,"keyChanged",(function(t,e){return ku(r).then((function(t){return 0<t.length&&U(r.a,(function(e){e(t)})),{keyProcessed:z(t,e.key)}}))})),du(this.l,"ping",(function(){return be(["keyChanged"])}))):((t=a.navigator)&&t.serviceWorker?be().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):be(null)).then((function(t){(r.h=t)&&(r.g=new yu(new vu(t)),gu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(r.o=!0)})).s((function(){})))}))}function wu(t){return new fe((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):(i=t,new fe((function(t,e){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return wu(t)})).then((function(t){e(t)})).s((function(t){n(t)})))}}))}function _u(t){return t.v||(t.v=wu(t)),t.v}function Eu(){try{return a.indexedDB}catch(t){return}}function Su(t){return t.objectStore("firebaseLocalStorage")}function Iu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Tu(t){return new fe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Cu(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?gu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):be();var n}function ku(t){return _u(t).then((function(t){var e=Su(Iu(t,!1));return e.getAll?Tu(e.getAll()):new fe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Nu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=be().then((function(){if(Eu()){var t=kr(),r="__sak"+t;return fu=fu||new bu,(n=fu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){U(e.a,(function(e){e(t)}))})),t}))}function Ou(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==lr();if(!(t=xu()||t&&Ja.INTERNAL.node&&Ja.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=xu()||Ja.INTERNAL.node.localStorage,this.type="localStorage"}function xu(){try{var t=a.localStorage,e=kr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==lr();if(!(t=Lu()||t&&Ja.INTERNAL.node&&Ja.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Lu()||Ja.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=a.sessionStorage,e=kr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Uu,t.Node=Vu,t.ReactNative=qu,t.Worker=Bu,this.a=t[lr()]}hu.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],U(i,(function(n){e.push(be().then((function(){return n(t.origin,t.data.data)})))})),Ee(e).then((function(e){var i=[];U(e,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(t,e){var n,r=!1,i=this;return _u(this).then((function(e){return Tu((e=Su(Iu(n=e,!0))).get(t))})).then((function(o){var a=Su(Iu(n,!0));return o?(o.value=e,Tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Tu(a.add(o)))})).then((function(){return i.c[t]=e,Cu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return _u(this).then((function(e){return Tu(Su(Iu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return _u(this).then((function(r){return e=!0,n.b++,Tu(Su(Iu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Cu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){var e;0==this.a.length&&(Au(e=this),function t(){e.f=setTimeout((function(){e.i=ku(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Nu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t}))},(t=Ou.prototype).get=function(t){return be(this.a[t])},t.set=function(t,e){return this.a[t]=e,be()},t.T=function(t){return delete this.a[t],be()},t.ca=function(){},t.ia=function(){},(t=Pu.prototype).get=function(t){var e=this;return be().then((function(){return Cr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Ir(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&Je(a.window,"storage",t)},t.ia=function(t){a.window&&en(a.window,"storage",t)},(t=Ru.prototype).get=function(){return be(null)},t.set=function(){return be()},t.T=function(){return be()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return be().then((function(){return Cr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Ir(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fu,ju,Uu={D:Pu,ab:Du},Vu={D:Pu,ab:Du},qu={D:lu,ab:Ru},Bu={D:Pu,ab:Ru},zu={qd:"local",NONE:"none",sd:"session"};function Wu(){var t=!(Ar(gr())||!ur()),e=Sr(),n=br();this.v=t,this.h=e,this.l=n,this.a={},t=Fu=Fu||new Mu;try{this.g=!Jn()&&Dr()||!a.indexedDB?new t.a.D:new Nu(new(cr()?Ou:t.a.D))}catch(t){this.g=new Ou,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Ou}this.m=new Ou,this.f=m(this.Xb,this),this.b={}}function Hu(){return ju=ju||new Wu}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Gu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Gu(e,n),"local"==e.D&&(t.b[n]=null),Ku(t,e.D).T(n)}function Yu(t){t.c&&(clearInterval(t.c),t.c=null)}function $u(t){this.a=t,this.b=Hu()}(t=Wu.prototype).get=function(t,e){return Ku(this,t.D).get(Gu(t,e))},t.set=function(t,e,n){var r=Gu(t,n),i=this,o=Ku(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=Gu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ut(this.a)&&(Ku(this,"local").ca(this.f),this.h||(Jn()||!Dr())&&a.indexedDB||!this.l||(Yu(r=this),r.c=setInterval((function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Xb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Gu(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ut(this.a)&&(Ku(this,"local").ia(this.f),Yu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ia(this.f):Yu(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},qt&&Yt&&10==Yt&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,m(this.lb,this))},t.lb=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var Xu,Ju={name:"authEvent",D:"local"};function Zu(){this.a=Hu()}function tc(t,e){this.b=ec,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Xu&&(Xu=a.Int32Array?new Int32Array(uc):uc),this.reset()}_(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=K(128,rc);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Xu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):G(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,lc)}_(cc,tc);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Zu,this.g=new $u(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new E("invalid-cordova-configuration",t)}function pc(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;e.c<56?sc(e,oc,56-e.c):sc(e,oc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(t){return t.f||(t.f=t.la().then((function(){return new fe((function(e){function n(t){o=!0,s&&s.cancel(),yc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=Qi(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=Cr(An(n=Nn(o),"firebaseError")||null))?S(n):null)?new Oo(e.c,e.b,null,null,n,null,e.S()):new Oo(e.c,e.b,o,e.f,null,null,e.S())),o=n||i),dc(r,o)}))}var r,i,o,s,u;t.Ea((function n(r){return e(r),t.Ra(n),!1})),r=t,i=new Oo("unknown",null,null,null,new E("no-auth-event")),o=!1,s=yn(500).then((function(){return yc(r).then((function(){o||dc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(mr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Do=Do||new xo,function(t){var e=Do;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=mr("universalLinks.subscribe",a))&&t(null,e.b))}(n)}))}))),t.f}function yc(t){var e,n=null;return(e=t.g).b.get(Ju,e.a).then(Po).then((function(e){return n=e,Qu((e=t.g).b,Ju,e.a)})).then((function(){return n}))}function gc(t){this.a=t,this.b=Hu()}(t=hc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(sr(void 0)?ar().then((function(){return new fe((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):we(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof mr("universalLinks.subscribe",a))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===mr("BuildInfo.packageName",a))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof mr("cordova.plugins.browsertab.openUrl",a))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof mr("cordova.InAppBrowser.open",a))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Nb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),be()},t.Lb=function(){return we(new E("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return we(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=be().then((function(){return No(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Oo(e,r,null,o,new E("no-auth-event"),null,i),u=mr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=mr("BuildInfo.displayName",a),l={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!gr().toLowerCase().match(/android/))return we(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=pc(o),l.sessionId=o;var h=cu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Ju,s.w(),e)})).then((function(){var e=mr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=mr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=mr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=gr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new fe((function(t,e){u=function(){var e=mr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||yn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))}))},l=function(){Pr()&&c()},o.addEventListener("resume",c,!1),gr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return yc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),vc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Oo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Ra=function(t){H(this.b,(function(e){return e==t}))};var mc={name:"pendingRedirect",D:"session"};function bc(t){return Qu(t.b,mc,t.a)}function wc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=m(this.o,this),this.b=new Lc,this.A=new Vc,this.g=new gc(Rc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=_c(this.O,this.m,this.v,I,this.G)}function _c(t,e,n,r,i){var o=Ja.SDK_VERSION||null;return new(sr()?hc:ou)(t,e,n,o,r,i)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Sc(t){t.a.Wb()&&Ec(t).s((function(e){var n=new Oo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Nc(e)&&t.o(n)})),t.a.Sb()||Mc(t.b)}function Ic(t,e){z(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(mc,e.a).then((function(t){return"pending"==t})).then((function(e){e?bc(t.g).then((function(){Ec(t).s((function(e){var n=new Oo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Nc(e)&&t.o(n)}))})):Sc(t)})).s((function(){Sc(t)}))}function Tc(t,e){H(t.h,(function(t){return t==e}))}wc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=_c(this.O,this.m,this.v,null,this.G),this.i={}},wc.prototype.o=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Mc(this.b),e};var Cc=new Or(2e3,1e4),kc=new Or(3e4,6e4);function Ac(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Nc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Oc(t,e,n,r,i){var o,a;return(a=t.g).b.set(mc,"pending",a.a).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Nc(e))throw new E("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new fe((function(){})):bc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Pc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Cc.get())}wc.prototype.qa=function(){return this.b.qa()};var xc={};function Rc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Dc(t,e,n,r){var i=Rc(e,n,r);return xc[i]||(xc[i]=new wc(t,e,n,r)),xc[i]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Fc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function jc(t,e){if(t.b=function(){return be(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):jc(t,n):jc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Bc(t,e){this.a=e,Ur(this,"verificationId",t)}function zc(t,e,n,r){return new Co(t).eb(e,n).then((function(t){return new Bc(t,r)}))}function Wc(t){var e=Di(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:t,expirationTime:Rr(1e3*e.exp),authTime:Rr(1e3*e.auth_time),issuedAtTime:Rr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Hc(t,e,n){var r=e&&e[Gc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ct(e),this.g=n,this.c=new Yi(null,r),this.b=[];var i=this;U(e[Kc]||[],(function(t){(t=Wr(t))&&i.b.push(t)})),Ur(this,"auth",this.a),Ur(this,"session",this.c),Ur(this,"hints",this.b)}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),be()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Uc(t,s,e,null)})).s((function(e){Uc(t,s,null,e)}))}(this,t,e):we(new E("invalid-auth-event")):(Uc(this,!1,null,null),be())):we(new E("invalid-auth-event"))},Lc.prototype.qa=function(){var t=this;return new fe((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new E("timeout"),r.a&&r.a.cancel(),r.a=yn(kc.get()).then((function(){r.b||(r.g=!0,Uc(r,!0,null,i))})))}))},Vc.prototype.h=function(t,e){var n,r,i,o,a;t?(n=t.c,r=t.b,t.a?(e.ma(t.c,null,t.a,t.b),be()):e.Fa(n,r)?(i=e,o=(t=t).b,a=t.c,i.Fa(a,o)(t.g,t.f,t.S(),t.i).then((function(t){i.ma(a,t,null,o)})).s((function(t){i.ma(a,null,t,o)}))):we(new E("invalid-auth-event"))):we(new E("invalid-auth-event"))},Bc.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)};var Kc="mfaInfo",Gc="mfaPendingCredential";function Qc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Hc(t,e,n),Ur(this,"resolver",this.b)}function Yc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(t){}return null}function $c(){}function Xc(t){Ur(this,"factorId",t.fa),this.a=t}function Jc(t){if(Xc.call(this,t),this.a.fa!=Co.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in Ve.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=m(this.xc,this),Je(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Gr]=t.uid),t.displayName&&(r[Hr]=t.displayName),t.enrollmentTime&&(r[Kr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Qr]=t.phoneNumber);try{e=new Yr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Ur(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function il(t){this.c=t,this.b=this.a=null}function ol(t){return t.b&&1e3*t.b.c||0}function al(t,e){var n=e.refreshToken;t.b=Ri(e[Ba]||""),t.a=n}function sl(t,e){return n=t.c,r=e,new fe((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Xa(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e($s(n)):n.access_token&&n.refresh_token?t(n):e(new E("internal-error")):e(new E("network-request-failed"))}),"POST",qn(r).toString(),n.g,n.v.get()):e(new E("internal-error"))})).then((function(e){return t.b=Ri(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}function ul(t,e){this.a=t||null,this.b=e||null,Vr(this,{lastSignInTime:Rr(e||null),creationTime:Rr(t||null)})}function cl(t,e,n,r,i,o){Vr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ll(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r,i=Ja.SDK_VERSION?yr(Ja.SDK_VERSION):null;this.a=new Va(this.l,A(I),i),t.emulatorConfig&&Qa(this.a,t.emulatorConfig),this.b=new il(this.a),ml(this,e[Ba]),al(this.b,e),Ur(this,"refreshToken",this.b.a),_l(this,n||{}),hn.call(this),this.P=!1,this.o&&wr()&&(this.i=Dc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=(r=this,new nl((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=ol(r.b)-w()-3e5;return 0<t?t:0}))),this.$=m(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Qa(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){pl(o,t.f)},this.aa=null,this.N=new tl(this,n),Ur(this,"multiFactor",this.N)}function hl(t,e){t.ba&&en(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&Je(e,"languageCodeChanged",t.Ba)}function fl(t,e){t.W&&en(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&Je(e,"emulatorConfigChanged",t.za)}function pl(t,e){t.X=e,$a(t.a,Ja.SDK_VERSION?yr(Ja.SDK_VERSION,t.X):null)}function dl(t,e){t.aa&&en(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&Je(e,"frameworkChanged",t.Aa)}function vl(e){try{return Ja.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function yl(t){t.A||t.u.b||(t.u.start(),en(t,"tokenChanged",t.$),Je(t,"tokenChanged",t.$))}function gl(t){en(t,"tokenChanged",t.$),t.u.stop()}function ml(t,e){t.ya=e,Ur(t,"_lat",e)}function bl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ee(e).then((function(){return t}))}function wl(t){t.i&&!t.P&&(t.P=!0,Ic(t.i,t))}function _l(t,e){Vr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ul(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function El(){}function Sl(t){return be().then((function(){if(t.A)throw new E("app-deleted")}))}function Il(t){return q(t.providerData,(function(t){return t.providerId}))}function Tl(t,e){e&&(Cl(t,e.providerId),t.providerData.push(e))}function Cl(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function kl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ur(t,e,n)}function Al(t,e){var n,r;t!=e&&(Vr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ur(t,"metadata",new ul((r=e.metadata).a,r.b)):Ur(t,"metadata",new ul),U(e.providerData,(function(e){Tl(t,e)})),n=t.b,r=e.b,n.b=r.b,n.a=r.a,Ur(t,"refreshToken",t.b.a),el(t.N,e.N.b))}function Nl(t){return t.I().then((function(e){var n,r,i=t.isAnonymous;return r=e,Qs((n=t).a,Ts,{idToken:r}).then(m(n.Jc,n)).then((function(){return i||kl(t,"isAnonymous",!1),e}))}))}function Ol(t,e){e[Ba]&&t.ya!=e[Ba]&&(al(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),ml(t,e[Ba]),kl(t,"refreshToken",t.b.a))}function Pl(t,e){return Nl(t).then((function(){if(z(Il(t),e))return bl(t).then((function(){throw new E("provider-already-linked")}))}))}function xl(t,e,n){return qr({user:t,credential:Ao(e),additionalUserInfo:e=Ui(e),operationType:n})}function Rl(t,e){return Ol(t,e),t.reload().then((function(){return t}))}function Dl(t,e,n,r,i){if(!wr())return we(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return we(t.f);var o=ji(n.providerId),a=kr(t.uid+":::"),s=null;(!Sr()||ur())&&t.o&&n.isOAuthProvider&&(s=cu(t.o,t.l,t.m,e,n,null,a,Ja.SDK_VERSION||null,null,null,t.tenantId));var u=rr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Ml(t),!i)return t.I().then((function(){}))})).then((function(){return Ac(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new fe((function(n,r){t.ma(e,null,new E("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=a,t.c=Pc(t.i,t,e,u,a)}))})).then((function(t){return u&&nr(u),t?qr(t):null})).s((function(t){throw u&&nr(u),t})),Fl(t,r,i)}function Ll(t,e,n,r,i){if(!wr())return we(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return we(t.f);var o=null,a=kr(t.uid+":::");return r=r().then((function(){if(Ml(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,bl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Vl,t.w(),e.a)),e})).then((function(){return Oc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return ql(t.ha);throw o})).then((function(){if(o)throw o})),Fl(t,r,i)}function Ml(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Fl(t,e,n){var r,i=(e=e,n=n,(r=t).f&&!n?(e.cancel(),we(r.f)):e.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.f||r.dispatchEvent(new Zc("userInvalidated")),r.f=t),t})));return t.G.push(i),i.na((function(){W(t.G,i)})),i.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),vl(t),m(t.ic,t))),n||e}))}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ba]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ll(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&Tl(r,qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Ul(t){this.a=t,this.b=Hu()}Hc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=ct(e.f);return delete n[Kc],delete n[Gc],ht(n,t),e.g(n)}))},_(Qc,E),$c.prototype.rb=function(t,e,n){return e.type==$i?(o=this,a=t,s=n,e.Ha().then((function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),ht(t,{phoneVerificationInfo:To(o.a)}),Qs(a,Ss,t)}))):(r=this,i=t,e.Ha().then((function(t){return ht(t={mfaPendingCredential:t},{phoneVerificationInfo:To(r.a)}),Qs(i,Is,t)})));var r,i,o,a,s},_(Xc,$c),_(Jc,Xc),_(Zc,Ve),(t=tl.prototype).xc=function(t){var e;el(this,(t=t.gd,e=[],U(t.mfaInfo||[],(function(t){(t=Wr(t))&&e.push(t)})),e))},t.Qb=function(){return this.a.I().then((function(t){return new Yi(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Ol(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Gs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return el(e,r),Ol(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=yn(rl(e,n)).then((function(){return t=a.document,e=null,Pr()||!t?be():new fe((function(n){e=function(){Pr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ol(this)}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new E("user-token-expired")):t||!this.b||w()>ol(this)-3e4?this.a?sl(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})},ul.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(ll,hn),ll.prototype.wa=function(t){this.pa=t,Ga(this.a,t)},ll.prototype.ka=function(){return this.pa},ll.prototype.Ga=function(){return G(this.X)},ll.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Ur(ll.prototype,"providerId","firebase"),(t=ll.prototype).reload=function(){var t=this;return Fl(this,Sl(this).then((function(){return Nl(t).then((function(){return bl(t)})).then(El)})))},t.nc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},t.I=function(t){var e=this;return Fl(this,Sl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.ya&&(ml(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),kl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,(function(t){return new cl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)Tl(this,n[r]);kl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{gd:t}))},t.Kc=function(t){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Fl(this,t.c(this.a,this.uid).then((function(t){return Ol(e,t),n=xl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Fl(this,Pl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=xl(e,t,"link"),Rl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Fl(this,Pl(this,"phone").then((function(){return zc(vl(n),t,e,m(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Fl(this,be().then((function(){return zc(vl(n),t,e,m(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Fl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.dd=function(t){var e=this;return Fl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ol(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Fl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return Fl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ol(e,t),kl(e,"displayName",t.displayName||null),kl(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Ur(t,"displayName",e.displayName),Ur(t,"photoURL",e.photoURL))})),bl(e)})).then(El))},t.bd=function(t){var e=this;return Fl(this,Nl(this).then((function(n){return z(Il(e),t)?Qs(e.a,ws,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(Il(e),(function(t){n[t]||Cl(e,t)})),n[Co.PROVIDER_ID]||Ur(e,"phoneNumber",null),bl(e)})):bl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Fl(this,this.I().then((function(e){return Qs(t.a,bs,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");hl(t,null),fl(t,null),dl(t,null),t.G=[],t.A=!0,gl(t),Ur(t,"refreshToken",null),t.i&&Tc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?m(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?m(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?m(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?m(this.Kb,this):null},t.Dc=function(t){var e=this;return Dl(this,"linkViaPopup",t,(function(){return Pl(e,t.providerId).then((function(){return bl(e)}))}),!1)},t.Mc=function(t){return Dl(this,"reauthViaPopup",t,(function(){return be()}),!0)},t.Ec=function(t){var e=this;return Ll(this,"linkViaRedirect",t,(function(){return Pl(e,t.providerId)}),!1)},t.Nc=function(t){return Ll(this,"reauthViaRedirect",t,(function(){return be()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fl(this,this.I().then((function(n){return fs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=xl(i,t,"link"),Rl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fl(this,be().then((function(){return Zi(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=xl(i,t,"reauthenticate"),Ol(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Fl(this,this.I().then((function(e){return n=e,void 0===t||ut(t)?{}:Ni(new bi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Fl(this,this.I().then((function(t){return r=t,void 0===e||ut(e)?{}:Ni(new bi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Fl(this,t=Zi(be(t),n.uid).then((function(t){return e=xl(n,t,"reauthenticate"),Ol(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ht(t,this.metadata.w()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ht(t,this.N.w()),t};var Vl={name:"redirectUser",D:"session"};function ql(t){return Qu(t.b,Vl,t.a)}function Bl(t){var e,n,r,i;this.a=t,this.b=Hu(),this.c=null,this.f=(n=Hl("local"),r=Hl("session"),i=Hl("none"),function(t,e,n){var r=Gu(e,n),i=Ku(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Cr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(Wl,e.a).then((function(t){return t?Hl(t):n}))}))}))})).then((function(t){return e.c=t,zl(e,t.D)})).s((function(){e.c||(e.c=n)}))),this.b.addListener(Hl("local"),this.a,m(this.g,this))}function zl(t,e){var n,r,i=[];for(n in zu)zu[n]!==e&&i.push(Qu(t.b,Hl(zu[n]),t.a));return i.push(Qu(t.b,Wl,t.a)),r=i,new fe((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)_e(r[s],b(o,s),a);else t(i)}))}Bl.prototype.g=function(){var t=this,e=Hl("local");Yl(this,(function(){return be().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return zl(t,"local").then((function(){t.c=e}))}))}))};var Wl={name:"persistence",D:"session"};function Hl(t){return{name:"authUser",D:t}}function Kl(t,e){return Yl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Gl(t){return Yl(t,(function(){return Qu(t.b,t.c,t.a)}))}function Ql(t,e,n){return Yl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})}))}))}function Yl(t,e){return t.f=t.f.then(e,e),t.f}function $l(t){if(this.m=!1,Ur(this,"settings",new qc),Ur(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new E("invalid-api-key");var e,n,r,i,o,a;t=Ja.SDK_VERSION?yr(Ja.SDK_VERSION):null,this.a=new Va(this.app.options&&this.app.options.apiKey,A(I),t),this.R=[],this.u=[],this.P=[],this.ac=Ja.INTERNAL.createSubscribe(m(this.yc,this)),this.X=void 0,this.bc=Ja.INTERNAL.createSubscribe(m(this.zc,this)),rh(this,null),this.l=new Bl(this.app.options.apiKey+":"+this.app.name),this.G=new Ul(this.app.options.apiKey+":"+this.app.name),this.$=uh(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(Vl,t.a).then((function(t){return t&&e&&(t.authDomain=e),jl(t||{})}))}(t.G,t.app.options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),ql(t.G)}));return uh(t,e)}(e).then((function(){return Ql(e.l,n,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Kl(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:Gl(e.l)}))):null})).then((function(t){rh(e,t||null)})),uh(e,t))),this.i=uh(this,(r=this).$.then((function(){return eh(r)})).s((function(){})).then((function(){if(!r.m)return r.pa()})).s((function(){})).then((function(){var t;r.m||(r.ba=!0,(t=r.l).b.addListener(Hl("local"),t.a,r.pa))}))),this.ba=!1,this.pa=m(this.Yc,this),this.Ba=m(this.da,this),this.ya=m(this.kc,this),this.za=m(this.vc,this),this.Aa=m(this.wc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&wr()&&(i.gb=i.$.then((function(){var t;if(!i.m)return i.b=Dc(o,a,i.app.name,i.f),Ic(i.b,i),oh(i)&&wl(oh(i)),i.o&&(wl(i.o),(t=i.o).wa(i.ka()),hl(t,i),pl(t=i.o,i.N),dl(t,i),Qa((t=i.o).a,i.f),fl(t,i),i.o=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Fc,this),this.A=0,hn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null,this.N=[],this.f=null}function Xl(t){Ve.call(this,"languageCodeChanged"),this.h=t}function Jl(t){Ve.call(this,"emulatorConfigChanged"),this.c=t}function Zl(t){Ve.call(this,"frameworkChanged"),this.f=t}function th(t){return t.gb||we(new E("auth-domain-config-required"))}function eh(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=th(t).then((function(){return t.b.qa()})).then((function(t){return t?qr(t):null}));return uh(t,e)}function nh(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return r=n,i=e,o=t.G,a=t.Ga(),s=new ll(r,i),o&&(s.ha=o),a&&pl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(e){return oh(t)&&e.uid==oh(t).uid?Al(oh(t),e):(rh(t,e),wl(e)),t.da(e)})).then((function(){sh(t)}))}function rh(t,e){var n,r;oh(t)&&(n=oh(t),r=t.Ba,H(n.R,(function(t){return t==r})),en(oh(t),"tokenChanged",t.ya),en(oh(t),"userDeleted",t.za),en(oh(t),"userInvalidated",t.Aa),gl(oh(t))),e&&(e.R.push(t.Ba),Je(e,"tokenChanged",t.ya),Je(e,"userDeleted",t.za),Je(e,"userInvalidated",t.Aa),0<t.A&&yl(e)),Ur(t,"currentUser",e),e&&(e.wa(t.ka()),hl(e,t),pl(e,t.N),dl(e,t),Qa(e.a,t.f),fl(e,t))}function ih(t,e){var n=null,r=null;return uh(t,e.then((function(e){return n=Ao(e),r=Ui(e),nh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),t,m(t.jc,t))),n||e})).then((function(){return qr({user:oh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function oh(t){return t.currentUser}function ah(t){return oh(t)&&oh(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](ah(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](ah(t))}}function uh(t,e){return t.R.push(e),e.na((function(){W(t.R,e)})),e}function ch(){}function lh(){this.a={},this.b=1e12}Bl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!br()&&"none"!==t)throw n}}(t),Yl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,zl(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):be()}))},_($l,hn),_(Xl,Ve),_(Jl,Ve),_(Zl,Ve),(t=$l.prototype).wb=function(t){return uh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ga(this.a,this.aa),this.dispatchEvent(new Xl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");xr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&ar().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Qa(this.a,this.f),this.dispatchEvent(new Jl(this.f))}},t.Fc=function(t){this.N.push(t),$a(this.a,Ja.SDK_VERSION?yr(Ja.SDK_VERSION,this.N):null),this.dispatchEvent(new Zl(this.N))},t.Ga=function(){return G(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:oh(this)&&oh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?m(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ih(i,hs(i.a,o))}))},t.Wc=function(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=this,n=ji(t.providerId),r=kr(),i=null;(!Sr()||ur())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=cu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,Ja.SDK_VERSION||null,null,null,this.S(),this.f));var o=rr(i,n&&n.ua,n&&n.ta);return uh(this,n=th(this).then((function(n){return Ac(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new fe((function(t,n){e.ma("signInViaPopup",null,new E("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Pc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&nr(o),t?qr(t):null})).s((function(t){throw o&&nr(o),t})))},t.Xc=function(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=this;return uh(this,th(this).then((function(){return Yl(t=e.l,(function(){return t.b.set(Wl,t.c.D,t.a)}));var t})).then((function(){return Oc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return eh(this).then((function(e){return t.b&&Fc(t.b.b),e})).s((function(e){throw t.b&&Fc(t.b.b),e}))},t.cd=function(t){if(!t)return we(new E("null-user"));if(this.W!=t.tenantId)return we(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=t,i=n,o=e.G,a=e.Ga(),s=r.b,(n={})[Ba]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new ll(i||{apiKey:r.l,authDomain:r.o,appName:r.m},n),o&&(i.ha=o),a&&pl(i,a),Al(i,r),i);return uh(this,this.i.then((function(){if(e.app.options.apiKey!=t.l)return u.reload()})).then((function(){return oh(e)&&t.uid==oh(e).uid?(Al(oh(e),t),e.da(t)):(rh(e,u),wl(u),e.da(u))})).then((function(){sh(e)})))},t.zb=function(){var t=this;return uh(this,this.i.then((function(){return t.b&&Fc(t.b.b),oh(t)?(rh(t,null),Gl(t.l).then((function(){sh(t)}))):be()})))},t.Yc=function(){var t=this;return Ql(this.l,this.app.options.authDomain).then((function(e){if(!t.m){var n,r;if((r=oh(t)&&e)&&(r=oh(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return Al(oh(t),e),oh(t).I();(oh(t)||e)&&(rh(t,e),e&&(wl(e),e.ha=t.G),t.b&&Ic(t.b,t),sh(t))}}))},t.da=function(t){return Kl(this.l,t)},t.kc=function(){sh(this),this.da(oh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return ih(e,be(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(oh(e))}))},t.zc=function(t){var e,n,r=this;n=function(){t.next(oh(r))},(e=this).P.push(n),uh(e,e.i.then((function(){!e.m&&z(e.P,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(ah(e)))})))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(oh(r)):"function"==typeof t.next&&t.next(oh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(oh(r)):"function"==typeof t.next&&t.next(oh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return uh(this,this.i.then((function(){return oh(e)?oh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return ih(e,Qs(e.a,Bs,{token:t}))})).then((function(t){var n=t.user;return kl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return ih(n,Qs(n.a,zs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return ih(n,Qs(n.a,gs,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return ih(e,t.ja(e.a))}))},t.Rc=function(t){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=oh(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ih(t,t.a.yb()).then((function(e){var n=e.user;return kl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return oh(this)&&oh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&oh(this)&&yl(oh(this))},t.Oc=function(t){var e=this;U(this.u,(function(n){n==t&&e.A--})),this.A<0&&(this.A=0),0==this.A&&oh(this)&&gl(oh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),uh(this,this.i.then((function(){e.m||z(e.u,t)&&t(ah(e))})))},t.removeAuthTokenListener=function(t){H(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Hl("local"),t.a,this.pa),this.b&&(Tc(this.b,this),Fc(this.b.b)),Promise.resolve()},t.gc=function(t){return uh(this,Qs(this.a,ms,{identifier:t,continueUri:_r()?Zn():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.Ac=function(t){return!!Eo(t)},t.vb=function(t,e){var n=this;return uh(this,be().then((function(){var t=new bi(e);if(!t.c)throw new E("argument-error",Ei+" must be true when sending sign in link to email");return Ni(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return uh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return uh(this,this.a.Qa(t).then((function(t){return new $r(t)})))},t.ib=function(t){return uh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return uh(this,be().then((function(){return void 0===e||ut(e)?{}:Ni(new bi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return uh(this,zc(this,t,e,m(this.Za,this)))},t.Uc=function(t,e){var n=this;return uh(this,be().then((function(){var r=e||Zn(),i=_o(t,r);if(!(r=Eo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Za(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var hh=null;function fh(t,e){return(e=ph(e))&&t.a[e]||null}function ph(t){return(t=void 0===t?1e12:t)?t.toString():null}function dh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Zt(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Je(this.f,"click",this.i)}function vh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function gh(){}lh.prototype.render=function(t,e){return this.a[this.b.toString()]=new dh(t,e),this.b++},lh.prototype.reset=function(t){var e=fh(this,t);t=ph(t),e&&t&&(e.delete(),delete this.a[t])},lh.prototype.getResponse=function(t){return(t=fh(this,t))?t.getResponse():null},lh.prototype.execute=function(t){(t=fh(this,t))&&t.execute()},dh.prototype.getResponse=function(){return vh(this),this.b},dh.prototype.execute=function(){vh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},dh.prototype.delete=function(){vh(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},Ur(yh,"FACTOR_ID","phone"),gh.prototype.g=function(){return be(hh=hh||new lh)},gh.prototype.c=function(){};var mh=null;function bh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wh=new pt(yt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Or(3e4,6e4);bh.prototype.g=function(t){var e=this;return new fe((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new E("internal-error"))),delete a[e.a]},be(Ra(wt(wh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},bh.prototype.c=function(){this.b--};var Eh=null;function Sh(t,e,n,r,i,o,s){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s=s?mh=mh||new gh:Eh=Eh||new bh,this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[kh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Zt(e)||!this.i&&Zt(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Va(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(t){var e;Ah(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=mr(c,a))&&e(t)};var l=this.a[Th];this.a[Th]=function(){var t;Ah(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=mr(l,a))&&t()}}var Ih="callback",Th="expired-callback",Ch="sitekey",kh="size";function Ah(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Nh(t,e){return t.h.push(e),e.na((function(){W(t.h,e)})),e}function Oh(t){if(t.A)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var r=!1;try{this.b=n||Ja.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ja.SDK_VERSION?yr(Ja.SDK_VERSION,o):null,Sh.call(this,n,t,e,(function(){try{var e=i.b.auth().ka()}catch(t){e=null}return e}),o,A(I),r)}function xh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Rh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Rh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Sh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,be().then((function(){if(_r()&&!cr())return ar();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Qs(t.o,Ps,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Oh(this);var t=this;return Nh(this,this.Ia().then((function(){var e,n;return null===t.c&&(n=t.m,t.i||(e=Zt(n),n=ie("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){Oh(this);var t=this;return Nh(this,this.render().then((function(e){return new fe((function(n){var r,i=t.g.getResponse(e);i?n(i):(r=function(e){var i;e&&(i=r,H(t.l,(function(t){return t==i})),n(e))},t.l.push(r),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){Oh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Oh(this),this.A=!0,this.v.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=Zt(this.m);t=e.firstChild;)e.removeChild(t)},_(Ph,Sh);var Rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Lh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Mh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Fh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Vh(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}}function qh(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Bh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return p(t)&&"string"==typeof t.uid}function Wh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function Hh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Yh(r,t[n],e[n].j)}}function Gh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){xh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Yh(e,n,r)}function Yh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return xh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh($l.prototype,{ib:{name:"applyActionCode",j:[Dh("code")]},Qa:{name:"checkActionCode",j:[Dh("code")]},mb:{name:"confirmPasswordReset",j:[Dh("code"),Dh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dh("email"),Dh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Dh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Dh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Hh(Mh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Hh(Mh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Dh("email"),Hh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Dh("email"),Mh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Dh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Uh()]},Sc:{name:"signInWithCustomToken",j:[Dh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Dh("email"),Dh("password")]},Uc:{name:"signInWithEmailLink",j:[Dh("email"),Dh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Wc:{name:"signInWithPopup",j:[qh()]},Xc:{name:"signInWithRedirect",j:[qh()]},cd:{name:"updateCurrentUser",j:[Hh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ll)}},jh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Dh("url")]},hd:{name:"verifyPasswordResetCode",j:[Dh("code")]}}),Gh($l.prototype,{lc:{name:"languageCode",jb:Hh(Dh(),jh(),"languageCode")},ti:{name:"tenantId",jb:Hh(Dh(),jh(),"tenantId")}}),($l.Persistence=zu).LOCAL="local",$l.Persistence.SESSION="session",$l.Persistence.NONE="none",Kh(ll.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Lh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},pb:{name:"linkWithCredential",j:[Uh()]},Cc:{name:"linkWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Dc:{name:"linkWithPopup",j:[qh()]},Ec:{name:"linkWithRedirect",j:[qh()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},sb:{name:"reauthenticateWithCredential",j:[Uh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Mc:{name:"reauthenticateWithPopup",j:[qh()]},Nc:{name:"reauthenticateWithRedirect",j:[qh()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Hh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},bd:{name:"unlink",j:[Dh("provider")]},Ab:{name:"updateEmail",j:[Dh("email")]},Bb:{name:"updatePassword",j:[Dh("password")]},dd:{name:"updatePhoneNumber",j:[Uh("phone")]},Cb:{name:"updateProfile",j:[Mh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Dh("email"),Hh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(fe.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Gh(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Lh("appVerificationDisabledForTesting")}}),Kh(Bc.prototype,{confirm:{name:"confirm",j:[Dh("verificationCode")]}}),Qh(Ji,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,bo,Io,no],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Hh(Dh(),Mh(),"json")]),Qh(wo,"credential",(function(t,e){return new mo(t,e)}),[Dh("email"),Dh("password")]),Kh(mo.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(co.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(co,"credential",lo,[Hh(Dh(),Mh(),"token")]),Qh(wo,"credentialWithLink",_o,[Dh("email"),Dh("emailLink")]),Kh(ho.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(ho,"credential",fo,[Hh(Dh(),Mh(),"token")]),Kh(po.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(po,"credential",vo,[Hh(Dh(),Hh(Mh(),jh()),"idToken"),Hh(Dh(),jh(),"accessToken",!0)]),Kh(yo.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(yo,"credential",go,[Hh(Dh(),Mh(),"token"),Dh("secret",!0)]),Kh(uo.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},credential:{name:"credential",j:[Hh(Dh(),Hh(Mh(),jh()),"optionsOrIdToken"),Hh(Dh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Kh(ro.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(to.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Qh(Co,"credential",ko,[Dh("verificationId"),Dh("verificationCode")]),Kh(Co.prototype,{eb:{name:"verifyPhoneNumber",j:[Hh(Dh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,$i)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,Xi)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,Xi)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Wh()]}}),Kh(So.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(E.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(Mo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(Lo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(Qc.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Kh(Hc.prototype,{Qc:{name:"resolveSignIn",j:[Vh()]}}),Kh(tl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[Vh(),Dh("displayName",!0)]},ad:{name:"unenroll",j:[Hh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:zh},Dh(),"multiFactorInfoIdentifier")]}}),Kh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(li,"parseLink",mi,[Dh("link")]),Qh(yh,"assertion",(function(t){return new Jc(t)}),[Uh("phone")]),function(){if(void 0===Ja||!Ja.INTERNAL||!Ja.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Xr,VERIFY_AND_CHANGE_EMAIL:Zr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$l,AuthCredential:Ji,Error:E};Qh(t,"EmailAuthProvider",wo,[]),Qh(t,"FacebookAuthProvider",co,[]),Qh(t,"GithubAuthProvider",ho,[]),Qh(t,"GoogleAuthProvider",po,[]),Qh(t,"TwitterAuthProvider",yo,[]),Qh(t,"OAuthProvider",uo,[Dh("providerId")]),Qh(t,"SAMLAuthProvider",so,[Dh("providerId")]),Qh(t,"PhoneAuthProvider",Co,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof $l)}}]),Qh(t,"RecaptchaVerifier",Ph,[Hh(Dh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Ja.app.App)}}]),Qh(t,"ActionCodeURL",li,[]),Qh(t,"PhoneMultiFactorGenerator",yh,[]),Ja.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new $l(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ja.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.mc,t),addAuthTokenListener:m(t.cc,t),removeAuthTokenListener:m(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ja.registerVersion("@firebase/auth","0.15.1"),Ja.INTERNAL.extendNamespace({User:ll})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Za=(ts.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Zo(e))},ts.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:Jo(t)},ts.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},ts.prototype.prefixedName_=function(t){return this.prefix_+t},ts.prototype.toString=function(){return this.domStorage_.toString()},ts);function ts(t){this.domStorage_=t,this.prefix_="firebase:"}var es=(ns.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},ns.prototype.get=function(t){return ea(this.cache_,t)?this.cache_[t]:null},ns.prototype.remove=function(t){delete this.cache_[t]},ns);function ns(){this.cache_={},this.isInMemoryStorage=!0}function rs(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Oo(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new oa).update(e),t=t.digest(),xo.encodeByteArray(t)}function is(t,e){Oo(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(vs.logLevel=Na.VERBOSE,ms=vs.log.bind(vs),e&&ds.set("logging_enabled",!0)):"function"==typeof t?ms=t:(ms=null,ds.remove("logging_enabled"))}function os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+gs.apply(void 0,To(t));vs.error(n)}function as(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+gs.apply(void 0,To(t));throw vs.error(n),new Error(n)}function ss(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+gs.apply(void 0,To(t));vs.warn(n)}function us(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function cs(t,e){return t===e?0:t<e?-1:1}function ls(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zo(e))}function hs(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}var fs,ps=(Dr=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Za(e)}}catch(t){}return new es})("localStorage"),ds=Dr("sessionStorage"),vs=new La("@firebase/database"),ys=(fs=1,function(){return fs++}),gs=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?Zo(o):o,r+=" "}return r},ms=null,bs=!0,ws=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===bs&&(bs=!1,null===ms&&!0===ds.get("logging_enabled")&&is(!0)),ms&&(t=gs.apply(null,e),ms(t))},_s=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ws.apply(void 0,To([t],e))}},Es="[MIN_NAME]",Ss="[MAX_NAME]",Is=function(t,e){if(t===e)return 0;if(t===Es||e===Ss)return-1;if(e===Es||t===Ss)return 1;var n=Ps(t),r=Ps(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},Ts=function t(e){if("object"!=typeof e||null===e)return Zo(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Zo(r[o]),i+=":",i+=t(e[r[o]]);return i+"}"};function Cs(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function ks(t){var e,n,r,i;Oo(!us(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function As(t){try{t()}catch(u){setTimeout((function(){throw ss("Exception was thrown by user callback.",u.stack||""),u}),Math.floor(0))}}function Ns(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var Os=new RegExp("^-?(0*)\\d{1,10}$"),Ps=function(t){return Os.test(t)&&-2147483648<=(t=Number(t))&&t<=2147483647?t:null},xs=(Object.defineProperty(Rs,"Empty",{get:function(){return new Rs("")},enumerable:!1,configurable:!0}),Rs.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Rs.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Rs.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new Rs(this.pieces_,t)},Rs.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Rs.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Rs.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},Rs.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},Rs.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new Rs(t,0)},Rs.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof Rs)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new Rs(e,0)},Rs.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Rs.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return Rs.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},Rs.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Is(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},Rs.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},Rs.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},Rs);function Rs(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Ds=(Object.defineProperty(Ls,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(Ls,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),Ls.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=va(t),this.checkValid_()},Ls.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=va(t),0<this.parts_.length&&--this.byteLength_},Ls.prototype.checkValid_=function(){if(this.byteLength_>Ls.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+Ls.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>Ls.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ls.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},Ls.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},Ls);function Ls(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=va(this.parts_[n]);this.checkValid_()}var Ms="firebaseio.com",Fs="websocket",js="long_polling",Us=(Vs.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},Vs.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Vs.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},Vs.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},Vs.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ps.set("host:"+this.host,this.internalHost))},Vs.prototype.connectionURL=function(t,e){var n;if(Oo("string"==typeof t,"typeof type must == string"),Oo("object"==typeof e,"typeof params must == object"),t===Fs)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==js)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Cs(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},Vs.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Vs.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},Vs);function Vs(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ps.get("host:"+t)||this.host}function qs(t,e){var n=Zs(t),r=n.namespace;return"firebase.com"===n.domain&&as(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Us(n.host,n.secure,r,e,t,"",r!==n.subdomain),path:new xs(n.pathString)}}function Bs(t){return"string"==typeof t&&0!==t.length&&!tu.test(t)}function zs(t){return"string"==typeof t&&0!==t.length&&!eu.test(t)}function Ws(t){return null===t||"string"==typeof t||"number"==typeof t&&!us(t)||t&&"object"==typeof t&&ea(t,".sv")}function Hs(t,e,n,r,i){i&&void 0===n||ru(fa(t,e,i),n,r)}function Ks(t,e,n,r,i){if(!i||void 0!==n){var o=fa(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Cs(n,(function(t,e){if(t=new xs(t),ru(o,e,r.child(t)),".priority"===t.getBack()&&!Ws(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(t)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Bs(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(xs.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}}function Gs(t,e,n,r){if(!r||void 0!==n){if(us(n))throw new Error(fa(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ws(n))throw new Error(fa(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Qs(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fa(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ys(t,e,n,r){if(!(r&&void 0===n||Bs(n)))throw new Error(fa(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function $s(t,e,n,r){if(!(r&&void 0===n||zs(n)))throw new Error(fa(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Xs(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function Js(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Bs(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!zs(r=(r=r)&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(fa(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var Zs=function(t){var e,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(l=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=So(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ss("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},tu=/[\[\].#$\/\u0000-\u001F\u007F]/,eu=/[\[\].#$\u0000-\u001F\u007F]/,nu=10485760,ru=function t(e,n,r){var i=r instanceof xs?new Ds(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(us(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>nu/3&&va(n)>nu)throw new Error(e+"contains a string greater than "+nu+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(Cs(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Bs(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},iu=(ou.prototype.cancel=function(t){ha("OnDisconnect.cancel",0,1,arguments.length),pa("OnDisconnect.cancel",1,t,!0);var e=new Lo;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},ou.prototype.remove=function(t){ha("OnDisconnect.remove",0,1,arguments.length),Xs("OnDisconnect.remove",this.path_),pa("OnDisconnect.remove",1,t,!0);var e=new Lo;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},ou.prototype.set=function(t,e){ha("OnDisconnect.set",1,2,arguments.length),Xs("OnDisconnect.set",this.path_),Hs("OnDisconnect.set",1,t,this.path_,!1),pa("OnDisconnect.set",2,e,!0);var n=new Lo;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},ou.prototype.setWithPriority=function(t,e,n){ha("OnDisconnect.setWithPriority",2,3,arguments.length),Xs("OnDisconnect.setWithPriority",this.path_),Hs("OnDisconnect.setWithPriority",1,t,this.path_,!1),Gs("OnDisconnect.setWithPriority",2,e,!1),pa("OnDisconnect.setWithPriority",3,n,!0);var r=new Lo;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},ou.prototype.update=function(t,e){if(ha("OnDisconnect.update",1,2,arguments.length),Xs("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ss("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("OnDisconnect.update",1,t,this.path_,!1),pa("OnDisconnect.update",2,e,!0);var i=new Lo;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},ou);function ou(t,e){this.repo_=t,this.path_=e}var au=(su.prototype.toJSON=function(){return ha("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},su);function su(t,e){this.committed=t,this.snapshot=e}var uu,cu,lu,hu,fu=(uu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cu=0,lu=[],function(t){var e=t===cu;cu=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=uu.charAt(t%64),t=Math.floor(t/64);Oo(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===lu[r];r--)lu[r]=0;lu[r]++}else for(r=0;r<12;r++)lu[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=uu.charAt(lu[r]);return Oo(20===i.length,"nextPushId: Length should be 20."),i}),pu=(du.Wrap=function(t,e){return new du(t,e)},du);function du(t,e){this.name=t,this.node=e}function vu(){}vu.prototype.getCompare=function(){return this.compare.bind(this)},vu.prototype.indexedValueChanged=function(t,e){return t=new pu(Es,t),e=new pu(Es,e),0!==this.compare(t,e)},vu.prototype.minPost=function(){return pu.MIN};var yu,gu=(bo(mu,yu=K=vu),Object.defineProperty(mu,"__EMPTY_NODE",{get:function(){return hu},set:function(t){hu=t},enumerable:!1,configurable:!0}),mu.prototype.compare=function(t,e){return Is(t.name,e.name)},mu.prototype.isDefinedOn=function(t){throw Po("KeyIndex.isDefinedOn not expected to be called.")},mu.prototype.indexedValueChanged=function(t,e){return!1},mu.prototype.minPost=function(){return pu.MIN},mu.prototype.maxPost=function(){return new pu(Ss,hu)},mu.prototype.makePost=function(t,e){return Oo("string"==typeof t,"KeyIndex indexValue must always be a string."),new pu(t,hu)},mu.prototype.toString=function(){return".key"},mu);function mu(){return null!==yu&&yu.apply(this,arguments)||this}var bu,wu=new gu;function _u(t){return"number"==typeof t?"number:"+ks(t):"string:"+t}var Eu,Su,Iu,Tu,Cu=function(t){var e;t.isLeafNode()?(e=t.val(),Oo("string"==typeof e||"number"==typeof e||"object"==typeof e&&ea(e,".sv"),"Priority must be a string or number.")):Oo(t===bu||t.isEmpty(),"priority of unexpected type."),Oo(t===bu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ku=(Object.defineProperty(Au,"__childrenNodeConstructor",{get:function(){return Eu},set:function(t){Eu=t},enumerable:!1,configurable:!0}),Au.prototype.isLeafNode=function(){return!0},Au.prototype.getPriority=function(){return this.priorityNode_},Au.prototype.updatePriority=function(t){return new Au(this.value_,t)},Au.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Au.__childrenNodeConstructor.EMPTY_NODE},Au.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Au.__childrenNodeConstructor.EMPTY_NODE},Au.prototype.hasChild=function(){return!1},Au.prototype.getPredecessorChildName=function(t,e){return null},Au.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Au.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Au.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Oo(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Au.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Au.prototype.isEmpty=function(){return!1},Au.prototype.numChildren=function(){return 0},Au.prototype.forEachChild=function(t,e){return!1},Au.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Au.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+_u(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?ks(this.value_):this.value_,this.lazyHash_=rs(t)),this.lazyHash_},Au.prototype.getValue=function(){return this.value_},Au.prototype.compareTo=function(t){return t===Au.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Au.__childrenNodeConstructor?-1:(Oo(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Au.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Au.VALUE_TYPE_ORDER.indexOf(e),i=Au.VALUE_TYPE_ORDER.indexOf(n);return Oo(0<=r,"Unknown leaf type: "+e),Oo(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Au.prototype.withIndex=function(){return this},Au.prototype.isIndexed=function(){return!0},Au.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Au.VALUE_TYPE_ORDER=["object","boolean","number","string"],Au);function Au(t,e){void 0===e&&(e=Au.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Oo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Cu(this.priorityNode_)}function Nu(){return null!==Tu&&Tu.apply(this,arguments)||this}var Ou=new(bo(Nu,Tu=K),Nu.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority();return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},Nu.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Nu.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Nu.prototype.minPost=function(){return pu.MIN},Nu.prototype.maxPost=function(){return new pu(Ss,new ku("[PRIORITY-POST]",Iu))},Nu.prototype.makePost=function(t,e){return t=Su(t),new pu(e,new ku("[PRIORITY-POST]",t))},Nu.prototype.toString=function(){return".priority"},Nu),Pu=(xu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},xu.prototype.hasNext=function(){return 0<this.nodeStack_.length},xu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},xu);function xu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var Ru=(Du.prototype.copy=function(t,e,n,r,i){return new Du(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Du.prototype.count=function(){return this.left.count()+1+this.right.count()},Du.prototype.isEmpty=function(){return!1},Du.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Du.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Du.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Du.prototype.minKey=function(){return this.min_().key},Du.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Du.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Du.prototype.removeMin_=function(){if(this.left.isEmpty())return Mu.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Du.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return Mu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Du.prototype.isRed_=function(){return this.color},Du.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},Du.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},Du.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},Du.prototype.rotateLeft_=function(){var t=this.copy(null,null,Du.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Du.prototype.rotateRight_=function(){var t=this.copy(null,null,Du.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Du.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Du.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Du.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Du.RED=!0,Du.BLACK=!1,Du);function Du(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Du.RED,this.left=null!=r?r:Mu.EMPTY_NODE,this.right=null!=i?i:Mu.EMPTY_NODE}function Lu(){}Lu.prototype.copy=function(t,e,n,r,i){return this},Lu.prototype.insert=function(t,e,n){return new Ru(t,e,null)},Lu.prototype.remove=function(t,e){return this},Lu.prototype.count=function(){return 0},Lu.prototype.isEmpty=function(){return!0},Lu.prototype.inorderTraversal=function(t){return!1},Lu.prototype.reverseTraversal=function(t){return!1},Lu.prototype.minKey=function(){return null},Lu.prototype.maxKey=function(){return null},Lu.prototype.check_=function(){return 0},Lu.prototype.isRed_=function(){return!1},F=Lu;var Mu=(Fu.prototype.insert=function(t,e){return new Fu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ru.BLACK,null,null))},Fu.prototype.remove=function(t){return new Fu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ru.BLACK,null,null))},Fu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},Fu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Fu.prototype.isEmpty=function(){return this.root_.isEmpty()},Fu.prototype.count=function(){return this.root_.count()},Fu.prototype.minKey=function(){return this.root_.minKey()},Fu.prototype.maxKey=function(){return this.root_.maxKey()},Fu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},Fu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},Fu.prototype.getIterator=function(t){return new Pu(this.root_,null,this.comparator_,!1,t)},Fu.prototype.getIteratorFrom=function(t,e){return new Pu(this.root_,t,this.comparator_,!1,e)},Fu.prototype.getReverseIteratorFrom=function(t,e){return new Pu(this.root_,t,this.comparator_,!0,e)},Fu.prototype.getReverseIterator=function(t){return new Pu(this.root_,null,this.comparator_,!0,t)},Fu.EMPTY_NODE=new F,Fu);function Fu(t,e){void 0===e&&(e=Fu.EMPTY_NODE),this.comparator_=t,this.root_=e}var ju=Math.log(2),Uu=(Vu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Vu);function Vu(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ju,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var qu,Bu,zu=function(t,e,n,r){t.sort(e);var i=function e(r,i){if(0==(o=i-r))return null;if(1==o)return a=t[r],s=n?n(a):a,new Ru(s,a.node,Ru.BLACK,null,null);r=e(r,o=parseInt(o/2,10)+r),i=e(o+1,i);var o,a=t[o],s=n?n(a):a;return new Ru(s,a.node,Ru.BLACK,r,i)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e,e=i(1+o,s),s=t[o],o=n?n(s):s,u(new Ru(o,s.node,r,null,e))},u=function(t){r=r?r.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Ru.BLACK):(s(h,Ru.BLACK),s(h,Ru.RED))}return o}(new Uu(t.length));return new Mu(r||e,o)},Wu={},Hu=(Object.defineProperty(Ku,"Default",{get:function(){return Oo(Ou,"ChildrenNode.ts has not been loaded"),qu=qu||new Ku({".priority":Wu},{".priority":Ou})},enumerable:!1,configurable:!0}),Ku.prototype.get=function(t){var e=na(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mu?e:null},Ku.prototype.hasIndex=function(t){return ea(this.indexSet_,t.toString())},Ku.prototype.addIndex=function(t,e){Oo(t!==wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(pu.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?zu(r,t.getCompare()):Wu;var s=t.toString(),u=wo({},this.indexSet_);return u[s]=t,(e=wo({},this.indexes_))[s]=n,new Ku(e,u)},Ku.prototype.addToIndexes=function(t,e){var n=this;return new Ku(ia(this.indexes_,(function(r,i){var o=na(n.indexSet_,i);if(Oo(o,"Missing index implementation for "+i),r===Wu){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(pu.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),zu(a,o.getCompare())}return Wu}return(o=e.get(t.name))&&(r=r.remove(new pu(t.name,o))),r.insert(t,t.node)})),this.indexSet_)},Ku.prototype.removeFromIndexes=function(t,e){return new Ku(ia(this.indexes_,(function(n){if(n===Wu)return n;var r=e.get(t.name);return r?n.remove(new pu(t.name,r)):n})),this.indexSet_)},Ku);function Ku(t,e){this.indexes_=t,this.indexSet_=e}function Gu(t,e){return Is(t.name,e.name)}function Qu(t,e){return Is(t,e)}var Yu,$u=(Object.defineProperty(Xu,"EMPTY_NODE",{get:function(){return Bu=Bu||new Xu(new Mu(Qu),null,Hu.Default)},enumerable:!1,configurable:!0}),Xu.prototype.isLeafNode=function(){return!1},Xu.prototype.getPriority=function(){return this.priorityNode_||Bu},Xu.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new Xu(this.children_,t,this.indexMap_)},Xu.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?Bu:t},Xu.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},Xu.prototype.hasChild=function(t){return null!==this.children_.get(t)},Xu.prototype.updateImmediateChild=function(t,e){if(Oo(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new pu(t,e),r=void 0,i=void 0;return i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?Bu:this.priorityNode_,new Xu(r,n,i)},Xu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:(Oo(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(t.popFront(),e),this.updateImmediateChild(n,e))},Xu.prototype.isEmpty=function(){return this.children_.isEmpty()},Xu.prototype.numChildren=function(){return this.children_.count()},Xu.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Ou,(function(o,a){e[o]=a.val(t),n++,i&&Xu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},Xu.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+_u(this.getPriority().val())+":"),this.forEachChild(Ou,(function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)})),this.lazyHash_=""===t?"":rs(t)),this.lazyHash_},Xu.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new pu(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},Xu.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},Xu.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new pu(t,this.children_.get(t)):null},Xu.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},Xu.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new pu(t,this.children_.get(t)):null},Xu.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},Xu.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},Xu.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,pu.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},Xu.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},Xu.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,pu.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},Xu.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zu?-1:0},Xu.prototype.withIndex=function(t){return t===wu||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new Xu(this.children_,this.priorityNode_,t))},Xu.prototype.isIndexed=function(t){return t===wu||this.indexMap_.hasIndex(t)},Xu.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Ou),n=t.getIterator(Ou),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Xu.prototype.resolveIndex_=function(t){return t===wu?null:this.indexMap_.get(t.toString())},Xu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Xu);function Xu(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Cu(this.priorityNode_),this.children_.isEmpty()&&Oo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function Ju(){return Yu.call(this,new Mu(Qu),$u.EMPTY_NODE,Hu.Default)||this}var Zu=new(bo(Ju,Yu=$u),Ju.prototype.compareTo=function(t){return t===this?0:1},Ju.prototype.equals=function(t){return t===this},Ju.prototype.getPriority=function(){return this},Ju.prototype.getImmediateChild=function(t){return $u.EMPTY_NODE},Ju.prototype.isEmpty=function(){return!1},Ju);Object.defineProperties(pu,{MIN:{value:new pu(Es,$u.EMPTY_NODE)},MAX:{value:new pu(Ss,Zu)}}),gu.__EMPTY_NODE=$u.EMPTY_NODE,ku.__childrenNodeConstructor=$u,bu=Zu,Iu=Zu;var tc,ec=!0;function nc(t,e){if(void 0===e&&(e=null),null===t)return $u.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Oo(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ku(t,nc(e));if(t instanceof Array||!ec){var n=$u.EMPTY_NODE;return Cs(t,(function(e,r){ea(t,e)&&"."!==e.substring(0,1)&&(!(r=nc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))})),n.updatePriority(nc(e))}var r=[],i=!1;if(Cs(t,(function(t,e){"."!==t.substring(0,1)&&((e=nc(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new pu(t,e))))})),0===r.length)return $u.EMPTY_NODE;var o=zu(r,Gu,(function(t){return t.name}),Qu);if(i){var a=zu(r,Ou.getCompare());return new $u(o,nc(e),new Hu({".priority":a},{".priority":Ou}))}return new $u(o,nc(e),Hu.Default)}function rc(){return null!==tc&&tc.apply(this,arguments)||this}Su=nc;var ic,oc=new(bo(rc,tc=K),rc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Is(t.name,e.name):n},rc.prototype.isDefinedOn=function(t){return!0},rc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},rc.prototype.minPost=function(){return pu.MIN},rc.prototype.maxPost=function(){return pu.MAX},rc.prototype.makePost=function(t,e){return t=nc(t),new pu(e,t)},rc.prototype.toString=function(){return".value"},rc),ac=(bo(sc,ic=K),sc.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},sc.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},sc.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node);return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},sc.prototype.makePost=function(t,e){return t=nc(t),t=$u.EMPTY_NODE.updateChild(this.indexPath_,t),new pu(e,t)},sc.prototype.maxPost=function(){var t=$u.EMPTY_NODE.updateChild(this.indexPath_,Zu);return new pu(Ss,t)},sc.prototype.toString=function(){return this.indexPath_.slice().join("/")},sc);function sc(t){var e=ic.call(this)||this;return e.indexPath_=t,Oo(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var uc=(cc.prototype.val=function(){return ha("DataSnapshot.val",0,0,arguments.length),this.node_.val()},cc.prototype.exportVal=function(){return ha("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},cc.prototype.toJSON=function(){return ha("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},cc.prototype.exists=function(){return ha("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},cc.prototype.child=function(t){ha("DataSnapshot.child",0,1,arguments.length),$s("DataSnapshot.child",1,t=String(t),!1);var e=new xs(t);return t=this.ref_.child(e),new cc(this.node_.getChild(e),t,Ou)},cc.prototype.hasChild=function(t){return ha("DataSnapshot.hasChild",1,1,arguments.length),$s("DataSnapshot.hasChild",1,t,!1),t=new xs(t),!this.node_.getChild(t).isEmpty()},cc.prototype.getPriority=function(){return ha("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},cc.prototype.forEach=function(t){var e=this;return ha("DataSnapshot.forEach",1,1,arguments.length),pa("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new cc(r,e.ref_.child(n),Ou))}))},cc.prototype.hasChildren=function(){return ha("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(cc.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),cc.prototype.numChildren=function(){return ha("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},cc.prototype.getRef=function(){return ha("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(cc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),cc);function cc(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var lc=(hc.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},hc.prototype.getEventType=function(){return this.eventType},hc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},hc.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Zo(this.snapshot.exportVal())},hc);function hc(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var fc=(pc.prototype.getPath=function(){return this.path},pc.prototype.getEventType=function(){return"cancel"},pc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},pc.prototype.toString=function(){return this.path.toString()+":cancel"},pc);function pc(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var dc=(vc.prototype.respondsTo=function(t){return"value"===t},vc.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new lc("value",this,new uc(t.snapshotNode,e.getRef(),n))},vc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Oo(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},vc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fc(this,t,e):null},vc.prototype.matches=function(t){return t instanceof vc&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},vc.prototype.hasAnyCallback=function(){return null!==this.callback_},vc);function vc(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var yc,gc=(mc.prototype.respondsTo=function(t){return t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t,ea(this.callbacks_,t)},mc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fc(this,t,e):null},mc.prototype.createEvent=function(t,e){Oo(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName);return e=e.getQueryParams().getIndex(),new lc(t.type,this,new uc(t.snapshotNode,n,e),t.prevName)},mc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Oo(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},mc.prototype.matches=function(t){var e=this;if(t instanceof mc){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]})):(n=n[0],!((r=r[0])!==n||t.callbacks_[n]&&this.callbacks_[r]&&t.callbacks_[n]!==this.callbacks_[r]))}}return!1},mc.prototype.hasAnyCallback=function(){return null!==this.callbacks_},mc);function mc(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var bc=(Object.defineProperty(wc,"__referenceConstructor",{get:function(){return Oo(yc,"Reference.ts has not been loaded"),yc},set:function(t){yc=t},enumerable:!1,configurable:!0}),wc.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===wu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Es)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ss)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ou){if(null!=e&&!Ws(e)||null!=n&&!Ws(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Oo(t.getIndex()instanceof ac||t.getIndex()===oc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},wc.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},wc.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},wc.prototype.getQueryParams=function(){return this.queryParams_},wc.prototype.getRef=function(){return ha("Query.ref",0,0,arguments.length),new wc.__referenceConstructor(this.repo,this.path)},wc.prototype.on=function(t,e,n,r){return ha("Query.on",2,4,arguments.length),Qs("Query.on",1,t,!1),pa("Query.on",2,e,!1),n=wc.getCancelAndContextArgs_("Query.on",n,r),"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},wc.prototype.onValueEvent=function(t,e,n){n=new dc(t,e||null,n||null),this.repo.addEventCallbackForQuery(this,n)},wc.prototype.onChildEvent=function(t,e,n){n=new gc(t,e,n),this.repo.addEventCallbackForQuery(this,n)},wc.prototype.off=function(t,e,n){ha("Query.off",0,3,arguments.length),Qs("Query.off",1,t,!0),pa("Query.off",2,e,!0),da("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new dc(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new gc(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},wc.prototype.once=function(t,e,n,r){var i=this;ha("Query.once",1,4,arguments.length),Qs("Query.once",1,t,!1),pa("Query.once",2,e,!0);var o=wc.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new Lo;s.promise.catch((function(){}));var u=function n(r){a&&(a=!1,i.off(t,n),e&&e.bind(o.context)(r),s.resolve(r))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)})),s.promise},wc.prototype.limitToFirst=function(t){if(ha("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new wc(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},wc.prototype.limitToLast=function(t){if(ha("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new wc(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},wc.prototype.orderByChild=function(t){if(ha("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');if($s("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild"),(t=new xs(t)).isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ac(t),t=this.queryParams_.orderBy(t),wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByKey=function(){ha("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(wu);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByPriority=function(){ha("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Ou);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByValue=function(){ha("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(oc);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.startAt=function(t,e){void 0===t&&(t=null),ha("Query.startAt",0,2,arguments.length),Hs("Query.startAt",1,t,this.path,!0),Ys("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(wc.validateLimit_(n),wc.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new wc(this.repo,this.path,n,this.orderByCalled_)},wc.prototype.endAt=function(t,e){if(void 0===t&&(t=null),ha("Query.endAt",0,2,arguments.length),Hs("Query.endAt",1,t,this.path,!0),Ys("Query.endAt",2,e,!0),e=this.queryParams_.endAt(t,e),wc.validateLimit_(e),wc.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new wc(this.repo,this.path,e,this.orderByCalled_)},wc.prototype.equalTo=function(t,e){if(ha("Query.equalTo",1,2,arguments.length),Hs("Query.equalTo",1,t,this.path,!1),Ys("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},wc.prototype.toString=function(){return ha("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},wc.prototype.toJSON=function(){return ha("Query.toJSON",0,1,arguments.length),this.toString()},wc.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},wc.prototype.queryIdentifier=function(){var t=this.queryObject();return"{}"===(t=Ts(t))?"default":t},wc.prototype.isEqual=function(t){if(ha("Query.isEqual",1,1,arguments.length),!(t instanceof wc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path);return t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t},wc.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,pa(t,3,r.cancel,!0),r.context=n,da(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(fa(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(wc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),wc);function wc(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var _c=(Ec.prototype.getImmediateChild=function(t){return new Ec(this.node_.getImmediateChild(t))},Ec.prototype.node=function(){return this.node_},Ec);function Ec(t){this.node_=t}var Sc=(Ic.prototype.getImmediateChild=function(t){return t=this.path_.child(t),new Ic(this.syncTree_,t)},Ic.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},Ic);function Ic(t,e){this.syncTree_=t,this.path_=e}function Tc(t,e,n,r){return Oc(e,new Sc(n,t),r)}function Cc(t,e,n){return Oc(t,new _c(e),n)}var kc=function(t,e,n){return t&&"object"==typeof t?(Oo(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Ac(t[".sv"],e,n):"object"==typeof t[".sv"]?Nc(t[".sv"],e):void Oo(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Ac=function(t,e,n){if("timestamp"===t)return n.timestamp;Oo(!1,"Unexpected server value: "+t)},Nc=function(t,e,n){return t.hasOwnProperty("increment")||Oo(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&Oo(!1,"Unexpected increment value: "+t),e=e.node(),Oo(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t};function Oc(t,e,n){var r=t.getPriority().val(),i=kc(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t;return(r=kc(o.getValue(),e,n))!==o.getValue()||i!==o.getPriority().val()?new ku(r,nc(i)):t}var a=t=t;return i!==t.getPriority().val()&&(a=a.updatePriority(new ku(i))),t.forEachChild(Ou,(function(t,r){var i=Oc(r,e.getImmediateChild(t),n);i!==r&&(a=a.updateImmediateChild(t,i))})),a}var Pc,xc=(Rc.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},Rc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new Rc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},Rc.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Ou,(function(t,e){n.remember(new xs(t),e)})),this.forget(t)}return!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},Rc.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){n=new xs(t.toString()+"/"+n),r.forEachTree(n,e)}))},Rc.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},Rc);function Rc(){this.value=null,this.children=new Map}(Dr=Pc=Pc||{})[Dr.OVERWRITE=0]="OVERWRITE",Dr[Dr.MERGE=1]="MERGE",Dr[Dr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Dr[Dr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Dc=(Lc.User=new Lc(!0,!1,null,!1),Lc.Server=new Lc(!1,!0,null,!1),Lc.forServerTaggedQuery=function(t){return new Lc(!1,!0,t,!0)},Lc);function Lc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Oo(!r||e,"Tagged queries must be from server.")}var Mc,Fc=(jc.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Oo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new xs(t));return new jc(xs.Empty,e,this.revert)}return Oo(this.path.getFront()===t,"operationForChild called for unrelated child."),new jc(this.path.popFront(),this.affectedTree,this.revert)},jc);function jc(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Pc.ACK_USER_WRITE,this.source=Dc.User}var Uc=(Vc.fromObject=function(t){var e=Vc.Empty;return Cs(t,(function(t,n){e=e.set(new xs(t),n)})),e},Vc.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Vc.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:xs.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);return null===r||null==(e=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new xs(n).child(e.path),value:e.value}},Vc.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},Vc.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront();return null!==(e=this.children.get(e))?e.subtree(t.popFront()):Vc.Empty},Vc.prototype.set=function(t,e){if(t.isEmpty())return new Vc(e,this.children);var n=t.getFront();return e=(this.children.get(n)||Vc.Empty).set(t.popFront(),e),e=this.children.insert(n,e),new Vc(this.value,e)},Vc.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?Vc.Empty:new Vc(null,this.children);var e=t.getFront(),n=this.children.get(e);return n?(n=n.remove(t.popFront()),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?Vc.Empty:new Vc(this.value,t)):this},Vc.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront();return(e=this.children.get(e))?e.get(t.popFront()):null},Vc.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront();return t=(this.children.get(n)||Vc.Empty).setTree(t.popFront(),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t),new Vc(this.value,e)},Vc.prototype.fold=function(t){return this.fold_(xs.Empty,t)},Vc.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},Vc.prototype.findOnPath=function(t,e){return this.findOnPath_(t,xs.Empty,e)},Vc.prototype.findOnPath_=function(t,e,n){if(r=!!this.value&&n(e,this.value))return r;if(t.isEmpty())return null;var r,i=t.getFront();return(r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null},Vc.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,xs.Empty,e)},Vc.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):Vc.Empty},Vc.prototype.foreach=function(t){this.foreach_(xs.Empty,t)},Vc.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},Vc.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},Vc.Empty=new Vc(null),Vc);function Vc(t,e){void 0===e&&(e=Mc=Mc||new Mu(cs)),this.value=t,this.children=e}var qc=(Bc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Bc(this.source,xs.Empty):new Bc(this.source,this.path.popFront())},Bc);function Bc(t,e){this.source=t,this.path=e,this.type=Pc.LISTEN_COMPLETE}var zc=(Wc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Wc(this.source,xs.Empty,this.snap.getImmediateChild(t)):new Wc(this.source,this.path.popFront(),this.snap)},Wc);function Wc(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Pc.OVERWRITE}var Hc=(Kc.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new xs(t));return e.isEmpty()?null:e.value?new zc(this.source,xs.Empty,e.value):new Kc(this.source,xs.Empty,e)}return Oo(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new Kc(this.source,this.path.popFront(),this.children)},Kc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Kc);function Kc(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Pc.MERGE}var Gc=(Qc.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Qc.prototype.isFiltered=function(){return this.filtered_},Qc.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},Qc.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},Qc.prototype.getNode=function(){return this.node_},Qc);function Qc(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Yc=($c.prototype.updateEventSnap=function(t,e,n){return new $c(new Gc(t,e,n),this.serverCache_)},$c.prototype.updateServerSnap=function(t,e,n){return new $c(this.eventCache_,new Gc(t,e,n))},$c.prototype.getEventCache=function(){return this.eventCache_},$c.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},$c.prototype.getServerCache=function(){return this.serverCache_},$c.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},$c.Empty=new $c(new Gc($u.EMPTY_NODE,!1,!1),new Gc($u.EMPTY_NODE,!1,!1)),$c);function $c(t,e){this.eventCache_=t,this.serverCache_=e}var Xc=(Jc.valueChange=function(t){return new Jc(Jc.VALUE,t)},Jc.childAddedChange=function(t,e){return new Jc(Jc.CHILD_ADDED,e,t)},Jc.childRemovedChange=function(t,e){return new Jc(Jc.CHILD_REMOVED,e,t)},Jc.childChangedChange=function(t,e,n){return new Jc(Jc.CHILD_CHANGED,e,t,n)},Jc.childMovedChange=function(t,e){return new Jc(Jc.CHILD_MOVED,e,t)},Jc.CHILD_ADDED="child_added",Jc.CHILD_REMOVED="child_removed",Jc.CHILD_CHANGED="child_changed",Jc.CHILD_MOVED="child_moved",Jc.VALUE="value",Jc);function Jc(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var Zc=(tl.prototype.updateChild=function(t,e,n,r,i,o){Oo(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Xc.childRemovedChange(e,a)):Oo(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xc.childAddedChange(e,n)):o.trackChildChange(Xc.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},tl.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ou,(function(t,r){e.hasChild(t)||n.trackChildChange(Xc.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Ou,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(Xc.childChangedChange(e,r,i)):n.trackChildChange(Xc.childAddedChange(e,r))}))),e.withIndex(this.index_)},tl.prototype.updatePriority=function(t,e){return t.isEmpty()?$u.EMPTY_NODE:t.updatePriority(e)},tl.prototype.filtersNodes=function(){return!1},tl.prototype.getIndexedFilter=function(){return this},tl.prototype.getIndex=function(){return this.index_},tl);function tl(t){this.index_=t}var el=(nl.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Oo(e===Xc.CHILD_ADDED||e===Xc.CHILD_CHANGED||e===Xc.CHILD_REMOVED,"Only child changes supported for tracking"),Oo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Xc.CHILD_ADDED&&i===Xc.CHILD_REMOVED)this.changeMap.set(n,Xc.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Xc.CHILD_REMOVED&&i===Xc.CHILD_ADDED)this.changeMap.delete(n);else if(e===Xc.CHILD_REMOVED&&i===Xc.CHILD_CHANGED)this.changeMap.set(n,Xc.childRemovedChange(n,r.oldSnap));else if(e===Xc.CHILD_CHANGED&&i===Xc.CHILD_ADDED)this.changeMap.set(n,Xc.childAddedChange(n,t.snapshotNode));else{if(e!==Xc.CHILD_CHANGED||i!==Xc.CHILD_CHANGED)throw Po("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Xc.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},nl.prototype.getChanges=function(){return Array.from(this.changeMap.values())},nl);function nl(){this.changeMap=new Map}function rl(){}var il=new(rl.prototype.getCompleteChild=function(t){return null},rl.prototype.getChildAfterChild=function(t,e,n){return null},rl),ol=(al.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new Gc(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},al.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();return 0===(t=this.writes_.calcIndexedSlice(r,e,1,n,t)).length?null:t[0]},al);function al(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var sl=function(t,e){this.viewCache=t,this.changes=e},ul=(cl.prototype.assertIndexed=function(t){Oo(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Oo(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},cl.prototype.applyOperation=function(t,e,n,r){var i=new el;if(e.type===Pc.OVERWRITE)var o=e,a=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(Oo(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,s,i));else if(e.type===Pc.MERGE)a=(o=e).source.fromUser?this.applyUserMerge_(t,o.path,o.children,n,r,i):(Oo(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,o.path,o.children,n,r,s,i));else if(e.type===Pc.ACK_USER_WRITE){var s=e;a=s.revert?this.revertUserWrite_(t,s.path,n,r,i):this.ackUserWrite_(t,s.path,s.affectedTree,n,r,i)}else{if(e.type!==Pc.LISTEN_COMPLETE)throw Po("Unknown operation type: "+e.type);a=this.listenComplete_(t,e.path,n,i)}return i=i.getChanges(),cl.maybeAddValueEvent_(t,a,i),new sl(a,i)},cl.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Xc.valueChange(e.getCompleteEventSnap())))},cl.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l=void 0,h=void 0;return l=e.isEmpty()?(Oo(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(a=(a=t.getCompleteServerSnap())instanceof $u?a:$u.EMPTY_NODE,a=n.calcCompleteEventChildren(a),this.filter_.updateFullNode(t.getEventCache().getNode(),a,i)):(s=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),s,i))):".priority"===(s=e.getFront())?(Oo(1===e.getLength(),"Can't have a priority with additional path components"),u=o.getNode(),h=t.getServerCache().getNode(),null!=(c=n.calcEventCacheAfterServerOverwrite(e,u,h))?this.filter_.updatePriority(u,c):o.getNode()):(u=e.popFront(),c=void 0,null!=(c=o.isCompleteForChild(s)?(h=t.getServerCache().getNode(),null!=(h=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h))?o.getNode().getImmediateChild(s).updateChild(u,h):o.getNode().getImmediateChild(s)):n.calcCompleteChild(s,t.getServerCache()))?this.filter_.updateChild(o.getNode(),s,c,u,r,i):o.getNode()),t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},cl.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered())var c=s.getNode().updateChild(e,n),l=u.updateFullNode(s.getNode(),c,null);else{if(o=e.getFront(),!s.isCompleteForPath(e)&&1<e.getLength())return t;c=e.popFront(),n=s.getNode().getImmediateChild(o).updateChild(c,n),l=".priority"===o?u.updatePriority(s.getNode(),n):u.updateChild(s.getNode(),o,n,c,il,null)}return u=t.updateServerSnap(l,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),i=new ol(r,u,i),this.generateEventCacheAfterServerEvent_(u,e,r,i,a)},cl.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new ol(r,t,i);return e.isEmpty()?(s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(s,!0,this.filter_.filtersNodes())):".priority"===(a=e.getFront())?(s=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered())):(r=e.popFront(),i=u.getNode().getImmediateChild(a),s=void 0,s=r.isEmpty()?n:null!=(e=c.getCompleteChild(a))?".priority"===r.getBack()&&e.getChild(r.parent()).isEmpty()?e:e.updateChild(r,n):$u.EMPTY_NODE,i.equals(s)?t:(o=this.filter_.updateChild(u.getNode(),a,s,r,c,o),t.updateEventSnap(o,u.isFullyInitialized(),this.filter_.filtersNodes())))},cl.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},cl.prototype.applyUserMerge_=function(t,e,n,r,i,o){var a=this,s=t;return n.foreach((function(n,u){n=e.child(n),cl.cacheHasChild_(t,n.getFront())&&(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),n.foreach((function(n,u){n=e.child(n),cl.cacheHasChild_(t,n.getFront())||(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),s},cl.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},cl.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=(n=e.isEmpty()?n:Uc.Empty.setTree(e,n),t.getServerCache().getNode());return n.children.inorderTraversal((function(e,n){var l;c.hasChild(e)&&(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new xs(e),n,r,i,o,a))})),n.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;c.hasChild(e)||l||(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new xs(e),n,r,i,o,a))})),u},cl.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Uc.Empty;return s.getNode().forEachChild(wu,(function(t,e){u=u.set(new xs(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Uc.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},cl.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache();return i=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered()),this.generateEventCacheAfterServerEvent_(i,e,n,il,r)},cl.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a,s,u=new ol(n,t,r),c=t.getEventCache().getNode();return r=void 0,e.isEmpty()||".priority"===e.getFront()?(s=void 0,s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(a=t.getServerCache().getNode(),Oo(a instanceof $u,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(a)),r=this.filter_.updateFullNode(c,s,i)):(a=e.getFront(),null==(s=n.calcCompleteChild(a,t.getServerCache()))&&t.getServerCache().isCompleteForChild(a)&&(s=c.getImmediateChild(a)),(r=null!=s?this.filter_.updateChild(c,a,s,e.popFront(),u,i):t.getEventCache().getNode().hasChild(a)?this.filter_.updateChild(c,a,$u.EMPTY_NODE,e.popFront(),u,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(r=this.filter_.updateFullNode(r,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(xs.Empty),t.updateEventSnap(r,o,this.filter_.filtersNodes())},cl);function cl(t){this.filter_=t}var ll=(hl.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Xc.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Xc.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Xc.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Xc.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Xc.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Xc.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Xc.VALUE,t,n,e),i},hl.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this;(n=n.filter((function(t){return t.type===e}))).sort(this.compareChanges_.bind(this)),n.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},hl.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},hl.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Po("Should only compare child_ events.");return t=new pu(t.childName,t.snapshotNode),e=new pu(e.childName,e.snapshotNode),this.index_.compare(t,e)},hl);function hl(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var fl,pl=(dl.prototype.getQuery=function(){return this.query_},dl.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},dl.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},dl.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},dl.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},dl.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Oo(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){(t=t.createCancelEvent(e,n))&&r.push(t)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},dl.prototype.applyOperation=function(t,e,n){t.type===Pc.MERGE&&null!==t.source.queryId&&(Oo(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Oo(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_;return n=this.processor_.applyOperation(r,t,e,n),this.processor_.assertIndexed(n.viewCache),Oo(n.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=n.viewCache,this.generateEventsForChanges_(n.changes,n.viewCache.getEventCache().getNode(),null)},dl.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ou,(function(t,e){n.push(Xc.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(Xc.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},dl.prototype.generateEventsForChanges_=function(t,e,n){return n=n?[n]:this.eventRegistrations_,this.eventGenerator_.generateEventsForChanges(t,e,n)},dl);function dl(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Zc(n.getIndex()),i=n.getNodeFilter();this.processor_=new ul(i);var o=e.getServerCache();t=e.getEventCache(),n=r.updateFullNode($u.EMPTY_NODE,o.getNode(),null),e=i.updateFullNode($u.EMPTY_NODE,t.getNode(),null),r=new Gc(n,o.isFullyInitialized(),r.filtersNodes()),i=new Gc(e,t.isFullyInitialized(),i.filtersNodes()),this.viewCache_=new Yc(i,r),this.eventGenerator_=new ll(this.query_)}var vl=(Object.defineProperty(yl,"__referenceConstructor",{get:function(){return Oo(fl,"Reference.ts has not been loaded"),fl},set:function(t){Oo(!fl,"__referenceConstructor has already been defined"),fl=t},enumerable:!1,configurable:!0}),yl.prototype.isEmpty=function(){return 0===this.views.size},yl.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Oo(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=So(this.views.values()),c=u.next();!c.done;c=u.next())a=c.value,s=s.concat(a.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},yl.prototype.addEventRegistration=function(t,e,n,r,i){var o,a,s=t.queryIdentifier(),u=this.views.get(s);return u||(a=!1,a=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof $u?n.calcCompleteEventChildren(r):$u.EMPTY_NODE,!1),i=new Yc(new Gc(o,a,!1),new Gc(r,i,!1)),u=new pl(t,i),this.views.set(s,u)),u.addEventRegistration(e),u.getInitialEvents(e)},yl.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o)try{for(var c=So(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=Io(l.value,2),f=h[0],p=h[1];s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return u&&!this.hasCompleteView()&&a.push(new yl.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},yl.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=So(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},yl.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=So(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},yl.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},yl.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},yl.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},yl.prototype.getCompleteView=function(){var t,e;try{for(var n=So(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},yl);function yl(){this.views=new Map}var gl=(ml.prototype.addWrite=function(t,e){if(t.isEmpty())return new ml(new Uc(e));if(null!=(i=this.writeTree_.findRootMostValueAndPath(t))){var n=i.path,r=i.value,i=xs.relativePath(n,t);return r=r.updateChild(i,e),new ml(this.writeTree_.set(n,r))}return e=new Uc(e),new ml(this.writeTree_.setTree(t,e))},ml.prototype.addWrites=function(t,e){var n=this;return Cs(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},ml.prototype.removeWrite=function(t){return t.isEmpty()?ml.Empty:new ml(this.writeTree_.setTree(t,Uc.Empty))},ml.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},ml.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(xs.relativePath(e.path,t)):null},ml.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ou,(function(e,n){t.push(new pu(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new pu(e,n.value))})),t},ml.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new ml(null!=e?new Uc(e):this.writeTree_.subtree(t))},ml.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},ml.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Oo(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(xs.Empty,this.writeTree_,t)},ml.Empty=new ml(new Uc(null)),ml);function ml(t){this.writeTree_=t}var bl=(wl.prototype.childWrites=function(t){return new _l(t,this)},wl.prototype.addOverwrite=function(t,e,n,r){Oo(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},wl.prototype.addMerge=function(t,e,n){Oo(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},wl.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},wl.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Oo(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Cs(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},wl.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},wl.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(xs.Empty)){var o=wl.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t),a=e||$u.EMPTY_NODE;return o.apply(a)}return null}return null!=(o=this.visibleWrites_.getCompleteNode(t))?o:(o=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?e:null!=e||o.hasCompleteWrite(xs.Empty)?(a=e||$u.EMPTY_NODE,o.apply(a)):null},wl.prototype.calcCompleteEventChildren=function(t,e){var n=$u.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ou,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ou,(function(t,e){e=i.childCompoundWrite(new xs(t)).apply(e),n=n.updateImmediateChild(t,e)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},wl.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){return Oo(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.child(e),this.visibleWrites_.hasCompleteWrite(t)?null:(t=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},wl.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e);return null!=(t=this.visibleWrites_.getCompleteNode(r))?t:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},wl.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},wl.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t);if(null!=(t=s.getCompleteNode(xs.Empty)))a=t;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=l.getNext();h&&u.length<r;)0!==c(h,n)&&u.push(h),h=l.getNext();return u},wl.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},wl.prototype.resetTree_=function(){this.visibleWrites_=wl.layerTree_(this.allWrites_,wl.DefaultFilter_,xs.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},wl.DefaultFilter_=function(t){return t.visible},wl.layerTree_=function(t,e,n){for(var r=gl.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=xs.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=xs.relativePath(a,n),r=r.addWrite(xs.Empty,o.snap.getChild(s)));else{if(!o.children)throw Po("WriteRecord should have .snap or .children");n.contains(a)?(s=xs.relativePath(n,a),r=r.addWrites(s,o.children)):a.contains(n)&&((s=xs.relativePath(a,n)).isEmpty()?r=r.addWrites(xs.Empty,o.children):(o=na(o.children,s.getFront()))&&(s=o.getChild(s.popFront()),r=r.addWrite(xs.Empty,s)))}}}return r},wl);function wl(){this.visibleWrites_=gl.Empty,this.allWrites_=[],this.lastWriteId_=-1}var _l=(El.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},El.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},El.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},El.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},El.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},El.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},El.prototype.child=function(t){return new El(this.treePath_.child(t),this.writeTree_)},El);function El(t,e){this.treePath_=t,this.writeTree_=e}var Sl=(Il.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new zc(Dc.User,t,e)):[]},Il.prototype.applyUserMerge=function(t,e,n){return this.pendingWriteTree_.addMerge(t,e,n),e=Uc.fromObject(e),this.applyOperationToSyncPoints_(new Hc(Dc.User,t,e))},Il.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Uc.Empty;return null!=n.snap?r=r.set(xs.Empty,!0):Cs(n.children,(function(t,e){r=r.set(new xs(t),e)})),this.applyOperationToSyncPoints_(new Fc(n.path,r,e))}return[]},Il.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new zc(Dc.Server,t,e))},Il.prototype.applyServerMerge=function(t,e){return e=Uc.fromObject(e),this.applyOperationToSyncPoints_(new Hc(Dc.Server,t,e))},Il.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new qc(Dc.Server,t))},Il.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);return null==r?[]:(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=xs.relativePath(r,t),e=new zc(Dc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e))},Il.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);return r?(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=xs.relativePath(r,t),e=Uc.fromObject(e),e=new Hc(Dc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e)):[]},Il.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);return n?(n=(e=Il.parseQueryKey_(n)).path,e=e.queryId,t=xs.relativePath(n,t),t=new qc(Dc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,t)):[]},Il.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){t=xs.relativePath(t,n),r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()}));var o=this.syncPointTree_.get(n);o?(i=i||o.hasCompleteView(),r=r||o.getCompleteServerCache(xs.Empty)):(o=new vl,this.syncPointTree_=this.syncPointTree_.set(n,o)),null!=r?c=!0:(c=!1,r=$u.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){(e=e.getCompleteServerCache(xs.Empty))&&(r=r.updateImmediateChild(t,e))})));var a,s=o.viewExistsForQuery(t);s||t.getQueryParams().loadsAllData()||(u=Il.makeQueryKey_(t),Oo(!this.queryToTagMap.has(u),"View does not exist, but we have a tag"),a=Il.getNextQueryTag_(),this.queryToTagMap.set(u,a),this.tagToQueryMap.set(a,u));var u=this.pendingWriteTree_.childWrites(n),c=o.addEventRegistration(t,e,u,r,c);return s||i||(o=o.viewForQuery(t),c=c.concat(this.setupListener_(t,o))),c},Il.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);if(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),e=s.removed,a=s.events,o=-1!==e.findIndex((function(t){return t.getQueryParams().loadsAllData()})),s=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()})),o&&!s&&!(i=this.syncPointTree_.subtree(i)).isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var l=(h=u[c]).getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(Il.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}!s&&0<e.length&&!n&&(o?this.listenProvider_.stopListening(Il.queryForListening_(t),null):e.forEach((function(t){var e=r.queryToTagMap.get(Il.makeQueryKey_(t));r.listenProvider_.stopListening(Il.queryForListening_(t),e)}))),this.removeTags_(e)}return a},Il.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){if(e=xs.relativePath(e,t),e=n.getCompleteServerCache(e))return e}));return n.calcCompleteEventCache(t,r,e,!0)},Il.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),Cs(n,(function(t,e){r=r.concat(e)})),r}))},Il.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(n=Il.makeQueryKey_(r),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},Il.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},Il.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t);if(e=this.createListenerForView_(e),e=this.listenProvider_.startListening(Il.queryForListening_(t),r,e.hashFn,e.onComplete),n=this.syncPointTree_.subtree(n),r)Oo(!n.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=n.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),Cs(n,(function(t,e){r=r.concat(e)})),r})),o=0;o<i.length;++o){var a=i[o];this.listenProvider_.stopListening(Il.queryForListening_(a),this.tagForQuery_(a))}return e},Il.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||$u.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path):(t=function(t,e){var n="Unknown Error";return"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable"),(n=new Error(t+" at "+e.path.toString()+": "+n)).code=t.toUpperCase(),n}(t,n),e.removeEventRegistration(n,null,t))}}},Il.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},Il.parseQueryKey_=function(t){var e=t.indexOf("$");return Oo(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xs(t.substr(0,e))}},Il.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},Il.prototype.tagForQuery_=function(t){return t=Il.makeQueryKey_(t),this.queryToTagMap.get(t)},Il.getNextQueryTag_=function(){return Il.nextQueryTag_++},Il.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);return Oo(n,"Missing sync point for query tag that we're tracking"),t=this.pendingWriteTree_.childWrites(t),n.applyOperation(e,t,null)},Il.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(xs.Empty))},Il.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(xs.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(xs.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);return u&&s&&(e=n?n.getImmediateChild(a):null,a=r.child(a),o=o.concat(this.applyOperationHelper_(s,u,e,a))),i&&(o=o.concat(i.applyOperation(t,r,n))),o},Il.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(xs.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(xs.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e);(e=t.operationForChild(e))&&(a=a.concat(i.applyOperationDescendantsHelper_(e,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},Il.nextQueryTag_=1,Il);function Il(t){this.listenProvider_=t,this.syncPointTree_=Uc.Empty,this.pendingWriteTree_=new bl,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Tl=(Cl.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Cl.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Cl);function Cl(){this.rootNode_=$u.EMPTY_NODE}var kl=(Al.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),ea(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Al.prototype.get=function(){return Ro(this.counters_)},Al);function Al(){this.counters_={}}var Nl=(Ol.getCollection=function(t){return t=t.toString(),this.collections_[t]||(this.collections_[t]=new kl),this.collections_[t]},Ol.getOrCreateReporter=function(t,e){return t=t.toString(),this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},Ol.collections_={},Ol.reporters_={},Ol);function Ol(){}var Pl=(xl.prototype.get=function(){var t=this.collection_.get(),e=wo({},t);return this.last_&&Cs(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},xl);function xl(t){this.collection_=t,this.last_=null}var Rl=(Dl.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Dl.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Cs(e,(function(e,i){0<i&&ea(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Ns(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Dl);function Dl(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pl(t),t=1e4+2e4*Math.random(),Ns(this.reportStats_.bind(this),Math.floor(t))}var Ll=(Ml.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fl(i)),e.add(r)}e&&this.eventLists_.push(e)},Ml.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},Ml.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},Ml.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},Ml);function Ml(){this.eventLists_=[],this.recursionDepth_=0}var Fl=(jl.prototype.add=function(t){this.events_.push(t)},jl.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),ms&&ws("event: "+n.toString()),As(e))}},jl.prototype.getPath=function(){return this.path_},jl);function jl(t){this.path_=t,this.events_=[]}function Ul(t){this.allowedEvents_=t,this.listeners_={},Oo(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}Ul.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=To(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Ul.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Ul.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Ul.prototype.validateEventType_=function(t){Oo(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)};var Vl,ql=(bo(Bl,Vl=F=Ul),Bl.getInstance=function(){return new Bl},Bl.prototype.getInitialEvent=function(t){return Oo("visible"===t,"Unknown event type: "+t),[this.visible_]},Bl);function Bl(){var t,e,n=Vl.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var zl,Wl=(bo(Hl,zl=F),Hl.getInstance=function(){return new Hl},Hl.prototype.getInitialEvent=function(t){return Oo("online"===t,"Unknown event type: "+t),[this.online_]},Hl.prototype.currentlyOnline=function(){return this.online_},Hl);function Hl(){var t=zl.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||jo()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var Kl=(Gl.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Gl.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&As((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Gl);function Gl(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Ql="pLPCommand",Yl="pRTLPCB",$l=(Xl.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new Jl((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Io(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(r=Io(t,2))[0],r=r[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ms)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},Xl.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Xl.forceAllow=function(){Xl.forceAllow_=!0},Xl.forceDisallow=function(){Xl.forceDisallow_=!0},Xl.isAvailable=function(){return!!Xl.forceAllow_||!(Xl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Xl.prototype.markConnectionHealthy=function(){},Xl.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Xl.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Xl.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Xl.prototype.send=function(t){t=Zo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=hs(t=function(t){return t=ko(t),xo.encodeByteArray(t,!0)}(t),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},Xl.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Xl.prototype.incrementIncomingBytes_=function(t){t=Zo(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},Xl);function Xl(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_s(t),this.stats_=Nl.getCollection(e),this.urlFn=function(t){return e.connectionURL(js,t)}}var Jl=(Zl.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ws("No IE domain setting required")}catch(i){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Zl.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},Zl.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},Zl.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(t={}).id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift();e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return t+=e,this.addLongPollTag_(t,this.currentSerial),!0}return!1},Zl.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},Zl.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},Zl.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){ws("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},Zl);function Zl(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ys(),window[Ql+this.uniqueCallbackIdentifier]=t,window[Yl+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zl.createIFrame_(),e="",this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(e='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){ws("frame writing exception"),t.stack&&ws(t.stack),ws(t)}}var th="";function eh(t){th=t}var nh=null;"undefined"!=typeof MozWebSocket?nh=MozWebSocket:"undefined"!=typeof WebSocket&&(nh=WebSocket);var rh=(ih.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ms)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(Fs,r)},ih.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ps.set("previous_websocket_failure",!0);try{qo()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new nh(this.connURL,[],n))}catch(e){return this.log_("Error instantiating WebSocket."),(t=e.message||e.data)&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.log_(t),r.onClosed_()}},ih.prototype.start=function(){},ih.forceDisallow=function(){ih.forceDisallow_=!0},ih.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==nh&&!ih.forceDisallow_},ih.previouslyFailed=function(){return ps.isInMemoryStorage||!0===ps.get("previous_websocket_failure")},ih.prototype.markConnectionHealthy=function(){ps.remove("previous_websocket_failure")},ih.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=Jo(t),this.onMessage(t))},ih.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},ih.prototype.extractFrameCount_=function(t){if(Oo(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},ih.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),(null!==this.frames||null!==(t=this.extractFrameCount_(t)))&&this.appendFrame_(t))},ih.prototype.send=function(t){this.resetKeepAlive(),t=Zo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=hs(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},ih.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},ih.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},ih.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},ih.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},ih.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4,ih);function ih(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_s(this.connId),this.stats_=Nl.getCollection(e),this.connURL=ih.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var oh=(Object.defineProperty(ah,"ALL_TRANSPORTS",{get:function(){return[$l,rh]},enumerable:!1,configurable:!0}),ah.prototype.initTransports_=function(t){var e,n,r=rh&&rh.isAvailable(),i=r&&!rh.previouslyFailed();if(t.webSocketOnly&&(r||ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[rh];else{var o=this.transports_=[];try{for(var a=So(ah.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},ah.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},ah.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},ah);function ah(t){this.initTransports_(t)}var sh=(uh.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=Ns((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))},uh.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},uh.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},uh.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},uh.prototype.sendRequest=function(t){t={t:"d",d:t},this.sendData_(t)},uh.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},uh.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},uh.prototype.onSecondaryMessageReceived_=function(t){var e=ls("t",t);if(t=ls("d",t),"c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},uh.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},uh.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},uh.prototype.onPrimaryMessageReceived_=function(t){var e=ls("t",t);t=ls("d",t),"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},uh.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},uh.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},uh.prototype.onControl_=function(t){var e=ls("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?os("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):os("Unknown control packet command: "+e)},uh.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&ss("Protocol version mismatch detected"),this.tryStartUpgrade_())},uh.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},uh.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);t=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,t),Ns((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},uh.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},uh.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ns((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},uh.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},uh.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},uh.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ps.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},uh.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},uh.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},uh.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},uh.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},uh);function uh(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_s("c:"+this.id+":"),this.transportManager_=new oh(e),this.log_("Connection created"),this.start_()}function ch(){}ch.prototype.put=function(t,e,n,r){},ch.prototype.merge=function(t,e,n,r){},ch.prototype.refreshAuthToken=function(t){},ch.prototype.onDisconnectPut=function(t,e,n){},ch.prototype.onDisconnectMerge=function(t,e,n){},ch.prototype.onDisconnectCancel=function(t,e){},ch.prototype.reportStats=function(t){};var lh,hh=1e3,fh=3e5,ph=(bo(dh,lh=gu=ch),dh.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_;e={r:r,a:t,b:e},this.log_(Zo(e)),Oo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},dh.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Oo(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Oo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},dh.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;dh.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))}))},dh.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&ea(t,"w")&&(t=na(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&ss("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+(t='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+(e=e.path.toString())+" to your security rules for better performance."))},dh.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},dh.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=ta(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},dh.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=ta(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s;e=e.d||"error",r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))})))},dh.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Oo(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},dh.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},dh.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},dh.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},dh.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},dh.prototype.sendOnDisconnect_=function(t,e,n,r){n={p:e,d:n},this.log_("onDisconnect "+t,n),this.sendRequest(t,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},dh.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},dh.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},dh.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},dh.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},dh.prototype.reportStats=function(t){var e=this;this.connected_&&(t={c:t},this.log_("reportStats",t),this.sendRequest("s",t,(function(t){"ok"!==t.s&&(t=t.d,e.log_("reportStats","Error sending stats: "+t))})))},dh.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Zo(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},dh.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):os("Unrecognized action received from server: "+Zo(t)+"\nAre you using the latest client?")},dh.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},dh.prototype.scheduleConnect_=function(t){var e=this;Oo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},dh.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},dh.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},dh.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=hh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},dh.prototype.establishConnection_=function(){var t,e,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+dh.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(t){Oo(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?ws("getToken() completed but was canceled"):(ws("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new sh(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){ss(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),a||(l.repoInfo_.nodeAdmin&&ss(t),u())})))},dh.prototype.interrupt=function(t){ws("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},dh.prototype.resume=function(t){ws("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ra(this.interruptReasons_)&&(this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0))},dh.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},dh.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},dh.prototype.onListenRevoked_=function(t,e){e=e?e.map((function(t){return Ts(t)})).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},dh.prototype.removeListen_=function(t,e){var n,r=new xs(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},dh.prototype.onAuthRevoked_=function(t,e){ws("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},dh.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},dh.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=So(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},dh.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+th.replace(/\./g,"-")]=1,jo()?t["framework.cordova"]=1:Vo()&&(t["framework.reactnative"]=1),this.reportStats(t)},dh.prototype.shouldReconnect_=function(){var t=Wl.getInstance().currentlyOnline();return ra(this.interruptReasons_)&&t},dh.nextPersistentConnectionId_=0,dh.nextConnectionId_=0,dh);function dh(t,e,n,r,i,o,a){var s=lh.call(this)||this;if(s.repoInfo_=t,s.applicationId_=e,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=dh.nextPersistentConnectionId_++,s.log_=_s("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=hh,s.maxReconnectDelay_=fh,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!qo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),ql.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&Wl.getInstance().on("online",s.onOnline_,s),s}var vh,yh=(bo(gh,vh=gu),gh.prototype.reportStats=function(t){throw new Error("Method not implemented.")},gh.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Oo(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},gh.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=gh.getListenId_(t,n),s={};this.listens_[a]=s,t=t.getQueryParams().toRestQueryStringParameters(),this.restRequest_(o+".json",t,(function(t,e){404===t&&(t=e=null),null===t&&i.onDataUpdate_(o,e,!1,n),na(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},gh.prototype.unlisten=function(t,e){e=gh.getListenId_(t,e),delete this.listens_[e]},gh.prototype.refreshAuthToken=function(t){},gh.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(e.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&a.status<300){try{t=Jo(a.responseText)}catch(t){ss("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&ss("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},gh);function gh(t,e,n){var r=vh.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=_s("p:rest:"),r.listens_={},r}var mh="repo_interrupt",bh=(wh.prototype.start=function(){var t=this;if(this.stats_=Nl.getCollection(this.repoInfo_),this.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new yh(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zo(e)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new ph(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Nl.getOrCreateReporter(this.repoInfo_,(function(){return new Rl(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Tl,this.infoSyncTree_=new Sl({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Sl({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){r=i(n,r),t.eventQueue_.raiseEventsForChangedPath(e.path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},wh.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},wh.prototype.name=function(){return this.repoInfo_.namespace},wh.prototype.serverTime=function(){var t=this.infoData_.getNode(new xs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},wh.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},wh.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new xs(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,a=[];t=i,0<(a=r?n?(o=ia(e,(function(t){return nc(t)})),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(o=nc(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,o,r)):n?(n=ia(e,(function(t){return nc(t)})),this.serverSyncTree_.applyServerMerge(i,n)):(e=nc(e),this.serverSyncTree_.applyServerOverwrite(i,e))).length&&(t=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(t,a)},wh.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},wh.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},wh.prototype.onServerInfoUpdate_=function(t){var e=this;Cs(t,(function(t,n){e.updateInfo_(t,n)}))},wh.prototype.updateInfo_=function(t,e){t=new xs("/.info/"+t),e=nc(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e),this.eventQueue_.raiseEventsForChangedPath(t,e)},wh.prototype.getNextWriteId_=function(){return this.nextWriteId_++},wh.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=(o=Cc(e=nc(e,n),n=this.serverSyncTree_.calcCompleteEventCache(t),o),this.getNextWriteId_());o=this.serverSyncTree_.applyUserOverwrite(t,o,a,!0),this.eventQueue_.queueEvents(o),this.server_.put(t.toString(),e.val(!0),(function(e,n){var o="ok"===e;o||ss("set at "+t+" failed: "+e),o=i.serverSyncTree_.ackUserWrite(a,!o),i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)})),e=this.abortTransactions_(t),this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},wh.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,a=!0,s=this.generateServerValues(),u={};Cs(e,(function(e,n){a=!1,u[e]=Tc(t.child(e),nc(n),r.serverSyncTree_,s)})),a?(ws("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){(s="ok"===e)||ss("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(i,!s),s=0<a.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,o)})),Cs(e,(function(e){e=r.abortTransactions_(t.child(e)),r.rerunTransactions_(e)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},wh.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new xc;this.onDisconnect_.forEachTree(xs.Empty,(function(r,i){i=Tc(r,i,t.serverSyncTree_,e),n.remember(r,i)}));var r=[];n.forEachTree(xs.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n)),e=t.abortTransactions_(e),t.rerunTransactions_(e)})),this.onDisconnect_=new xc,this.eventQueue_.raiseEventsForChangedPath(xs.Empty,r)},wh.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},wh.prototype.onDisconnectSet=function(t,e,n){var r=this,i=nc(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},wh.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=nc(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},wh.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(ra(e))return ws("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&Cs(e,(function(e,n){n=nc(n),r.onDisconnect_.remember(t.child(e),n)})),r.callOnCompleteCallback(n,i,o)}))},wh.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},wh.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},wh.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(mh)},wh.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(mh)},wh.prototype.stats=function(t){var e;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=t?(this.statsListener_||(this.statsListener_=new Pl(this.stats_)),this.statsListener_.get()):this.stats_.get(),e=Object.keys(t).reduce((function(t,e){return Math.max(e.length,t)}),0),Cs(t,(function(t,n){for(var r=t,i=t.length;i<e+2;i++)r+=" ";console.log(r+n)})))},wh.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},wh.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),ws.apply(void 0,To([n],t))},wh.prototype.callOnCompleteCallback=function(t,e,n){t&&As((function(){var r,i;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(i=new Error(i)).code=r,t(i))}))},Object.defineProperty(wh.prototype,"database",{get:function(){return this.__database||(this.__database=new qh(this))},enumerable:!1,configurable:!0}),wh);function wh(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ll,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new xc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}var _h=(Eh.prototype.getStartPost=function(){return this.startPost_},Eh.prototype.getEndPost=function(){return this.endPost_},Eh.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},Eh.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new pu(e,n))||(n=$u.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},Eh.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$u.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority($u.EMPTY_NODE),i=this;return e.forEachChild(Ou,(function(t,e){i.matches(new pu(t,e))||(r=r.updateImmediateChild(t,$u.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},Eh.prototype.updatePriority=function(t,e){return t},Eh.prototype.filtersNodes=function(){return!0},Eh.prototype.getIndexedFilter=function(){return this.indexedFilter_},Eh.prototype.getIndex=function(){return this.index_},Eh.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},Eh.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},Eh);function Eh(t){this.indexedFilter_=new Zc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Eh.getStartPost_(t),this.endPost_=Eh.getEndPost_(t)}var Sh=(Ih.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new pu(e,n))||(n=$u.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Ih.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$u.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$u.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority($u.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(u,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,$u.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Ih.prototype.updatePriority=function(t,e){return t},Ih.prototype.filtersNodes=function(){return!0},Ih.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Ih.prototype.getIndex=function(){return this.index_},Ih.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;Oo(s.numChildren()===this.limit_,"");var u=new pu(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=p?(null!=i&&i.trackChildChange(Xc.childChangedChange(e,n,h)),s.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(Xc.childRemovedChange(e,h)),h=s.updateImmediateChild(e,$u.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Xc.childAddedChange(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Xc.childRemovedChange(c.name,c.node)),i.trackChildChange(Xc.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,$u.EMPTY_NODE)):t},Ih);function Ih(t){this.rangedFilter_=new _h(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Th=(Ch.prototype.hasStart=function(){return this.startSet_},Ch.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},Ch.prototype.getIndexStartValue=function(){return Oo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Ch.prototype.getIndexStartName=function(){return Oo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es},Ch.prototype.hasEnd=function(){return this.endSet_},Ch.prototype.getIndexEndValue=function(){return Oo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Ch.prototype.getIndexEndName=function(){return Oo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss},Ch.prototype.hasLimit=function(){return this.limitSet_},Ch.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Ch.prototype.getLimit=function(){return Oo(this.limitSet_,"Only valid if limit has been set"),this.limit_},Ch.prototype.getIndex=function(){return this.index_},Ch.prototype.copy_=function(){var t=new Ch;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},Ch.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},Ch.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},Ch.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},Ch.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},Ch.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},Ch.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},Ch.prototype.getQueryObject=function(){var t,e=Ch.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Ou&&(n[e.INDEX]=this.index_.toString()),n},Ch.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Ch.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ou},Ch.prototype.getNodeFilter=function(){return this.loadsAllData()?new Zc(this.getIndex()):new(this.hasLimit()?Sh:_h)(this)},Ch.prototype.toRestQueryStringParameters=function(){var t,e=Ch.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Ou?e.PRIORITY_INDEX:this.index_===oc?e.VALUE_INDEX:this.index_===wu?e.KEY_INDEX:(Oo(this.index_ instanceof ac,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=Zo(t),this.startSet_&&(n[e.START_AT]=Zo(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Zo(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Zo(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Zo(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},Ch.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},Ch.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},Ch.DEFAULT=new Ch,Ch);function Ch(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ou}var kh,Ah=(bo(Nh,kh=bc),Nh.prototype.getKey=function(){return ha("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Nh.prototype.child=function(t){var e,n,r;return ha("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof xs||(null===this.path.getFront()?(r=!(e=1),$s("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):$s("Reference.child",1,t,!1)),new Nh(this.repo,this.path.child(t))},Nh.prototype.getParent=function(){ha("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Nh(this.repo,t)},Nh.prototype.getRoot=function(){ha("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Nh.prototype.databaseProp=function(){return this.repo.database},Nh.prototype.set=function(t,e){ha("Reference.set",1,2,arguments.length),Xs("Reference.set",this.path),Hs("Reference.set",1,t,this.path,!1),pa("Reference.set",2,e,!0);var n=new Lo;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Nh.prototype.update=function(t,e){if(ha("Reference.update",1,2,arguments.length),Xs("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ss("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("Reference.update",1,t,this.path,!1),pa("Reference.update",2,e,!0);var i=new Lo;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Nh.prototype.setWithPriority=function(t,e,n){if(ha("Reference.setWithPriority",2,3,arguments.length),Xs("Reference.setWithPriority",this.path),Hs("Reference.setWithPriority",1,t,this.path,!1),Gs("Reference.setWithPriority",2,e,!1),pa("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Lo;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Nh.prototype.remove=function(t){return ha("Reference.remove",0,1,arguments.length),Xs("Reference.remove",this.path),pa("Reference.remove",1,t,!0),this.set(null,t)},Nh.prototype.transaction=function(t,e,n){if(ha("Reference.transaction",1,3,arguments.length),Xs("Reference.transaction",this.path),pa("Reference.transaction",1,t,!1),pa("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(fa("Reference.transaction",3,r)+"must be a boolean.")}(0,0,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Lo;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new au(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},Nh.prototype.setPriority=function(t,e){ha("Reference.setPriority",1,2,arguments.length),Xs("Reference.setPriority",this.path),Gs("Reference.setPriority",1,t,!1),pa("Reference.setPriority",2,e,!0);var n=new Lo;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Nh.prototype.push=function(t,e){ha("Reference.push",0,2,arguments.length),Xs("Reference.push",this.path),Hs("Reference.push",1,t,this.path,!0),pa("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=fu(n),i=(n=this.child(r),this.child(r));return t=null!=t?n.set(t,e).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),"function"==typeof e&&t.catch((function(){})),n},Nh.prototype.onDisconnect=function(){return Xs("Reference.onDisconnect",this.path),new iu(this.repo,this.path)},Object.defineProperty(Nh.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Nh);function Nh(t,e){if(!(t instanceof bh))throw new Error("new Reference() no longer supported - use app.database().");return kh.call(this,t,e,Th.DEFAULT,!1)||this}bc.__referenceConstructor=Ah,vl.__referenceConstructor=Ah;var Oh,Ph=function(){this.children={},this.childCount=0,this.value=null},xh=(Rh.prototype.subTree=function(t){for(var e=t instanceof xs?t:new xs(t),n=this,r=e.getFront();null!==r;)n=new Rh(r,n,na(n.node_.children,r)||new Ph),r=(e=e.popFront()).getFront();return n},Rh.prototype.getValue=function(){return this.node_.value},Rh.prototype.setValue=function(t){Oo(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},Rh.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Rh.prototype.hasChildren=function(){return 0<this.node_.childCount},Rh.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Rh.prototype.forEachChild=function(t){var e=this;Cs(this.node_.children,(function(n,r){t(new Rh(n,e,r))}))},Rh.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},Rh.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},Rh.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},Rh.prototype.path=function(){return new xs(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Rh.prototype.name=function(){return this.name_},Rh.prototype.parent=function(){return this.parent_},Rh.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Rh.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=ea(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},Rh);function Rh(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Ph),this.name_=t,this.parent_=e,this.node_=n}(K=Oh=Oh||{})[K.RUN=0]="RUN",K[K.SENT=1]="SENT",K[K.COMPLETED=2]="COMPLETED",K[K.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",K[K.NEEDS_ABORT=4]="NEEDS_ABORT",bh.MAX_TRANSACTION_RETRIES_=25,bh.prototype.transactionsInit_=function(){this.transactionQueueTree_=new xh},bh.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new Ah(this,t);o.on("value",i);var a,s={path:t,update:e,onComplete:n,status:null,order:ys(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};e=this.getLatestState_(t),s.currentInputSnapshot=e,void 0===(n=s.update(e.val()))?(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&(a=new uc(s.currentInputSnapshot,new Ah(this,s.path),Ou),s.onComplete(null,!1,a))):(ru("transaction failed: Data returned ",n,s.path),s.status=Oh.RUN,(a=(r=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(s),r.setValue(a),r=void 0,"object"==typeof n&&null!==n&&ea(n,".priority")?(r=na(n,".priority"),Oo(Ws(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(this.serverSyncTree_.calcCompleteEventCache(t)||$u.EMPTY_NODE).getPriority().val(),a=this.generateServerValues(),a=Cc(r=nc(n,r),e,a),s.currentOutputSnapshotRaw=r,s.currentOutputSnapshotResolved=a,s.currentWriteId=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserOverwrite(t,a,s.currentWriteId,s.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,s),this.sendReadyTransactions_())},bh.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||$u.EMPTY_NODE},bh.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Oo(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===Oh.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},bh.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=u=this.getLatestState_(t,r),o=(r=u.hash(),0);o<e.length;o++){var a=e[o];Oo(a.status===Oh.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=Oh.SENT,a.retryCount++;var s=xs.relativePath(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;this.server_.put(c.toString(),u,(function(r){n.log_("transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o,a,s=[],u=0;u<e.length;u++)e[u].status=Oh.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete&&(o=e[u].currentOutputSnapshotResolved,a=new Ah(n,e[u].path),a=new uc(o,a,Ou),s.push(e[u].onComplete.bind(null,null,!0,a))),e[u].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),u=0;u<s.length;u++)As(s[u])}else{if("datastale"===r)for(u=0;u<e.length;u++)e[u].status===Oh.SENT_NEEDS_ABORT?e[u].status=Oh.NEEDS_ABORT:e[u].status=Oh.RUN;else for(ss("transaction at "+c.toString()+" failed: "+r),u=0;u<e.length;u++)e[u].status=Oh.NEEDS_ABORT,e[u].abortReason=r;n.rerunTransactions_(t)}}),r)},bh.prototype.rerunTransactions_=function(t){t=(e=this.getAncestorTransactionNode_(t)).path();var e=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(e,t),t},bh.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===Oh.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a,s,u,c=t[o],l=xs.relativePath(e,c.path),h=!1,f=void 0;Oo(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Oh.NEEDS_ABORT?(h=!0,f=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):c.status===Oh.RUN&&(r=c.retryCount>=bh.MAX_TRANSACTION_RETRIES_?(h=!0,f="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):(a=this.getLatestState_(c.path,i),c.currentInputSnapshot=a,void 0!==(u=t[o].update(a.val()))?(ru("transaction failed: Data returned ",u,c.path),s=nc(u),"object"==typeof u&&null!=u&&ea(u,".priority")||(s=s.updatePriority(a.getPriority())),l=c.currentWriteId,u=Cc(s,a,u=this.generateServerValues()),c.currentOutputSnapshotRaw=s,c.currentOutputSnapshotResolved=u,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(l),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,u,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(h=!0,f="nodata",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=Oh.COMPLETED,c=t[o].unwatcher,setTimeout(c,Math.floor(0)),t[o].onComplete&&("nodata"===f?(h=new Ah(this,t[o].path),c=t[o].currentInputSnapshot,h=new uc(c,h,Ou),n.push(t[o].onComplete.bind(null,null,!1,h))):n.push(t[o].onComplete.bind(null,new Error(f),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)As(n[o]);this.sendReadyTransactions_()}},bh.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},bh.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},bh.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},bh.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Oh.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},bh.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path();return(t=this.transactionQueueTree_.subTree(t)).forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(t),t.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},bh.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===Oh.SENT_NEEDS_ABORT||(e[o].status===Oh.SENT?(Oo(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=Oh.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Oo(e[o].status===Oh.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)As(n[o])}};var Dh=(Lh.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(ws("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},Lh.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},Lh.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},Lh.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ss(t)},Lh);function Lh(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var Mh=(Fh.prototype.getToken=function(t){return Promise.resolve({accessToken:Fh.EMULATOR_AUTH_TOKEN})},Fh.prototype.addTokenChangeListener=function(t){t(Fh.EMULATOR_AUTH_TOKEN)},Fh.prototype.removeTokenChangeListener=function(t){},Fh.prototype.notifyForInvalidToken=function(){},Fh.EMULATOR_AUTH_TOKEN="owner",Fh);function Fh(){}var jh,Uh=(Vh.getInstance=function(){return jh=jh||new Vh},Vh.prototype.interrupt=function(){var t,e,n,r;try{for(var i=So(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Vh.prototype.resume=function(){var t,e,n,r;try{for(var i=So(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Vh.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new Us(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Mh)},Vh.prototype.databaseFromApp=function(t,e,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ws("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=qs(o,i),u=s.repoInfo;return r=void 0,"undefined"!=typeof n&&(r=Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),r?(a=!0,u=(s=qs(o="http://"+r+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure,e=i&&a?new Mh:new Dh(t,e),Js("Invalid Firebase Database URL",1,s),s.path.isEmpty()||as("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,t,e).database},Vh.prototype.deleteRepo=function(t){var e=na(this.repos_,t.app.name);e&&na(e,t.key)===t||as("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},Vh.prototype.createRepo=function(t,e,n){var r=na(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=na(r,t.toURLString());return i&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new bh(t,this.useRestClient_,e,n),r[t.toURLString()]=i},Vh.prototype.forceRestClient=function(t){this.useRestClient_=t},Vh);function Vh(){this.repos_={},this.useRestClient_=!1}var qh=(Object.defineProperty(Bh.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Bh.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Ah(this.repo_,xs.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Bh.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),Bh.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?as("Cannot call useEmulator() after instance has already been initialized."):Uh.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},Bh.prototype.ref=function(t){return this.checkDeleted_("ref"),ha("database.ref",0,1,arguments.length),t instanceof Ah?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},Bh.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),ha(e,1,1,arguments.length);var n=qs(t,this.repo_.repoInfo_.nodeAdmin);return Js(e,1,n),(t=n.repoInfo).isCustomHost()||t.host===this.repo_.repoInfo_.host||as(e+": Host name does not match the current database: (found "+t.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Bh.prototype.checkDeleted_=function(t){null===this.repoInternal_&&as("Cannot call "+t+" on a deleted database.")},Bh.prototype.goOffline=function(){ha("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Bh.prototype.goOnline=function(){ha("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Bh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},Bh);function Bh(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){return this.checkDeleted_("delete"),Uh.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof bh||as("Don't call new Database() directly - please use firebase.database().")}var zh=Object.freeze({__proto__:null,forceLongPolling:function(){rh.forceDisallow(),$l.forceAllow()},forceWebSockets:function(){$l.forceDisallow()},isWebSocketsAvailable:function(){return rh.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace;return t=void 0!==(t=t.nodeAdmin)&&t,eh(r),(r=new Ia("auth-internal",new Ca("database-standalone"))).setComponent(new _a("auth-internal",(function(){return i}),"PRIVATE")),{instance:Uh.getInstance().databaseFromApp(e,r,n,t),namespace:o}}});Dr=ph,ph.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ph.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Wh,Hh=Object.freeze({__proto__:null,DataConnection:Dr,RealTimeConnection:sh,hijackHash:function(t){var e=ph.prototype.put;return ph.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){ph.prototype.put=e}},ConnectionTarget:Us,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Uh.getInstance().forceRestClient(t)}}),Kh=qh.ServerValue;eh((Wh=Ja).SDK_VERSION),Wh.INTERNAL.registerComponent(new _a("database",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),Uh.getInstance().databaseFromApp(n,t,e)}),"PUBLIC").setServiceProps({Reference:Ah,Query:bc,Database:qh,DataSnapshot:uc,enableLogging:is,INTERNAL:zh,ServerValue:Kh,TEST_ACCESS:Hh}).setMultipleInstances(!0)),Wh.registerVersion("@firebase/database","0.7.0");var Gh=function(t,e){return(Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};var Yh={},$h=F||self;function Xh(){}function Jh(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Zh(t){var e=Jh(t);return"array"==e||"object"==e&&"number"==typeof t.length}function tf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ef="closure_uid_"+(1e9*Math.random()>>>0),nf=0;function rf(t,e,n){return t.call.apply(t.bind,arguments)}function of(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function af(t,e,n){return(af=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rf:of).apply(null,arguments)}function sf(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var uf=Date.now;function cf(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function lf(){this.j=this.j,this.i=this.i}lf.prototype.j=!1,lf.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,ef)&&t[ef]||(t[ef]=++nf))},lf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var hf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ff=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function pf(){return Array.prototype.concat.apply([],arguments)}function df(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vf(t){return/^[\s\xa0]*$/.test(t)}var yf,gf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mf(t,e){return-1!=t.indexOf(e)}function bf(t,e){return t<e?-1:e<t?1:0}var wf=$h.navigator;function _f(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ef(t){var e,n={};for(e in t)n[e]=t[e];return n}yf=wf&&(wf=wf.userAgent)?wf:"";var Sf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Sf.length;i++)e=Sf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Tf(t){return Tf[" "](t),t}Tf[" "]=Xh;var Cf,kf=mf(yf,"Opera"),Af=mf(yf,"Trident")||mf(yf,"MSIE"),Nf=mf(yf,"Edge"),Of=Nf||Af,Pf=mf(yf,"Gecko")&&!(mf(yf.toLowerCase(),"webkit")&&!mf(yf,"Edge"))&&!(mf(yf,"Trident")||mf(yf,"MSIE"))&&!mf(yf,"Edge"),xf=mf(yf.toLowerCase(),"webkit")&&!mf(yf,"Edge");function Rf(){var t=$h.document;return t?t.documentMode:void 0}var Df="",Lf=(Lf=yf,Pf?/rv:([^\);]+)(\)|;)/.exec(Lf):Nf?/Edge\/([\d\.]+)/.exec(Lf):Af?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Lf):xf?/WebKit\/(\S+)/.exec(Lf):kf?/(?:Version)[ \/]?(\S+)/.exec(Lf):void 0);Lf&&(Df=Lf?Lf[1]:""),Cf=Af&&null!=(Lf=Rf())&&Lf>parseFloat(Df)?String(Lf):Df;var Mf={};function Ff(t){return e=t,n=function(){for(var e=0,n=gf(String(Cf)).split("."),r=gf(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=bf(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||bf(0==a[2].length,0==s[2].length)||bf(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Mf,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var jf=$h.document&&Af&&(Rf()||parseInt(Cf,10))||void 0,Uf=!Af||9<=Number(jf),Vf=Af&&!Ff("9"),qf=function(){if(!$h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$h.addEventListener("test",Xh,e),$h.removeEventListener("test",Xh,e)}catch(t){}return t}();function Bf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function zf(t,e){if(Bf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pf){t:{try{Tf(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Bf.prototype.b=function(){this.defaultPrevented=!0},cf(zf,Bf);var Wf={2:"touch",3:"pen",4:"mouse"};zf.prototype.b=function(){zf.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Hf="closure_listenable_"+(1e6*Math.random()|0),Kf=0;function Gf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Kf,this.Y=this.Z=!1}function Qf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Yf(t){this.src=t,this.a={},this.b=0}function $f(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=hf(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Qf(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Xf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Yf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xf(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Gf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Jf="closure_lm_"+(1e6*Math.random()|0),Zf={};function tp(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=up(r),e&&e[Hf]?e.wa(n,r,tf(i)?!!i.capture:!!i,o):ep(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)tp(t,e[o],n,r,i);return null}return n=up(n),t&&t[Hf]?t.va(e,n,tf(r)?!!r.capture:!!r,i):ep(t,e,n,!1,r,i)}function ep(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=tf(i)?!!i.capture:!!i;if(a&&!Uf)return null;var s,u,c=ap(t);if(c||(t[Jf]=c=new Yf(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=op,r=u=Uf?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)qf||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rp(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function np(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Hf]?$f(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rp(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ap(e))?($f(n,t),0==n.b&&(n.src=null,e[Jf]=null)):Qf(t)))}function rp(t){return t in Zf?Zf[t]:Zf[t]="on"+t}function ip(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&np(t),n.call(r,e)}function op(t,e){if(t.Y)return!0;if(Uf)return ip(t,new zf(e,this));if(!e)t:{e=["window","event"];for(var n=$h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ip(t,e=new zf(e,this))}function ap(t){return(t=t[Jf])instanceof Yf?t:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(t){return"function"==Jh(t)?t:(t[sp]||(t[sp]=function(e){return t.handleEvent(e)}),t[sp])}function cp(){lf.call(this),this.c=new Yf(this),(this.J=this).C=null}function lp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&$f(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}cf(cp,lf),cp.prototype[Hf]=!0,(gu=cp.prototype).addEventListener=function(t,e,n,r){tp(this,t,e,n,r)},gu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=tf(i)?!!i.capture:!!i,r=up(r),e&&e[Hf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Xf(a=e.a[n],r,i,o))&&(Qf(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&ap(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Xf(n,r,i,o)),(r=-1<e?n[e]:null)&&np(r))}(this,t,e,n,r)},gu.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t?t=new Bf(t,n):t instanceof Bf?t.target=t.target||n:(a=t,If(t=new Bf(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.a=e[i],a=lp(o,r,!0,t)&&a;if(a=lp(o=t.a=n,r,!0,t)&&a,a=lp(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=lp(o=t.a=e[i],r,!1,t)&&a;return a},gu.G=function(){if(cp.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qf(n[r]);delete e.a[t],e.b--}}this.C=null},gu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},gu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var hp=$h.JSON.stringify;function fp(){this.b=this.a=null}var pp,dp=(vp.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new vp((function(){return new yp}),(function(t){t.reset()}),100));function vp(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function yp(){this.next=this.b=this.a=null}function gp(t,e){var n;pp||(n=$h.Promise.resolve(void 0),pp=function(){n.then(wp)}),mp||(pp(),mp=!0),bp.add(t,e)}fp.prototype.add=function(t,e){var n=dp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},yp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var mp=!(yp.prototype.reset=function(){this.next=this.b=this.a=null}),bp=new fp;function wp(){for(var t,e;n=e=void 0,n=null,(e=bp).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){$h.setTimeout((function(){throw t}),0)}(t)}var n=dp;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}mp=!1}function _p(t,e){cp.call(this),this.b=t||1,this.a=e||$h,this.f=af(this.Ya,this),this.g=uf()}function Ep(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Sp(t,e,n){if("function"==Jh(t))n&&(t=af(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=af(t.handleEvent,t)}return 2147483647<Number(e)?-1:$h.setTimeout(t,e||0)}cf(_p,cp),(gu=_p.prototype).aa=!1,gu.M=null,gu.Ya=function(){var t;this.aa&&(0<(t=uf()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ep(this),this.start())))},gu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=uf())},gu.G=function(){_p.S.G.call(this),Ep(this),delete this.a};var Ip,Tp,Cp,kp=(Gh(Tp=Np,Cp=Ip=lf),Tp.prototype=null===Cp?Object.create(Cp):(Ap.prototype=Cp.prototype,new Ap),Np.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Sp((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Np.prototype.G=function(){Ip.prototype.G.call(this),this.a&&($h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},Np);function Ap(){this.constructor=Tp}function Np(t,e,n){var r=Ip.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function Op(t){lf.call(this),this.b=t,this.a={}}cf(Op,lf);var Pp=[];function xp(t,e,n,r){Array.isArray(n)||(n&&(Pp[0]=n.toString()),n=Pp);for(var i=0;i<n.length;i++){var o=tp(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Rp(t){_f(t.a,(function(t,e){this.a.hasOwnProperty(e)&&np(t)}),t),t.a={}}function Dp(){this.a=!0}function Lp(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return hp(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Op.prototype.G=function(){Op.S.G.call(this),Rp(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dp.prototype.info=function(){};var Mp,Fp=null;function jp(){return Fp=Fp||new cp}function Up(t){Bf.call(this,"serverreachability",t)}function Vp(t){var e=jp();e.dispatchEvent(new Up(e))}function qp(t){Bf.call(this,"statevent",t)}function Bp(t){var e=jp();e.dispatchEvent(new qp(e))}function zp(t){Bf.call(this,"timingevent",t)}function Wp(t,e){if("function"!=Jh(t))throw Error("Fn must not be null and must be a function");return $h.setTimeout((function(){t()}),e)}function Hp(){}function Kp(t){var e;return(e=t.a)||(e=t.a={}),e}function Gp(){}function Qp(){Bf.call(this,"d")}function Yp(){Bf.call(this,"c")}function $p(){}function Xp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Op(this),this.P=Jp,t=Of?125:void 0,this.R=new _p(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}cf(Up,Bf),cf(qp,Bf),cf(zp,Bf),K={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Dr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"},Hp.prototype.a=null,F={OPEN:"a",$a:"b",Ea:"c",jb:"d"},cf(Qp,Bf),cf(Yp,Bf),cf($p,Hp),Mp=new $p;var Jp=45e3,Zp={},td={};function ed(t,e,n){t.H=1,t.i=Ed(yd(e)),t.j=n,t.I=!0,nd(t,null)}function nd(t,e){t.u=uf(),id(t),t.l=yd(t.i);var n,r,i,o,a,s,u=t.l,c=t.T;Array.isArray(c)||(c=[String(c)]),Ld(u.b,"t",c),t.D=0,t.a=Av(t.g,t.g.C?e:null),0<t.O&&(t.F=new kp(af(t.Ca,t,t.a),t.O)),xp(t.J,t.a,"readystatechange",t.Wa),e=t.B?Ef(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Vp(1),n=t.c,r=t.m,i=t.l,o=t.f,a=t.T,s=t.j,n.info((function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t}))}function rd(t,e,n){for(var r,i,o,a=!0;!t.A&&t.D<n.length;){var s=(s=n,o=i=void 0,i=(r=t).D,-1==(o=s.indexOf("\n",i))?td:(i=Number(s.substring(i,o)),isNaN(i)?Zp:(o+=1)+i>s.length?td:(s=s.substr(o,i),r.D=o+i,s)));if(s==td){4==e&&(t.h=4,Bp(14),a=!1),Lp(t.c,t.f,null,"[Incomplete Response]");break}if(s==Zp){t.h=4,Bp(15),Lp(t.c,t.f,n,"[Invalid Chunk]"),a=!1;break}Lp(t.c,t.f,s,null),cd(t,s)}4==e&&0==n.length&&(t.h=1,Bp(16),a=!1),t.b=t.b&&a,a?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),wv(e),e.F=!0)):(Lp(t.c,t.f,n,"[Invalid Chunked Response]"),ud(t),sd(t))}function id(t){t.U=uf()+t.P,od(t,t.P)}function od(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Wp(af(t.Ua,t),e)}function ad(t){t.o&&($h.clearTimeout(t.o),t.o=null)}function sd(t){0==t.g.v||t.A||Sv(t.g,t)}function ud(t){ad(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ep(t.R),Rp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function cd(t,e){try{var n,r,i,o,a,s=t.g;if(0!=s.v&&(s.a==t||Bd(s.b,t)))if(s.I=t.N,!t.C&&Bd(s.b,t)&&3==s.v){try{var u=s.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!s.j){if(s.a){if(!(s.a.u+3e3<t.u))break t;Ev(s),hv(s)}bv(s),Bp(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=Wp(af(s.Ra,s),6e3));if(qd(s.b)<=1&&s.ea){try{s.ea()}catch(t){}s.ea=void 0}}else Tv(s,11)}else if(!t.C&&s.a!=t||Ev(s),!vf(e))for(e=u=s.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(mf(r,"spdy")||mf(r,"quic")||mf(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(zd(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,_d(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.V&&(s.N=uf()-t.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=t,(n=s).la=kv(n,n.C?n.ga:null,n.fa),i.C?(Wd(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(ad(o),id(o)),n.a=i):mv(n),0<s.g.length&&dv(s)):"stop"!=c[0]&&"close"!=c[0]||Tv(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Tv(s,7):lv(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);Vp(4)}catch(t){}}function ld(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zh(t)||"string"==typeof t)ff(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function hd(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hd)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pd(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pd(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function pd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(gu=Xp.prototype).setTimeout=function(t){this.P=t},gu.Wa=function(t){t=t.target;var e=this.F;e&&3==av(t)?e.f():this.Ca(t)},gu.Ca=function(t){try{if(t==this.a)t:{var e=av(this.a),n=this.a.ua(),r=this.a.X();if(!(e<3||3==e&&!Of&&!this.a.$())){this.A||4!=e||7==n||Vp(8==n||r<=0?3:2),ad(this);var i=this.a.X();if(this.N=i,n=this.a.$(),this.b=200==i,r=this.c,s=this.m,u=this.l,c=this.f,l=this.T,h=e,f=i,r.info((function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+s+"\n"+u+"\n"+h+" "+f})),this.b){if(this.V&&!this.C){e:{if(this.a){var o=this.a;if((o=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vf(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Bp(12),ud(this),sd(this);break t}Lp(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,cd(this,a)}this.I?(rd(this,e,n),Of&&this.b&&3==e&&(xp(this.J,this.R,"tick",this.Va),this.R.start())):(Lp(this.c,this.f,n,null),cd(this,n)),4==e&&ud(this),this.b&&!this.A&&(4==e?Sv(this.g,this):(this.b=!1,id(this)))}else 400==i&&0<n.indexOf("Unknown SID")?(this.h=3,Bp(12)):(this.h=0,Bp(13)),ud(this),sd(this)}}}catch(t){}var s,u,c,l,h,f},gu.Va=function(){var t,e;this.a&&(t=av(this.a),e=this.a.$(),this.D<e.length&&(ad(this),rd(this,t,e),this.b&&4!=t&&id(this)))},gu.cancel=function(){this.A=!0,ud(this)},gu.Ua=function(){this.o=null;var t,e,n=uf();0<=n-this.U?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(Vp(3),Bp(17)),ud(this),this.h=2,sd(this)):od(this,this.U-n)},(gu=hd.prototype).K=function(){fd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},gu.L=function(){return fd(this),this.a.concat()},gu.get=function(t,e){return pd(this.b,t)?this.b[t]:e},gu.set=function(t,e){pd(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},gu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var dd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vd(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof vd?(this.a=void 0!==e?e:t.a,gd(this,t.f),this.j=t.j,md(this,t.c),bd(this,t.h),this.g=t.g,e=t.b,(n=new Pd).c=e.c,e.a&&(n.a=new hd(e.a),n.b=e.b),wd(this,n),this.i=t.i):t&&(n=String(t).match(dd))?(this.a=!!e,gd(this,n[1]||"",!0),this.j=Sd(n[2]||""),md(this,n[3]||"",!0),bd(this,n[4]),this.g=Sd(n[5]||"",!0),wd(this,n[6]||"",!0),this.i=Sd(n[7]||"")):(this.a=!!e,this.b=new Pd(null,this.a))}function yd(t){return new vd(t)}function gd(t,e,n){t.f=n?Sd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function md(t,e,n){t.c=n?Sd(e,!0):e}function bd(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function wd(t,e,n){var r,i;e instanceof Pd?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(xd(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Rd(this,e),Ld(this,n,t))}),r)),r.f=i):(n||(e=Id(e,Nd)),t.b=new Pd(e,t.a))}function _d(t,e,n){t.b.set(e,n)}function Ed(t){return _d(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^uf()).toString(36)),t}function Sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Id(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Td),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Td(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Id(e,Cd,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(Id(e,Cd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Id(n,"/"==n.charAt(0)?Ad:kd,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Id(n,Od)),t.join("")};var Cd=/[#\/\?@]/g,kd=/[#\?:]/g,Ad=/[#\?]/g,Nd=/[#\?@]/g,Od=/#/g;function Pd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function xd(t){t.a||(t.a=new hd,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Rd(t,e){xd(t),e=Md(t,e),pd(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fd(t)))}function Dd(t,e){return xd(t),e=Md(t,e),pd(t.a.b,e)}function Ld(t,e,n){Rd(t,e),0<n.length&&(t.c=null,t.a.set(Md(t,e),df(n)),t.b+=n.length)}function Md(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Fd(t,e){this.b=t,this.a=e}function jd(t){this.g=t||Ud,t=$h.PerformanceNavigationTiming?0<(t=$h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($h.ia&&$h.ia.ya&&$h.ia.ya()&&$h.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(gu=Pd.prototype).add=function(t,e){xd(this),this.c=null,t=Md(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},gu.forEach=function(t,e){xd(this),this.a.forEach((function(n,r){ff(n,(function(n){t.call(e,n,r,this)}),this)}),this)},gu.L=function(){xd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},gu.K=function(t){xd(this);var e=[];if("string"==typeof t)Dd(this,t)&&(e=pf(e,this.a.get(Md(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=pf(e,t[n])}return e},gu.set=function(t,e){return xd(this),this.c=null,Dd(this,t=Md(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},gu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},gu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Ud=10;function Vd(t){return t.b||t.a&&t.a.size>=t.f}function qd(t){return t.b?1:t.a?t.a.size:0}function Bd(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function zd(t,e){t.a?t.a.add(e):t.b=e}function Wd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return df(t.c);var r=t.c;try{for(var i=Qh(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Kd(){}function Gd(){this.a=new Kd}function Qd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}jd.prototype.cancel=function(){var t,e;if(this.c=Hd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Kd.prototype.stringify=function(t){return $h.JSON.stringify(t,void 0)},Kd.prototype.parse=function(t){return $h.JSON.parse(t,void 0)};var Yd=$h.JSON.parse;function $d(t){cp.call(this),this.headers=new hd,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Xd,this.D=this.F=!1}cf($d,cp);var Xd="",Jd=/^https?$/i,Zd=["POST","PUT"];function tv(t){return"content-type"==t.toLowerCase()}function ev(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,nv(t),iv(t)}function nv(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function rv(t){if(t.b&&void 0!==Yh&&(!t.s[1]||4!=av(t)||2!=t.X()))if(t.l&&4==av(t))Sp(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==av(t)){t.b=!1;try{var e,n,r,i,o=t.X();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(dd)[1]||null)&&$h.self&&$h.self.location&&(i=(r=$h.self.location.protocol).substr(0,r.length-1)),n=!Jd.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<av(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.X()+"]",nv(t)}}finally{iv(t)}}}function iv(t,e){if(t.a){ov(t);var n=t.a,r=t.s[0]?Xh:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function ov(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($h.clearTimeout(t.m),t.m=null)}function av(t){return t.a?t.a.readyState:0}function sv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",_f(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_d(t,e,n))}function uv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cv(t){this.pa=0,this.g=[],this.c=new Dp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=uv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=uv("baseRetryDelayMs",5e3,t),this.Ma=uv("retryDelaySeedMs",1e4,t),this.Ja=uv("forwardChannelMaxRetries",2,t),this.ma=uv("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new jd(t&&t.concurrentRequestLimit),this.ka=new Gd,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function lv(t){var e,n;fv(t),3==t.v&&(e=t.R++,_d(n=yd(t.B),"SID",t.J),_d(n,"RID",e),_d(n,"TYPE","terminate"),yv(t,n),(e=new Xp(t,t.c,e,void 0)).H=2,e.i=Ed(yd(n)),n=!1,$h.navigator&&$h.navigator.sendBeacon&&(n=$h.navigator.sendBeacon(e.i.toString(),"")),!n&&$h.Image&&((new Image).src=e.i,n=!0),n||(e.a=Av(e.g,null),e.a.ba(e.i)),e.u=uf(),id(e)),Cv(t)}function hv(t){t.a&&(wv(t),t.a.cancel(),t.a=null)}function fv(t){hv(t),t.j&&($h.clearTimeout(t.j),t.j=null),Ev(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$h.clearTimeout(t.h),t.h=null)}function pv(t,e){t.g.push(new Fd(t.La++,e)),3==t.v&&dv(t)}function dv(t){Vd(t.b)||t.h||(t.h=!0,gp(t.Ba,t),t.u=0)}function vv(t,e){var n=e?e.f:t.R++,r=yd(t.B);_d(r,"SID",t.J),_d(r,"RID",n),_d(r,"AID",t.P),yv(t,r),t.i&&t.l&&sv(r,t.i,t.l),n=new Xp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=gv(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zd(t.b,n),ed(n,r,e)}function yv(t,e){t.f&&ld({},(function(t,n){_d(e,n,t)}))}function gv(t,e,n){n=Math.min(t.g.length,n);var r=t.f?af(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r=n||"";try{ld(t,(function(t,n){var i=t;tf(t)&&(i=hp(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function mv(t){t.a||t.j||(t.U=1,gp(t.Aa,t),t.o=0)}function bv(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Wp(af(t.Aa,t),Iv(t,t.o)),t.o++,1)}function wv(t){null!=t.s&&($h.clearTimeout(t.s),t.s=null)}function _v(t){t.a=new Xp(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=yd(t.la);_d(e,"RID","rpc"),_d(e,"SID",t.J),_d(e,"CI",t.H?"0":"1"),_d(e,"AID",t.P),yv(t,e),_d(e,"TYPE","xmlhttp"),t.i&&t.l&&sv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ed(yd(e)),n.j=null,n.I=!0,nd(n,t)}function Ev(t){null!=t.m&&($h.clearTimeout(t.m),t.m=null)}function Sv(t,e){var n,r=null;if(t.a==e){Ev(t),wv(t),t.a=null;var i=2}else{if(!Bd(t.b,e))return;r=e.s,Wd(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=uf()-e.u,n=t.u,(i=jp()).dispatchEvent(new zp(i)),dv(t)):mv(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(qd(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)))return t.h=Wp(af(t.Ba,t,e),Iv(t,t.u)),t.u++,1}}(t,e)||2==i&&bv(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:Tv(t,5);break;case 4:Tv(t,10);break;case 3:Tv(t,6);break;default:Tv(t,2)}}function Iv(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Tv(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=af(t.Xa,t),r||(r=new vd("//www.google.com/images/cleardot.gif"),$h.location&&"http"==$h.location.protocol||gd(r,"https"),Ed(r)),n=r.toString(),r=o,o=new Dp,$h.Image?((i=new Image).onload=sf(Qd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=sf(Qd,o,i,"TestLoadImage: error",!1,r),i.onabort=sf(Qd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=sf(Qd,o,i,"TestLoadImage: timeout",!1,r),$h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Bp(2),t.v=0,t.f&&t.f.ra(e),Cv(t),fv(t)}function Cv(t){t.v=0,t.I=-1,t.f&&(0==Hd(t.b).length&&0==t.g.length||(t.b.c.length=0,df(t.g),t.g.length=0),t.f.qa())}function kv(t,e,n){var r,i,o,a,s,u=(a=n)instanceof vd?yd(a):new vd(a,void 0);return""!=u.c?(e&&md(u,e+"."+u.c),bd(u,u.h)):(r=(s=$h.location).protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new vd(null,void 0),r&&gd(s,r),i&&md(s,i),o&&bd(s,o),a&&(s.g=a),u=s),t.W&&_f(t.W,(function(t,e){_d(u,e,t)})),e=t.A,n=t.na,e&&n&&_d(u,e,n),_d(u,"VER",t.ha),yv(t,u),u}function Av(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $d(t.Ka)).F=t.C,e}function Nv(){}function Ov(){if(Af&&!(10<=Number(jf)))throw Error("Environmental error: no available transport.")}function Pv(t,e){cp.call(this),this.a=new cv(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vf(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vf(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Dv(this)}function xv(t){Qp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Rv(){Yp.call(this),this.status=1}function Dv(t){this.a=t}(gu=$d.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Kp(this.H):Kp(Mp),this.a.onreadystatechange=af(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void ev(this,t)}t=n||"";var i,o=new hd(this.headers);r&&ld(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=tv,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=$h.FormData&&t instanceof $h.FormData,0<=hf(Zd,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ov(this),0<this.o&&((this.D=(i=this.a,Af&&Ff(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=af(this.xa,this)):this.m=Sp(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){ev(this,t)}},gu.xa=function(){void 0!==Yh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},gu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),iv(this))},gu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),iv(this,!0)),$d.S.G.call(this)},gu.za=function(){this.j||(this.A||this.l||this.g?rv(this):this.Ta())},gu.Ta=function(){rv(this)},gu.X=function(){try{return 2<av(this)?this.a.status:-1}catch(i){return-1}},gu.$=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},gu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yd(e)}},gu.ua=function(){return this.h},gu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(gu=cv.prototype).ha=8,gu.v=1,gu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?If(r=Ef(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=gv(this,n,e),_d(i=yd(this.B),"RID",t),_d(i,"CVER",22),this.A&&_d(i,"X-HTTP-Session-Id",this.A),yv(this,i),this.i&&r&&sv(i,this.i,r),zd(this.b,n),this.Ga&&_d(i,"TYPE","init"),this.da?(_d(i,"$req",e),_d(i,"SID","null"),n.V=!0,ed(n,i,null)):ed(n,i,e),this.v=2}}else 3==this.v&&(t?vv(this,t):0==this.g.length||Vd(this.b)||vv(this))},gu.Aa=function(){var t;this.j=null,_v(this),this.V&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Wp(af(this.Sa,this),t))},gu.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hv(this),_v(this))},gu.Ra=function(){null!=this.m&&(this.m=null,hv(this),bv(this),Bp(19))},gu.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Bp(2)):(this.c.info("Failed to ping google.com"),Bp(1))},(gu=Nv.prototype).ta=function(){},gu.sa=function(){},gu.ra=function(){},gu.qa=function(){},gu.Ha=function(){},Ov.prototype.a=function(t,e){return new Pv(t,e)},cf(Pv,cp),(gu=Pv.prototype).addEventListener=function(t,e,n,r){Pv.S.addEventListener.call(this,t,e,n,r)},gu.removeEventListener=function(t,e,n,r){Pv.S.removeEventListener.call(this,t,e,n,r)},gu.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Bp(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=kv(t,null,t.fa),dv(t)},gu.close=function(){lv(this.a)},gu.Pa=function(t){var e;"string"==typeof t?((e={}).__data__=t,pv(this.a,e)):this.g?((e={}).__data__=hp(t),pv(this.a,e)):pv(this.a,t)},gu.G=function(){this.a.f=null,delete this.f,lv(this.a),delete this.a,Pv.S.G.call(this)},cf(xv,Qp),cf(Rv,Yp),cf(Dv,Nv),Dv.prototype.ta=function(){this.a.dispatchEvent("a")},Dv.prototype.sa=function(t){this.a.dispatchEvent(new xv(t))},Dv.prototype.ra=function(t){this.a.dispatchEvent(new Rv)},Dv.prototype.qa=function(){this.a.dispatchEvent("b")},Ov.prototype.createWebChannel=Ov.prototype.a,Pv.prototype.send=Pv.prototype.Pa,Pv.prototype.open=Pv.prototype.Oa,K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Dr.COMPLETE="complete",(Gp.EventType=F).OPEN="a",F.CLOSE="b",F.ERROR="c",F.MESSAGE="d",cp.prototype.listen=cp.prototype.va,$d.prototype.listenOnce=$d.prototype.wa,$d.prototype.getLastError=$d.prototype.Qa,$d.prototype.getLastErrorCode=$d.prototype.ua,$d.prototype.getStatus=$d.prototype.X,$d.prototype.getResponseJson=$d.prototype.Na,$d.prototype.getResponseText=$d.prototype.$,$d.prototype.send=$d.prototype.ba;var Lv,Mv=K,Fv=Dr,jv=Gp,Uv=$d,Vv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qv=(bo(zv,Lv=Error),zv),Bv=new La("@firebase/firestore");function zv(t,e){var n=this;return(n=Lv.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Wv(){return Bv.logLevel}function Hv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bv.logLevel<=Na.DEBUG&&(e=n.map(Qv),Bv.debug.apply(Bv,Co(["Firestore (8.0.0): "+t],e)))}function Kv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bv.logLevel<=Na.ERROR&&(e=n.map(Qv),Bv.error.apply(Bv,Co(["Firestore (8.0.0): "+t],e)))}function Gv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Bv.logLevel<=Na.WARN&&(e=n.map(Qv),Bv.warn.apply(Bv,Co(["Firestore (8.0.0): "+t],e)))}function Qv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Yv(t){throw void 0===t&&(t="Unexpected state"),Kv(t="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function $v(t){t||Yv()}var Xv=(Jv.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Jv);function Jv(){}function Zv(t,e){return t<e?-1:e<t?1:0}function ty(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ey(t){return t+"\0"}var ny=(ry.fromBase64String=function(t){return new ry(atob(t))},ry.fromUint8Array=function(t){return new ry(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},ry.prototype.toBase64=function(){return t=this.i,btoa(t);var t},ry.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},ry.prototype.o=function(){return 2*this.i.length},ry.prototype.h=function(t){return Zv(this.i,t.i)},ry.prototype.isEqual=function(t){return this.i===t.i},ry);function ry(t){this.i=t}ny.u=new ny("");var iy=(oy.fromBase64String=function(t){try{return new oy(ny.fromBase64String(t))}catch(t){throw new qv(Vv.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},oy.fromUint8Array=function(t){return new oy(ny.fromUint8Array(t))},oy.prototype.toBase64=function(){return this.l.toBase64()},oy.prototype.toUint8Array=function(){return this.l.toUint8Array()},oy.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},oy.prototype.isEqual=function(t){return this.l.isEqual(t.l)},oy);function oy(t){this.l=t}function ay(){if("undefined"==typeof Uint8Array)throw new qv(Vv.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function sy(){if("undefined"==typeof atob)throw new qv(Vv.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function uy(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o}var cy,ly=(bo(py,cy=iy),py.fromBase64String=function(t){sy();try{return new py(ny.fromBase64String(t))}catch(t){throw new qv(Vv.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},py.fromUint8Array=function(t){return ay(),new py(ny.fromUint8Array(t))},py.prototype.toBase64=function(){return sy(),cy.prototype.toBase64.call(this)},py.prototype.toUint8Array=function(){return ay(),cy.prototype.toUint8Array.call(this)},py.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},py),hy=(Object.defineProperty(fy.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),fy.prototype.isEqual=function(t){return t instanceof fy&&t.projectId===this.projectId&&t.database===this.database},fy.prototype.h=function(t){return Zv(this.projectId,t.projectId)||Zv(this.database,t.database)},fy);function fy(t,e){this.projectId=t,this.database=e||"(default)"}function py(){return null!==cy&&cy.apply(this,arguments)||this}function dy(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function vy(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yy(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gy,my,by=(xy.prototype.get=function(t){var e=this.m(t);if(void 0!==(e=this.R[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.A(i,t))return o}},xy.prototype.has=function(t){return void 0!==this.get(t)},xy.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},xy.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},xy.prototype.forEach=function(t){vy(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];t(o,a)}}))},xy.prototype.P=function(){return yy(this.R)},xy),wy=(Py.now=function(){return Py.fromMillis(Date.now())},Py.fromDate=function(t){return Py.fromMillis(t.getTime())},Py.fromMillis=function(t){var e=Math.floor(t/1e3);return new Py(e,1e6*(t-1e3*e))},Py.prototype.toDate=function(){return new Date(this.toMillis())},Py.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Py.prototype.g=function(t){return this.seconds===t.seconds?Zv(this.nanoseconds,t.nanoseconds):Zv(this.seconds,t.seconds)},Py.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Py.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Py.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Py.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Py),_y=(Oy.V=function(t){return new Oy(t)},Oy.min=function(){return new Oy(new wy(0,0))},Oy.prototype.h=function(t){return this.timestamp.g(t.timestamp)},Oy.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Oy.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Oy.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Oy.prototype.v=function(){return this.timestamp},Oy),Ey=(Object.defineProperty(Ny.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),Ny.prototype.isEqual=function(t){return 0===Ny.D(this,t)},Ny.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Ny?t.forEach((function(t){e.push(t)})):e.push(t),this.C(e)},Ny.prototype.limit=function(){return this.offset+this.length},Ny.prototype.N=function(t){return t=void 0===t?1:t,this.C(this.segments,this.offset+t,this.length-t)},Ny.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},Ny.prototype.k=function(){return this.segments[this.offset]},Ny.prototype.O=function(){return this.get(this.length-1)},Ny.prototype.get=function(t){return this.segments[this.offset+t]},Ny.prototype.P=function(){return 0===this.length},Ny.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Ny.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Ny.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Ny.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},Ny.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},bo(Ay,my=F=Ny),Ay.prototype.C=function(t,e,n){return new Ay(t,e,n)},Ay.prototype.B=function(){return this.L().join("/")},Ay.prototype.toString=function(){return this.B()},Ay.q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new qv(Vv.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new Ay(n)},Ay.U=function(){return new Ay([])},Ay),Sy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Iy=(bo(ky,gy=F),ky.prototype.C=function(t,e,n){return new ky(t,e,n)},ky.K=function(t){return Sy.test(t)},ky.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),ky.K(t)||(t="`"+t+"`"),t})).join(".")},ky.prototype.toString=function(){return this.B()},ky.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},ky.j=function(){return new ky(["__name__"])},ky.G=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new qv(Vv.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new qv(Vv.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new qv(Vv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new qv(Vv.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ky(e)},ky.U=function(){return new ky([])},ky),Ty=(Cy.H=function(t){return new Cy(Ey.q(t))},Cy.J=function(t){return new Cy(Ey.q(t).N(5))},Cy.prototype.Y=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},Cy.prototype.isEqual=function(t){return null!==t&&0===Ey.D(this.path,t.path)},Cy.prototype.toString=function(){return this.path.toString()},Cy.D=function(t,e){return Ey.D(t.path,e.path)},Cy.X=function(t){return t.length%2==0},Cy.Z=function(t){return new Cy(new Ey(t.slice()))},Cy);function Cy(t){this.path=t}function ky(){return null!==gy&&gy.apply(this,arguments)||this}function Ay(){return null!==my&&my.apply(this,arguments)||this}function Ny(t,e,n){void 0===e?e=0:e>t.length&&Yv(),void 0===n?n=t.length-e:n>t.length-e&&Yv(),this.segments=t,this.offset=e,this.S=n}function Oy(t){this.timestamp=t}function Py(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new qv(Vv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new qv(Vv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qv(Vv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new qv(Vv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function xy(t,e){this.m=t,this.A=e,this.R={}}function Ry(t){return null==t}function Dy(t){return 0===t&&1/t==-1/0}function Ly(t){return"number"==typeof t&&Number.isInteger(t)&&!Dy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var My=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function Fy(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new My(t,e,n,r,i,o,a)}function jy(t){var e=t;return null===e.tt&&(t=e.path.B(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return(t=t).field.B()+t.op.toString()+Fg(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return(t=t).field.B()+t.dir})).join(","),Ry(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=yw(e.startAt)),e.endAt&&(t+="|ub:",t+=yw(e.endAt)),e.tt=t),e.tt}function Uy(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Rg(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mw(t.startAt,e.startAt)&&mw(t.endAt,e.endAt)}function Vy(t){return Ty.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}function qy(t){this.count=t}var By,zy=(Wy.prototype.st=function(t){return new Wy(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Wy.prototype.it=function(t,e){return new Wy(this.target,this.targetId,this.et,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Wy.prototype.rt=function(t){return new Wy(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},Wy);function Wy(t,e,n,r,i,o,a){void 0===i&&(i=_y.min()),void 0===o&&(o=_y.min()),void 0===a&&(a=ny.u),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function Hy(t){switch(t){case Vv.OK:return Yv(),0;case Vv.CANCELLED:case Vv.UNKNOWN:case Vv.DEADLINE_EXCEEDED:case Vv.RESOURCE_EXHAUSTED:case Vv.INTERNAL:case Vv.UNAVAILABLE:case Vv.UNAUTHENTICATED:return;case Vv.INVALID_ARGUMENT:case Vv.NOT_FOUND:case Vv.ALREADY_EXISTS:case Vv.PERMISSION_DENIED:case Vv.FAILED_PRECONDITION:case Vv.ABORTED:case Vv.OUT_OF_RANGE:case Vv.UNIMPLEMENTED:case Vv.DATA_LOSS:return 1;default:return Yv(),0}}function Ky(t){if(void 0===t)return Kv("GRPC error has no .code"),Vv.UNKNOWN;switch(t){case By.OK:return Vv.OK;case By.CANCELLED:return Vv.CANCELLED;case By.UNKNOWN:return Vv.UNKNOWN;case By.DEADLINE_EXCEEDED:return Vv.DEADLINE_EXCEEDED;case By.RESOURCE_EXHAUSTED:return Vv.RESOURCE_EXHAUSTED;case By.INTERNAL:return Vv.INTERNAL;case By.UNAVAILABLE:return Vv.UNAVAILABLE;case By.UNAUTHENTICATED:return Vv.UNAUTHENTICATED;case By.INVALID_ARGUMENT:return Vv.INVALID_ARGUMENT;case By.NOT_FOUND:return Vv.NOT_FOUND;case By.ALREADY_EXISTS:return Vv.ALREADY_EXISTS;case By.PERMISSION_DENIED:return Vv.PERMISSION_DENIED;case By.FAILED_PRECONDITION:return Vv.FAILED_PRECONDITION;case By.ABORTED:return Vv.ABORTED;case By.OUT_OF_RANGE:return Vv.OUT_OF_RANGE;case By.UNIMPLEMENTED:return Vv.UNIMPLEMENTED;case By.DATA_LOSS:return Vv.DATA_LOSS;default:return Yv()}}(K=By=By||{})[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var Gy=(Jy.prototype.ot=function(t,e){return new Jy(this.D,this.root.ot(t,e,this.D).copy(null,null,Yy.at,null,null))},Jy.prototype.remove=function(t){return new Jy(this.D,this.root.remove(t,this.D).copy(null,null,Yy.at,null,null))},Jy.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Jy.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Jy.prototype.P=function(){return this.root.P()},Object.defineProperty(Jy.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Jy.prototype.ht=function(){return this.root.ht()},Jy.prototype.ct=function(){return this.root.ct()},Jy.prototype.ut=function(t){return this.root.ut(t)},Jy.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},Jy.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Jy.prototype.lt=function(t){return this.root.lt(t)},Jy.prototype._t=function(){return new Qy(this.root,null,this.D,!1)},Jy.prototype.ft=function(t){return new Qy(this.root,t,this.D,!1)},Jy.prototype.dt=function(){return new Qy(this.root,null,this.D,!0)},Jy.prototype.wt=function(t){return new Qy(this.root,t,this.D,!0)},Jy),Qy=(Xy.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},Xy.prototype.At=function(){return 0<this.Tt.length},Xy.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},Xy),Yy=($y.prototype.copy=function(t,e,n,r,i){return new $y(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},$y.prototype.P=function(){return!1},$y.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},$y.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},$y.prototype.min=function(){return this.left.P()?this:this.left.min()},$y.prototype.ht=function(){return this.min().key},$y.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},$y.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},$y.prototype.gt=function(){if(this.left.P())return $y.EMPTY;var t=this;return t.left.Vt()||t.left.left.Vt()||(t=t.yt()),(t=t.copy(null,null,null,t.left.gt(),null)).Pt()},$y.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.P()||r.left.Vt()||r.left.left.Vt()||(r=r.yt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.Vt()&&(r=r.bt()),r.right.P()||r.right.Vt()||r.right.left.Vt()||(r=r.vt()),0===e(t,r.key)){if(r.right.P())return $y.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.gt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Pt()},$y.prototype.Vt=function(){return this.color},$y.prototype.Pt=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.St()),t.left.Vt()&&t.left.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.right.Vt()&&(t=t.Dt()),t},$y.prototype.yt=function(){var t=this.Dt();return t.right.left.Vt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},$y.prototype.vt=function(){var t=this.Dt();return t.left.left.Vt()&&(t=(t=t.bt()).Dt()),t},$y.prototype.St=function(){var t=this.copy(null,null,$y.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},$y.prototype.bt=function(){var t=this.copy(null,null,$y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},$y.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},$y.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},$y.prototype.Nt=function(){if(this.Vt()&&this.left.Vt())throw Yv();if(this.right.Vt())throw Yv();var t=this.left.Nt();if(t!==this.right.Nt())throw Yv();return t+(this.Vt()?0:1)},$y);function $y(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:$y.RED,this.left=null!=r?r:$y.EMPTY,this.right=null!=i?i:$y.EMPTY,this.size=this.left.size+1+this.right.size}function Xy(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}function Jy(t,e){this.D=t,this.root=e||Yy.EMPTY}function Zy(){this.size=0}Yy.EMPTY=null,Yy.RED=!0,Yy.at=!1,Yy.EMPTY=(Object.defineProperty(Zy.prototype,"key",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Zy.prototype,"value",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Zy.prototype,"color",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Zy.prototype,"left",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Zy.prototype,"right",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Zy.prototype.copy=function(t,e,n,r,i){return this},Zy.prototype.ot=function(t,e,n){return new Yy(t,e)},Zy.prototype.remove=function(t,e){return this},Zy.prototype.P=function(){return!0},Zy.prototype.ut=function(t){return!1},Zy.prototype.lt=function(t){return!1},Zy.prototype.ht=function(){return null},Zy.prototype.ct=function(){return null},Zy.prototype.Vt=function(){return!1},Zy.prototype.Ct=function(){return!0},Zy.prototype.Nt=function(){return 0},new Zy);var tg=(ig.prototype.has=function(t){return null!==this.data.get(t)},ig.prototype.first=function(){return this.data.ht()},ig.prototype.last=function(){return this.data.ct()},Object.defineProperty(ig.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),ig.prototype.indexOf=function(t){return this.data.indexOf(t)},ig.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},ig.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(0<=this.D(r.key,t[1]))return;e(r.key)}},ig.prototype.Ft=function(t,e){for(var n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},ig.prototype.kt=function(t){return(t=this.data.ft(t)).At()?t.It().key:null},ig.prototype._t=function(){return new eg(this.data._t())},ig.prototype.ft=function(t){return new eg(this.data.ft(t))},ig.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},ig.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},ig.prototype.P=function(){return this.data.P()},ig.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},ig.prototype.isEqual=function(t){if(!(t instanceof ig))return!1;if(this.size!==t.size)return!1;for(var e=this.data._t(),n=t.data._t();e.At();){var r=e.It().key,i=n.It().key;if(0!==this.D(r,i))return!1}return!0},ig.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},ig.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},ig.prototype.copy=function(t){var e=new ig(this.D);return e.data=t,e},ig),eg=(rg.prototype.It=function(){return this.Mt.It().key},rg.prototype.At=function(){return this.Mt.At()},rg),ng=new Gy(Ty.D);function rg(t){this.Mt=t}function ig(t){this.D=t,this.data=new Gy(this.D)}var og=new Gy(Ty.D),ag=new Gy(Ty.D),sg=new tg(Ty.D);function ug(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var cg=new tg(Zv),lg=(Cg.Bt=function(t){return new Cg(t.D)},Cg.prototype.has=function(t){return null!=this.$t.get(t)},Cg.prototype.get=function(t){return this.$t.get(t)},Cg.prototype.first=function(){return this.Lt.ht()},Cg.prototype.last=function(){return this.Lt.ct()},Cg.prototype.P=function(){return this.Lt.P()},Cg.prototype.indexOf=function(t){return(t=this.$t.get(t))?this.Lt.indexOf(t):-1},Object.defineProperty(Cg.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),Cg.prototype.forEach=function(t){this.Lt.ut((function(e,n){return t(e),!1}))},Cg.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},Cg.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},Cg.prototype.isEqual=function(t){if(!(t instanceof Cg))return!1;if(this.size!==t.size)return!1;for(var e=this.Lt._t(),n=t.Lt._t();e.At();){var r=e.It().key,i=n.It().key;if(!r.isEqual(i))return!1}return!0},Cg.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Cg.prototype.copy=function(t,e){var n=new Cg;return n.D=this.D,n.$t=t,n.Lt=e,n},Cg),hg=(Tg.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);!n||0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):Yv()},Tg.prototype.Ut=function(){var t=[];return this.qt.ut((function(e,n){t.push(n)})),t},Tg),fg=(Ig.Gt=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new Ig(t,e,lg.Bt(e),i,n,r,!0,!1)},Object.defineProperty(Ig.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),Ig.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Ub(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Ig),pg=(Sg.Xt=function(t,e){var n=new Map;return n.set(t,dg.Zt(t,e)),new Sg(_y.min(),n,cg,ng,ug())},Sg),dg=(Eg.Zt=function(t,e){return new Eg(ny.u,e,ug(),ug(),ug())},Eg),vg=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},yg=function(t,e){this.targetId=t,this.oe=e},gg=function(t,e,n,r){void 0===n&&(n=ny.u),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},mg=(Object.defineProperty(_g.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(_g.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(_g.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(_g.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),_g.prototype.de=function(t){0<t.o()&&(this.le=!0,this.ce=t)},_g.prototype.we=function(){var t=ug(),e=ug(),n=ug();return this.he.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yv()}})),new dg(this.ce,this.ue,t,e,n)},_g.prototype.Ee=function(){this.le=!1,this.he=Ag()},_g.prototype.Te=function(t,e){this.le=!0,this.he=this.he.ot(t,e)},_g.prototype.Ie=function(t){this.le=!0,this.he=this.he.remove(t)},_g.prototype.me=function(){this.ae+=1},_g.prototype.Ae=function(){--this.ae},_g.prototype.Re=function(){this.le=!0,this.ue=!0},_g),bg=(wg.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof wb?this.ve(r,t.re):t.re instanceof _b&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.Se(a,t.key,t.re)}},wg.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:Yv()}}))},wg.prototype.Ce=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},wg.prototype.ke=function(t){var e=t.targetId,n=t.oe.count;(t=this.Oe(e))&&(Vy(t=t.target)?0===n?(t=new Ty(t.path),this.Se(e,t,new _b(t,_y.min()))):$v(1===n):this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e)))},wg.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var o=e.Oe(i);o&&(r.te&&Vy(o.target)&&(o=new Ty(o.target.path),null!==e.Ve.get(o)||e.Le(i,o)||e.Se(i,o,new _b(o,t))),r.fe&&(n.set(i,r.we()),r.Ee()))}));var r=ug();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){return!(t=e.Oe(t))||2===t.et||(i=!1)})),i&&(r=r.add(t))}));var i=new pg(t,n,this.pe,this.Ve,r);return this.Ve=ng,this.ye=kg(),this.pe=new tg(Zv),i},wg.prototype.ve=function(t,e){var n;this.xe(t)&&(n=this.Le(t,e.key)?2:0,this.Ne(t).Te(e.key,n),this.Ve=this.Ve.ot(e.key,e),this.ye=this.ye.ot(e.key,this.Be(e.key).add(t)))},wg.prototype.Se=function(t,e,n){var r;this.xe(t)&&(r=this.Ne(t),this.Le(t,e)?r.Te(e,1):r.Ie(e),this.ye=this.ye.ot(e,this.Be(e).delete(t)),n&&(this.Ve=this.Ve.ot(e,n)))},wg.prototype.removeTarget=function(t){this.ge.delete(t)},wg.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},wg.prototype.me=function(t){this.Ne(t).me()},wg.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new mg,this.ge.set(t,e)),e},wg.prototype.Be=function(t){var e=this.ye.get(t);return e||(e=new tg(Zv),this.ye=this.ye.ot(t,e)),e},wg.prototype.xe=function(t){var e=null!==this.Oe(t);return e||Hv("WatchChangeAggregator","Detected inactive target",t),e},wg.prototype.Oe=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},wg.prototype.Fe=function(t){var e=this;this.ge.set(t,new mg),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},wg.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},wg);function wg(t){this.Pe=t,this.ge=new Map,this.Ve=ng,this.ye=kg(),this.pe=new tg(Zv)}function _g(){this.ae=0,this.he=Ag(),this.ce=ny.u,this.ue=!1,this.le=!0}function Eg(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}function Sg(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Jt=r,this.Yt=i}function Ig(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}function Tg(){this.qt=new Gy(Ty.D)}function Cg(t){this.D=t?function(e,n){return t(e,n)||Ty.D(e.key,n.key)}:function(t,e){return Ty.D(t.key,e.key)},this.$t=og,this.Lt=new Gy(this.D)}function kg(){return new Gy(Ty.D)}function Ag(){return new Gy(Ty.D)}function Ng(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Og(t){return t=jg(t.mapValue.fields.__local_write_time__.timestampValue),new wy(t.seconds,t.nanos)}var Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:10:Yv()}function Rg(t,e){var n,r=xg(t);if(r!==xg(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Og(t).isEqual(Og(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jg(t.timestampValue);return e=jg(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Vg(t.bytesValue).isEqual(Vg(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,Ug((n=t).geoPointValue.latitude)===Ug(r.geoPointValue.latitude)&&Ug(n.geoPointValue.longitude)===Ug(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?Ug(t.integerValue)===Ug(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=Ug(t.doubleValue))===(e=Ug(e.doubleValue))?Dy(t)===Dy(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return ty(t.arrayValue.values||[],e.arrayValue.values||[],Rg);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(dy(r)!==dy(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Rg(r[n],i[n])))return!1;return!0}();default:return Yv()}}function Dg(t,e){return void 0!==(t.values||[]).find((function(t){return Rg(t,e)}))}function Lg(t,e){var n,r,i=xg(t),o=xg(e);if(i!==o)return Zv(i,o);switch(i){case 0:return 0;case 1:return Zv(t.booleanValue,e.booleanValue);case 2:return n=e,(r=Ug(t.integerValue||t.doubleValue))<(n=Ug(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return Mg(t.timestampValue,e.timestampValue);case 4:return Mg(Og(t),Og(e));case 5:return Zv(t.stringValue,e.stringValue);case 6:return function(t,e){return t=Vg(t),e=Vg(e),t.h(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zv(n[i],r[i]);if(0!==o)return o}return Zv(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return i=t.geoPointValue,r=e.geoPointValue,0!==(n=Zv(Ug(i.latitude),Ug(r.latitude)))?n:Zv(Ug(i.longitude),Ug(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Lg(n[i],r[i]);if(o)return o}return Zv(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Zv(r[a],o[a]);if(0!==s)return s;if(0!==(s=Lg(n[r[a]],i[o[a]])))return s}return Zv(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Yv()}}function Mg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zv(t,e);var n=jg(t);return t=jg(e),0!==(e=Zv(n.seconds,t.seconds))?e:Zv(n.nanos,t.nanos)}function Fg(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=jg(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ty.J(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Yv();var n}(t)}function jg(t){if($v(!!t),"string"!=typeof t)return{seconds:Ug(t.seconds),nanos:Ug(t.nanos)};var e=0,n=Pg.exec(t);return $v(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function Ug(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vg(t){return"string"==typeof t?ny.fromBase64String(t):ny.fromUint8Array(t)}function qg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Bg(t){return t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function Wg(t){return t&&"nullValue"in t}function Hg(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kg(t){return t&&"mapValue"in t}var Gg={asc:"ASCENDING",desc:"DESCENDING"},Qg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yg=function(t,e){this._=t,this.Ke=e};function $g(t){return{integerValue:""+t}}function Xg(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dy(e)?"-0":e}}function Jg(t,e){return Ly(e)?$g(e):Xg(t,e)}function Zg(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function tm(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function em(t){return $v(!!t),_y.V((t=jg(t),new wy(t.seconds,t.nanos)))}function nm(t,e){return new Ey(["projects",t.projectId,"databases",t.database]).child("documents").child(e).B()}function rm(t){return $v(_m(t=Ey.q(t))),t}function im(t,e){return nm(t._,e.path)}function om(t,e){return $v((e=rm(e)).get(1)===t._.projectId),$v(!e.get(3)&&!t._.database||e.get(3)===t._.database),new Ty(cm(e))}function am(t,e){return nm(t._,e)}function sm(t){return 4===(t=rm(t)).length?Ey.U():cm(t)}function um(t){return new Ey(["projects",t._.projectId,"databases",t._.database]).B()}function cm(t){return $v(4<t.length&&"documents"===t.get(4)),t.N(5)}function lm(t,e,n){return{name:im(t,e),fields:n.proto.mapValue.fields}}function hm(t,e){var n,r,i;if(e instanceof Jm)n={update:lm(t,e.key,e.value)};else if(e instanceof cb)n={delete:im(t,e.key)};else if(e instanceof Zm)n={update:lm(t,e.key,e.data),updateMask:(i=e.Qe,r=[],i.fields.forEach((function(t){return r.push(t.B())})),{fieldPaths:r})};else if(e instanceof ib)n={transform:{document:im(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof Tm)return{fieldPath:t.field.B(),setToServerValue:"REQUEST_TIME"};if(e instanceof Cm)return{fieldPath:t.field.B(),appendMissingElements:{values:e.elements}};if(e instanceof Pm)return{fieldPath:t.field.B(),removeAllFromArray:{values:e.elements}};if(e instanceof Lm)return{fieldPath:t.field.B(),increment:e.We};throw Yv()}))}};else{if(!(e instanceof lb))return Yv();n={verify:im(t,e.key)}}return e.Ge.je||(n.currentDocument=void 0!==(i=e.Ge).updateTime?{updateTime:(e=t,t=i.updateTime,Zg(e,t.v()))}:void 0!==i.exists?{exists:i.exists}:Yv()),n}function fm(t,e){var n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?zm.updateTime(em(o.updateTime)):void 0!==o.exists?zm.exists(o.exists):zm.ze():zm.ze();if(e.update){e.update.name;var r=om(t,e.update.name),i=new hb({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=(o=e.updateMask.fieldPaths||[],new Um(o.map((function(t){return Iy.G(t)}))));return new Zm(r,i,o,n)}return new Jm(r,i,n)}if(e.delete){var a=om(t,e.delete);return new cb(a,n)}return e.transform?(i=om(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?($v("REQUEST_TIME"===e.setToServerValue),r=new Tm):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Cm(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Pm(n)):"increment"in e?r=new Lm(t,e.increment):Yv(),e=Iy.G(e.fieldPath),new Vm(e,r)}(t,e)})),$v(!0===n.exists),new ib(i,a)):e.verify?(e=om(t,e.verify),new lb(e,n)):Yv()}function pm(t,e){return{documents:[am(t,e.path)]}}function dm(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=am(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=am(t,r.F()),n.structuredQuery.from=[{collectionId:r.O()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map((function(t){if("=="===t.op){if(Hg(t.value))return{unaryFilter:{field:mm(t.field),op:"IS_NAN"}};if(Wg(t.value))return{unaryFilter:{field:mm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Hg(t.value))return{unaryFilter:{field:mm(t.field),op:"IS_NOT_NAN"}};if(Wg(t.value))return{unaryFilter:{field:mm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mm(t.field),op:(e=t.op,Qg[e]),value:t.value}};var e}))).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map((function(t){return{field:mm((t=t).field),direction:(t=t.dir,Gg[t])}}))}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.Ke||Ry(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=ym(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ym(e.endAt)),n}function vm(t){var e=sm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&($v(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[wm(e)]:void 0!==e.fieldFilter?[(n=e,Hb.create(bm(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Yv()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Yv():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new bw(bm((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=Ry(s="object"==typeof(s=n.limit)?s.value:s)?null:s);var a=null;n.startAt&&(a=gm(n.startAt));var s=null;return n.endAt&&(s=gm(n.endAt)),Lb(kb(e,i,t,o,r,"F",a,s))}function ym(t){return{before:t.before,values:t.position}}function gm(t){var e=!!t.before;return t=t.values||[],new hw(t,e)}function mm(t){return{fieldPath:t.B()}}function bm(t){return Iy.G(t.fieldPath)}function wm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bm(t.unaryFilter.field);return Hb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bm(t.unaryFilter.field);return Hb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=bm(t.unaryFilter.field),Hb.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=bm(t.unaryFilter.field),Hb.create(t,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Yv()}}function _m(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Em(t,e){return t instanceof Lm?Bg(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Sm,Im,Tm=(bo(Am,Im=Dr=function(){this.He=void 0}),Am),Cm=(bo(km,Sm=Dr),km);function km(t){var e=this;return(e=Sm.call(this)||this).elements=t,e}function Am(){return null!==Im&&Im.apply(this,arguments)||this}function Nm(t,e){for(var n=jm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return Rg(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Om,Pm=(bo(xm,Om=Dr),xm);function xm(t){var e=this;return(e=Om.call(this)||this).elements=t,e}function Rm(t,e){for(var n=jm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!Rg(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var Dm,Lm=(bo(Mm,Dm=Dr),Mm);function Mm(t,e){var n=this;return(n=Dm.call(this)||this).serializer=t,n.We=e,n}function Fm(t){return Ug(t.integerValue||t.doubleValue)}function jm(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Um=(qm.prototype.Je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},qm.prototype.isEqual=function(t){return ty(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},qm),Vm=function(t,e){this.field=t,this.transform=e};function qm(t){(this.fields=t).sort(Iy.D)}function Bm(t,e){this.version=t,this.transformResults=e}var zm=(Wm.ze=function(){return new Wm},Wm.exists=function(t){return new Wm(void 0,t)},Wm.updateTime=function(t){return new Wm(t)},Object.defineProperty(Wm.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Wm.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Wm);function Wm(t,e){this.updateTime=t,this.exists=e}function Hm(t,e){return void 0!==t.updateTime?e instanceof wb&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof wb}function Km(t,e,n){return t instanceof Jm?new wb(t.key,n.version,t.value,{hasCommittedMutations:!0}):t instanceof Zm?function(t,e,n){return Hm(t.Ge,e)?(e=nb(t,e),new wb(t.key,n.version,e,{hasCommittedMutations:!0})):new Eb(t.key,n.version)}(t,e,n):t instanceof ib?function(t,e,n){if($v(null!=n.transformResults),!Hm(t.Ge,e))return new Eb(t.key,n.version);var r=e;return e=function(t,e,n){var r=[];$v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof wb&&(s=e.field(o.field)),r.push((o=a,a=s,s=n[i],o instanceof Cm?Nm(o,a):o instanceof Pm?Rm(o,a):s))}return r}(t.fieldTransforms,e,n.transformResults),n=n.version,e=ab(t,r.data(),e),new wb(t.key,n,e,{hasCommittedMutations:!0})}(t,e,n):new _b(t.key,n.version,{hasCommittedMutations:!0})}function Gm(t,e,n,r){return t instanceof Jm?function(t,e){return Hm(t.Ge,e)?(e=Ym(e),new wb(t.key,e,t.value,{Ye:!0})):e}(t,e):t instanceof Zm?function(t,e){if(!Hm(t.Ge,e))return e;var n=Ym(e);return e=nb(t,e),new wb(t.key,n,e,{Ye:!0})}(t,e):t instanceof ib?function(t,e,n,r){if(!Hm(t.Ge,e))return e;var i=e;return r=function(t,e,n,r){for(var i,o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u.transform,l=null;n instanceof wb&&(l=n.field(u.field)),null===l&&r instanceof wb&&(l=r.field(u.field)),o.push((i=l,u=e,l=void 0,(c=c)instanceof Tm?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(l.fields.__previous_value__=i),{mapValue:l}):c instanceof Cm?Nm(c,i):c instanceof Pm?Rm(c,i):(i=Fm(c=Em(l=c,i))+Fm(l.We),Bg(c)&&Bg(l.We)?$g(i):Xg(l.serializer,i))))}return o}(t.fieldTransforms,n,e,r),r=ab(t,i.data(),r),new wb(t.key,i.version,r,{Ye:!0})}(t,e,r,n):(e=e,Hm((t=t).Ge,e)?new _b(t.key,_y.min()):e)}function Qm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||ty(t.fieldTransforms,t.fieldTransforms,(function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Cm&&e instanceof Cm||t instanceof Pm&&e instanceof Pm?ty(t.elements,e.elements,Rg):t instanceof Lm&&e instanceof Lm?Rg(t.We,e.We):t instanceof Tm&&e instanceof Tm)})))}function Ym(t){return t instanceof wb?t.version:_y.min()}var $m,Xm,Jm=(bo(eb,Xm=F=function(){}),eb),Zm=(bo(tb,$m=F),tb);function tb(t,e,n,r){var i=this;return(i=$m.call(this)||this).key=t,i.data=e,i.Qe=n,i.Ge=r,i.type=1,i}function eb(t,e,n){var r=this;return(r=Xm.call(this)||this).key=t,r.value=e,r.Ge=n,r.type=0,r}function nb(t,e){return n=t,e=e instanceof wb?e.data():hb.empty(),r=new fb(e),n.Qe.fields.forEach((function(t){var e;t.P()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))})),r.Xe();var n,r}var rb,ib=(bo(ob,rb=F),ob);function ob(t,e){var n=this;return(n=rb.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ge=zm.exists(!0),n}function ab(t,e,n){for(var r=new fb(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var sb,ub,cb=(bo(yb,ub=F),yb),lb=(bo(vb,sb=F),vb),hb=(db.empty=function(){return new db({mapValue:{}})},db.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Kg(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},db.prototype.isEqual=function(t){return Rg(this.proto,t.proto)},db),fb=(pb.prototype.set=function(t,e){return this.en(t,e),this},pb.prototype.delete=function(t){return this.en(t,null),this},pb.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===xg(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.O(),e)},pb.prototype.Xe=function(){var t=this.nn(Iy.U(),this.tn);return null!=t?new hb(t):this.Ze},pb.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Kg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var a;e instanceof Map?null!=(a=n.nn(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},pb);function pb(t){void 0===t&&(t=hb.empty()),this.Ze=t,this.tn=new Map}function db(t){this.proto=t}function vb(t,e){var n=this;return(n=sb.call(this)||this).key=t,n.Ge=e,n.type=4,n}function yb(t,e){var n=this;return(n=ub.call(this)||this).key=t,n.Ge=e,n.type=3,n}var gb,mb,bb,wb=(bo(Cb,bb=K=function(t,e){this.key=t,this.version=e}),Cb.prototype.field=function(t){return this.sn.field(t)},Cb.prototype.data=function(){return this.sn},Cb.prototype.rn=function(){return this.sn.proto},Cb.prototype.isEqual=function(t){return t instanceof Cb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},Cb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Cb.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Cb),_b=(bo(Tb,mb=K),Tb.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Tb.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),Tb.prototype.isEqual=function(t){return t instanceof Tb&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Tb),Eb=(bo(Ib,gb=K),Ib.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ib.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Ib.prototype.isEqual=function(t){return t instanceof Ib&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Ib),Sb=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.hn=null,this.cn=null,this.startAt,this.endAt};function Ib(){return null!==gb&&gb.apply(this,arguments)||this}function Tb(t,e,n){var r=this;return(r=mb.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Cb(t,e,n,r){var i=this;return(i=bb.call(this,t,e)||this).sn=n,i.Ye=!!r.Ye,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function kb(t,e,n,r,i,o,a,s){return new Sb(t,e,n,r,i,o,a,s)}function Ab(t){return new Sb(t)}function Nb(t){return!Ry(t.limit)&&"F"===t.an}function Ob(t){return!Ry(t.limit)&&"L"===t.an}function Pb(t){return 0<t.on.length?t.on[0].field:null}function xb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function Rb(t){return null!==t.collectionGroup}function Db(t){var e=t;if(null===e.hn){e.hn=[];var n=xb(e);if(t=Pb(e),null!==n&&null===t)n.W()||e.hn.push(new bw(n)),e.hn.push(new bw(Iy.j(),"asc"));else{for(var r=!1,i=0,o=e.on;i<o.length;i++){var a=o[i];e.hn.push(a),a.field.W()&&(r=!0)}r||(n=0<e.on.length?e.on[e.on.length-1].dir:"asc",e.hn.push(new bw(Iy.j(),n)))}}return e.hn}function Lb(t){var e=t;if(!e.cn)if("F"===e.an)e.cn=Fy(e.path,e.collectionGroup,Db(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Db(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new bw(o.field,a))}var s=e.endAt?new hw(e.endAt.position,!e.endAt.before):null;t=e.startAt?new hw(e.startAt.position,!e.startAt.before):null,e.cn=Fy(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.cn}function Mb(t,e,n){return new Sb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fb(t,e){return new Sb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function jb(t,e){return new Sb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Ub(t,e){return Uy(Lb(t),Lb(e))&&t.an===e.an}function Vb(t){return jy(Lb(t))+"|lt:"+t.an}function qb(t){return"Query(target="+(n=(e=Lb(t)).path.B(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(t=t).field.B()+" "+t.op+" "+Fg(t.value)})).join(", ")+"]"),Ry(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(t=t).field.B()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+yw(e.startAt)),e.endAt&&(n+=", endAt: "+yw(e.endAt)),"Target("+n+"); limitType=")+t.an+")";var e,n}function Bb(t,e){return n=t,r=e.key.path,(null!==n.collectionGroup?e.key.Y(n.collectionGroup)&&n.path.M(r):Ty.X(n.path)?n.path.isEqual(r):n.path.$(r))&&function(e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||gw(e.startAt,Db(e),r))&&(!e.endAt||!gw(e.endAt,Db(e),r)));var n,r}function zb(t){return function(e,n){for(var r=!1,i=0,o=Db(t);i<o.length;i++){var a=o[i],s=function(t,e,n){switch(n=t.field.W()?Ty.D(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?Lg(r,t):Yv()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return Yv()}}(a,e,n);if(0!==s)return s;r=r||a.field.W()}return 0}}var Wb,Hb=(bo(Kb,Wb=function(){}),Kb.create=function(t,e,n){return t.W()?"in"===e||"not-in"===e?this.ln(t,e,n):new $b(t,e,n):"array-contains"===e?new sw(t,n):"in"===e?new uw(t,n):"not-in"===e?new cw(t,n):"array-contains-any"===e?new lw(t,n):new Kb(t,e,n)},Kb.ln=function(t,e,n){return new("in"===e?Xb:Jb)(t,n)},Kb.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this._n(Lg(t,this.value)):null!==t&&xg(this.value)===xg(t)&&this._n(Lg(t,this.value))},Kb.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Yv()}},Kb.prototype.un=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Kb);function Kb(t,e,n){var r=this;return(r=Wb.call(this)||this).field=t,r.op=e,r.value=n,r}var Gb,Qb,Yb,$b=(bo(ew,Yb=Hb),ew.prototype.matches=function(t){return t=Ty.D(t.key,this.key),this._n(t)},ew),Xb=(bo(tw,Qb=Hb),tw.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},tw),Jb=(bo(Zb,Gb=Hb),Zb.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},Zb);function Zb(t,e){var n=this;return(n=Gb.call(this,t,"not-in",e)||this).keys=nw(0,e),n}function tw(t,e){var n=this;return(n=Qb.call(this,t,"in",e)||this).keys=nw(0,e),n}function ew(t,e,n){var r=this;return(r=Yb.call(this,t,e,n)||this).key=Ty.J(n.referenceValue),r}function nw(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return Ty.J(t.referenceValue)}))}var rw,iw,ow,aw,sw=(bo(vw,aw=Hb),vw.prototype.matches=function(t){return zg(t=t.field(this.field))&&Dg(t.arrayValue,this.value)},vw),uw=(bo(dw,ow=Hb),dw.prototype.matches=function(t){return null!==(t=t.field(this.field))&&Dg(this.value.arrayValue,t)},dw),cw=(bo(pw,iw=Hb),pw.prototype.matches=function(t){return!Dg(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!Dg(this.value.arrayValue,t)},pw),lw=(bo(fw,rw=Hb),fw.prototype.matches=function(t){var e=this;return!(!zg(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return Dg(e.value.arrayValue,t)}))},fw),hw=function(t,e){this.position=t,this.before=e};function fw(t,e){return rw.call(this,t,"array-contains-any",e)||this}function pw(t,e){return iw.call(this,t,"not-in",e)||this}function dw(t,e){return ow.call(this,t,"in",e)||this}function vw(t,e){return aw.call(this,t,"array-contains",e)||this}function yw(t){return(t.before?"b":"a")+":"+t.position.map(Fg).join(",")}function gw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.W()?Ty.D(Ty.J(a.referenceValue),n.key):Lg(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rg(t.position[n],e.position[n]))return!1;return!0}var bw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ww(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}var _w,Ew=(Pw.prototype.reset=function(){this.In=0},Pw.prototype.Rn=function(){this.In=this.Tn},Pw.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);0<i&&Hv("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.Vn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},Pw.prototype.yn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},Pw.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},Pw.prototype.gn=function(){return(Math.random()-.5)*this.In},Pw),Sw=(Ow.prototype.catch=function(t){return this.next(void 0,t)},Ow.prototype.next=function(t,e){var n=this;return this.Dn&&Yv(),this.Dn=!0,this.Sn?this.error?this.Cn(e,this.error):this.Nn(t,this.result):new Ow((function(r,i){n.bn=function(e){n.Nn(t,e).next(r,i)},n.vn=function(t){n.Cn(e,t).next(r,i)}}))},Ow.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Ow.prototype.Fn=function(t){try{var e=t();return e instanceof Ow?e:Ow.resolve(e)}catch(t){return Ow.reject(t)}},Ow.prototype.Nn=function(t,e){return t?this.Fn((function(){return t(e)})):Ow.resolve(e)},Ow.prototype.Cn=function(t,e){return t?this.Fn((function(){return t(e)})):Ow.reject(e)},Ow.resolve=function(t){return new Ow((function(e,n){e(t)}))},Ow.reject=function(t){return new Ow((function(e,n){n(t)}))},Ow.kn=function(t){return new Ow((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Ow.On=function(t){for(var e=Ow.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?Ow.resolve(e):t()}))}(r[n]);return e},Ow.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.kn(r)},Ow),Iw=(Nw.delete=function(t){return Hv("SimpleDb","Removing database:",t),Fw(window.indexedDB.deleteDatabase(t)).xn()},Nw.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(Nw.Bn())return!0;var t=Fo(),e=0<(n=Nw.$n(t))&&n<10,n=0<(n=Nw.qn(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},Nw.Bn=function(){var t;return"undefined"!=typeof n&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/compendium",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Un)},Nw.Kn=function(t,e){return t.store(e)},Nw.$n=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},Nw.qn=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},Nw.prototype.Qn=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Hv("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new Cw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new qv(Vv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Cw(t,e))},i.onupgradeneeded=function(t){Hv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){Hv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},Nw.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},Nw.prototype.runTransaction=function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u;return Eo(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Qn(t)];case 2:return a.db=c.sent(),e=Rw.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Sw.reject(t)})).xn(),u={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Hv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Nw.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Nw),Tw=(Object.defineProperty(Aw.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(Aw.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(Aw.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),Aw.prototype.done=function(){this.Hn=!0},Aw.prototype.Xn=function(t){this.Jn=t},Aw.prototype.delete=function(){return Fw(this.zn.delete())},Aw),Cw=(bo(kw,_w=qv),kw);function kw(t,e){var n=this;return(n=_w.call(this,Vv.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function Aw(t){this.zn=t,this.Hn=!1,this.Jn=null}function Nw(t,e,n){this.name=t,this.version=e,this.Mn=n,12.2===Nw.$n(Fo())&&Kv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Ow(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}function Pw(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}function xw(t){return"IndexedDbTransactionError"===t.name}var Rw=(Mw.open=function(t,e,n,r){try{return new Mw(e,t.transaction(r,n))}catch(t){throw new Cw(e,t)}},Object.defineProperty(Mw.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),Mw.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(Hv("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Mw.prototype.store=function(t){return t=this.transaction.objectStore(t),new Dw(t)},Mw),Dw=(Lw.prototype.put=function(t,e){return Fw(t=void 0!==e?(Hv("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Hv("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Lw.prototype.add=function(t){return Hv("SimpleDb","ADD",this.store.name,t,t),Fw(this.store.add(t))},Lw.prototype.get=function(t){var e=this;return Fw(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Hv("SimpleDb","GET",e.store.name,t,n),n}))},Lw.prototype.delete=function(t){return Hv("SimpleDb","DELETE",this.store.name,t),Fw(this.store.delete(t))},Lw.prototype.count=function(){return Hv("SimpleDb","COUNT",this.store.name),Fw(this.store.count())},Lw.prototype.ts=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.es(e,(function(t,e){n.push(e)})).next((function(){return n}))},Lw.prototype.ns=function(t,e){return Hv("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).ss=!1,e=this.cursor(e),this.es(e,(function(t,e,n){return n.delete()}))},Lw.prototype.rs=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.es(n,e)},Lw.prototype.os=function(t){var e=this.cursor({});return new Sw((function(n,r){e.onerror=function(t){t=Uw(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Lw.prototype.es=function(t,e){var n=[];return new Sw((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new Tw(o),(t=e(o.primaryKey,o.value,i))instanceof Sw&&(t=t.catch((function(t){return i.done(),Sw.reject(t)})),n.push(t)),i.Sn?r():null===i.Yn?o.continue():o.continue(i.Yn)):r()}})).next((function(){return Sw.kn(n)}))},Lw.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Lw.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Lw);function Lw(t){this.store=t}function Mw(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new ww,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Cw(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){e=Uw(e.target.error),n.Zn.reject(new Cw(t,e))}}function Fw(t){return new Sw((function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=Uw(t.target.error),n(t)}}))}var jw=!1;function Uw(t){var e=Iw.$n(Fo());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new qv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return jw||(jw=!0,setTimeout((function(){throw n}),0)),n}return t}function Vw(){return"undefined"!=typeof window?window:null}function qw(){return"undefined"!=typeof document?document:null}var Bw=(Hw._s=function(t,e,n,r,i){return(i=new Hw(t,e,Date.now()+n,r,i)).start(n),i},Hw.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},Hw.prototype.pn=function(){return this.ds()},Hw.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new qv(Vv.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Hw.prototype.ds=function(){var t=this;this.hs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},Hw.prototype.clearTimeout=function(){null!==this.fs&&(this.us(this),clearTimeout(this.fs),this.fs=null)},Hw),zw=(Object.defineProperty(Ww.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),Ww.prototype.ws=function(t){this.enqueue(t)},Ww.prototype.bs=function(t){this.vs(),this.Ss(t)},Ww.prototype.Ds=function(){var t;this.Is||(this.Is=!0,(t=qw())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys))},Ww.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},Ww.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},Ww.prototype.Ns=function(){return _o(this,void 0,void 0,(function(){var t,e=this;return Eo(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!xw(t=n.sent()))throw t;return Hv("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Ts.length&&this.Vs.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},Ww.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,Kv("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n},Ww.prototype.Vn=function(t,e,n){var r=this;return this.vs(),-1<this.gs.indexOf(t)&&(e=0),n=Bw._s(this,t,e,n,(function(t){return r.xs(t)})),this.As.push(n),n},Ww.prototype.vs=function(){this.Rs&&Yv()},Ww.prototype.Fs=function(){},Ww.prototype.ks=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},Ww.prototype.Os=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},Ww.prototype.Ms=function(t){var e=this;return this.ks().then((function(){e.As.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.ks()}))},Ww.prototype.$s=function(t){this.gs.push(t)},Ww.prototype.xs=function(t){t=this.As.indexOf(t),this.As.splice(t,1)},Ww);function Ww(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new Ew(this,"async_queue_retry"),this.ys=function(){var e=qw();e&&Hv("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Vs.yn()};var e=qw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}function Hw(t,e,n,r,i){this.hs=t,this.dn=e,this.cs=n,this.op=r,this.us=i,this.ls=new ww,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}function Kw(t,e){if(Kv("AsyncQueue",e+": "+t),xw(t))return new qv(Vv.UNAVAILABLE,e+": "+t);throw t}function Gw(){this.Ls=void 0,this.listeners=[]}function Qw(){this.Bs=new by(Vb,Ub),this.onlineState="Unknown",this.qs=new Set}function Yw(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.Bs.get(r))||(i=!0,o=new Gw),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.Us(r)];case 2:return a.Ls=s.sent(),[3,4];case 3:return a=Kw(a=s.sent(),"Initialization of query '"+qb(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Ks(n.onlineState),o.Ls&&e.Qs(o.Ls)&&Xw(n),[2]}}))}))}function $w(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){return n=t,r=e.query,i=!1,(o=n.Bs.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.Ws(r))]:[2]}))}))}function Xw(t){t.qs.forEach((function(t){t.next()}))}var Jw=(e_.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new fg(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Js(t,this.onlineState)&&(this.Ys(t),o=!0),this.zs=t,o},e_.prototype.onError=function(t){this.js.error(t)},e_.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Js(this.zs,t)&&(this.Ys(this.zs),e=!0),e},e_.prototype.Js=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.P()&&"Offline"!==e)},e_.prototype.Hs=function(t){if(0<t.docChanges.length)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},e_.prototype.Ys=function(t){t=fg.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},e_),Zw=(t_.prototype.Zs=function(){return null!=this.uid},t_.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t_.prototype.isEqual=function(t){return t.uid===this.uid},t_);function t_(t){this.uid=t}function e_(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}Zw.UNAUTHENTICATED=new Zw(null),Zw.ei=new Zw("google-credentials-uid"),Zw.ni=new Zw("first-party-uid");var n_=(r_.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},r_.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},r_);function r_(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}function i_(t,e){return"firestore_clients_"+t+"_"+e}function o_(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.Zs()&&(n+="_"+e.uid),n}function a_(t,e){return"firestore_targets_"+t+"_"+e}n_.ai=-1;var s_=(P_.hi=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new qv(r.error.code,r.error.message)),i?new P_(t,e,r.state,o):(Kv("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},P_.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},P_),u_=(O_.hi=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new qv(n.error.code,n.error.message)),r?new O_(t,n.state,i):(Kv("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},O_.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},O_),c_=(N_.hi=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=cg,o=0;r&&o<n.activeTargetIds.length;++o)r=Ly(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new N_(t,i):(Kv("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},N_),l_=(A_.hi=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new A_(e.clientId,e.onlineState):(Kv("SharedClientState","Failed to parse online state: "+t),null)},A_),h_=(k_.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},k_.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},k_.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},k_),f_=(C_.Ln=function(t){return!(!t||!t.localStorage)},C_.prototype.start=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Eo(this,(function(h){switch(h.label){case 0:return[4,this.fi.pi()];case 1:for(o=h.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this._i&&(r=this.getItem(i_(this.persistenceKey,n)))&&(i=c_.hi(n,r))&&(this.Ti=this.Ti.ot(i.clientId,i));for(this.bi(),(o=this.storage.getItem(this.yi))&&(a=this.vi(o))&&this.Si(a),s=0,u=this.mi;s<u.length;s++)c=u[s],this.Ei(c);return this.mi=[],this.window.addEventListener("unload",(function(){return l.Di()})),this.Ii=!0,[2]}}))}))},C_.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},C_.prototype.Ci=function(){return this.Ni(this.Ti)},C_.prototype.xi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},C_.prototype.Fi=function(t){this.ki(t,"pending")},C_.prototype.Oi=function(t,e,n){this.ki(t,e,n),this.Mi(t)},C_.prototype.$i=function(t){var e,n="not-current";return this.xi(t)&&(!(e=this.storage.getItem(a_(this.persistenceKey,t)))||(e=u_.hi(t,e))&&(n=e.state)),this.Li.ui(t),this.bi(),n},C_.prototype.Bi=function(t){this.Li.li(t),this.bi()},C_.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},C_.prototype.Ui=function(t){this.removeItem(a_(this.persistenceKey,t))},C_.prototype.Ki=function(t,e,n){this.Qi(t,e,n)},C_.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},C_.prototype.ji=function(t){this.Gi(t)},C_.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},C_.prototype.getItem=function(t){var e=this.storage.getItem(t);return Hv("SharedClientState","READ",t,e),e},C_.prototype.setItem=function(t,e){Hv("SharedClientState","SET",t,e),this.storage.setItem(t,e)},C_.prototype.removeItem=function(t){Hv("SharedClientState","REMOVE",t),this.storage.removeItem(t)},C_.prototype.Ei=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Hv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void Kv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return _o(e,void 0,void 0,(function(){var t,e,r,i,o;return Eo(this,(function(a){if(this.Ii){if(null!==n.key)if(this.Pi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(t=this.Ji(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(e=this.Yi(n.key,n.newValue)))return[2,this.Xi(e)]}else if(this.Vi.test(n.key)){if(null!==n.newValue&&(r=this.Zi(n.key,n.newValue)))return[2,this.tr(r)]}else if(n.key===this.yi){if(null!==n.newValue&&(i=this.vi(n.newValue)))return[2,this.Si(i)]}else n.key===this.Ri&&(o=function(t){var e=n_.ai;if(null!=t)try{var n=JSON.parse(t);$v("number"==typeof n),e=n}catch(t){Kv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==n_.ai&&this.si(o)}else this.mi.push(n);return[2]}))}))}))}},Object.defineProperty(C_.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),C_.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},C_.prototype.ki=function(t,e,n){n=new s_(this.currentUser,t,e,n),t=o_(this.persistenceKey,this.currentUser,t),this.setItem(t,n.ci())},C_.prototype.Mi=function(t){t=o_(this.persistenceKey,this.currentUser,t),this.removeItem(t)},C_.prototype.Gi=function(t){t={clientId:this._i,onlineState:t},this.storage.setItem(this.yi,JSON.stringify(t))},C_.prototype.Qi=function(t,e,n){var r=a_(this.persistenceKey,t);n=new u_(t,e,n),this.setItem(r,n.ci())},C_.prototype.zi=function(t){return(t=this.Pi.exec(t))?t[1]:null},C_.prototype.Ji=function(t,e){return t=this.zi(t),c_.hi(t,e)},C_.prototype.Yi=function(t,e){var n=this.gi.exec(t);return t=Number(n[1]),n=void 0!==n[2]?n[2]:null,s_.hi(new Zw(n),t,e)},C_.prototype.Zi=function(t,e){return t=this.Vi.exec(t),t=Number(t[1]),u_.hi(t,e)},C_.prototype.vi=function(t){return l_.hi(t)},C_.prototype.Xi=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(Hv("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},C_.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},C_.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},C_.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},C_.prototype.Ni=function(t){var e=cg;return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},C_),p_=(T_.prototype.Fi=function(t){},T_.prototype.Oi=function(t,e,n){},T_.prototype.$i=function(t){return this.ir.ui(t),this.rr[t]||"not-current"},T_.prototype.Ki=function(t,e,n){this.rr[t]=e},T_.prototype.Bi=function(t){this.ir.li(t)},T_.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},T_.prototype.Ui=function(t){delete this.rr[t]},T_.prototype.Ci=function(){return this.ir.activeTargetIds},T_.prototype.xi=function(t){return this.ir.activeTargetIds.has(t)},T_.prototype.start=function(){return this.ir=new h_,Promise.resolve()},T_.prototype.Wi=function(t,e,n){},T_.prototype.ji=function(t){},T_.prototype.Di=function(){},T_.prototype.oi=function(t){},T_),d_=(I_.prototype.hr=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Km(o,e,r[i]))}return e},I_.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Gm(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Gm(u,e,o,this.ar))}return e},I_.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},I_.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ug())},I_.prototype.isEqual=function(t){return this.batchId===t.batchId&&ty(this.mutations,t.mutations,Qm)&&ty(this.baseMutations,t.baseMutations,Qm)},I_),v_=(S_.from=function(t,e,n){$v(t.mutations.length===n.length);for(var r=ag,i=t.mutations,o=0;o<i.length;o++)r=r.ot(i[o].key,n[o].version);return new S_(t,e,n,r)},S_),y_=(Object.defineProperty(E_.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),E_.prototype.Ir=function(t,e){this.mr(),this.readTime=e,this.wr.set(t.key,t)},E_.prototype.Ar=function(t,e){this.mr(),e&&(this.readTime=e),this.wr.set(t,null)},E_.prototype.Rr=function(t,e){this.mr();var n=this.wr.get(e);return void 0!==n?Sw.resolve(n):this.Pr(t,e)},E_.prototype.getEntries=function(t,e){return this.gr(t,e)},E_.prototype.apply=function(t){return this.mr(),this.Er=!0,this.Vr(t)},E_.prototype.mr=function(){},Dr=E_,"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),g_=(__.prototype.pr=function(t){this.yr.push(t)},__.prototype.br=function(){this.yr.forEach((function(t){return t()}))},F=__,w_.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},w_.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},w_.prototype.kr=function(t,e,n){var r=ng;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.ot(t,e)})),r},w_.prototype.Or=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},w_.prototype.Mr=function(t,e){var n=this;return this.Sr.$r(t,e).next((function(r){r=n.kr(t,e,r);var i=ng;return r.forEach((function(t,e){e=e||new _b(t,_y.min()),i=i.ot(t,e)})),i}))},w_.prototype.Lr=function(t,e,n){return r=e,Ty.X(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Br(t,e.path):Rb(e)?this.qr(t,e,n):this.Ur(t,e,n);var r},w_.prototype.Br=function(t,e){return this.Cr(t,new Ty(e)).next((function(t){var e=og;return t instanceof wb&&(e=e.ot(t.key,t)),e}))},w_.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=og;return this.Dr.Kr(t,i).next((function(a){return Sw.forEach(a,(function(a){var s=(s=e,a=a.child(i),new Sb(a,null,s.on.slice(),s.filters.slice(),s.limit,s.an,s.startAt,s.endAt));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},w_.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Qr(t,e)})).next((function(e){return i=e,o.Wr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Gm(u,l=r.get(c),l,o.ar);r=l instanceof wb?r.ot(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Bb(e,n)||(r=r.remove(t))})),r}))},w_.prototype.Wr=function(t,e,n){for(var r=ug(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Zm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof wb&&(c=c.ot(t,e))})),c}))},w_),m_=(b_.zr=function(t,e){for(var n=ug(),r=ug(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new b_(t,e.fromCache,n,r)},b_);function b_(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Gr=r}function w_(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}function __(){this.yr=[]}function E_(){this.wr=new by((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Er=!1}function S_(t,e,n,r){this.batch=t,this._r=e,this.cr=n,this.dr=r}function I_(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}function T_(){this.ir=new h_,this.rr={},this.di=null,this.si=null}function C_(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new Gy(Zv),this.Ii=!1,this.mi=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Ai=i_(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new h_),this.Pi=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.yi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}function k_(){this.activeTargetIds=cg}function A_(t,e){this.clientId=t,this.onlineState=e}function N_(t,e){this.clientId=t,this.activeTargetIds=e}function O_(t,e,n){this.targetId=t,this.state=e,this.error=n}function P_(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function x_(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=Zv(n,t))?Zv(r,e):t}var R_=(F_.prototype.Yr=function(){return++this.Jr},F_.prototype.Xr=function(t){var e=[t,this.Yr()];this.buffer.size<this.Hr?this.buffer=this.buffer.add(e):x_(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(F_.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),F_),D_={Zr:!1,eo:0,no:0,so:0},L_=(M_.ao=function(t){return new M_(t,M_.ho,M_.co)},M_);function M_(t,e,n){this.io=t,this.ro=e,this.oo=n}function F_(t){this.Hr=t,this.buffer=new tg(x_),this.Jr=0}L_.uo=-1,L_.lo=1048576,L_._o=41943040,L_.ho=10,L_.co=1e3,L_.fo=new L_(L_._o,L_.ho,L_.co),L_.do=new L_(L_.uo,0,0);var j_=(q_.prototype.start=function(t){this.wo.params.io!==L_.uo&&this.Io(t)},q_.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(q_.prototype,"Ii",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),q_.prototype.Io=function(t){var e=this,n=this.Eo?3e5:6e4;Hv("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.hs.Vn("lru_garbage_collection",n,(function(){return _o(e,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:this.To=null,this.Eo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mo(this.wo)];case 2:return n.sent(),[3,7];case 3:return xw(e=n.sent())?(Hv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Io(t)];case 8:return n.sent(),[2]}}))}))}))},q_),U_=(V_.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},V_.prototype.Vo=function(t,e){var n=this;if(0===e)return Sw.resolve(n_.ai);var r=new R_(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.yo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},V_.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},V_.prototype.bo=function(t,e){return this.Ao.bo(t,e)},V_.prototype.vo=function(t,e){var n=this;return this.params.io===L_.uo?(Hv("LruGarbageCollector","Garbage collection skipped; disabled"),Sw.resolve(D_)):this.So(t).next((function(r){return r<n.params.io?(Hv("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),D_):n.Do(t,e)}))},V_.prototype.So=function(t){return this.Ao.So(t)},V_.prototype.Do=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ro(t,this.params.ro).next((function(e){return r=e>c.params.oo?(Hv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),c.params.oo):e,o=Date.now(),c.Vo(t,r)})).next((function(r){return n=r,a=Date.now(),c.po(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.bo(t,n)})).next((function(t){return u=Date.now(),Wv()<=Na.DEBUG&&Hv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Sw.resolve({Zr:!0,eo:r,no:i,so:t})}))},V_);function V_(t,e){this.Ao=t,this.params=e}function q_(t,e){this.wo=t,this.hs=e,this.Eo=!1,this.To=null}function B_(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=z_(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return z_(e)}function z_(t){return t+"\x01\x01"}function W_(t){var e=t.length;if($v(2<=e),2===e)return $v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ey.U();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Yv(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Yv()}o=a+2}return new Ey(r)}var H_=function(t){this.Co=t};function K_(t,e){if(e.document)return n=t.Co,r=e.document,i=!!e.hasCommittedMutations,t=om(n,r.name),n=em(r.updateTime),r=new hb({mapValue:{fields:r.fields}}),new wb(t,n,r,{hasCommittedMutations:!!i});var n,r;if(e.noDocument){var i=Ty.Z(e.noDocument.path),o=X_(e.noDocument.readTime);return new _b(i,o,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(o=Ty.Z(e.unknownDocument.path),e=X_(e.unknownDocument.version),new Eb(o,e)):Yv()}function G_(t,e,n){var r=Q_(n);if(n=e.key.path.F().L(),e instanceof wb){var i={name:im(i=t.Co,(o=e).key),fields:o.rn().mapValue.fields,updateTime:Zg(i,o.version.v())},o=e.hasCommittedMutations;return new PE(null,null,i,o,r,n)}if(e instanceof _b){i=e.key.path.L(),o=$_(e.version);var a=e.hasCommittedMutations;return new PE(null,new NE(i,o),null,a,r,n)}return e instanceof Eb?(a=e.key.path.L(),e=$_(e.version),new PE(new OE(a,e),null,null,!0,r,n)):Yv()}function Q_(t){return[(t=t.v()).seconds,t.nanoseconds]}function Y_(t){return t=new wy(t[0],t[1]),_y.V(t)}function $_(t){return t=t.v(),new wE(t.seconds,t.nanoseconds)}function X_(t){return t=new wy(t.seconds,t.nanoseconds),_y.V(t)}function J_(t,e){var n=(e.baseMutations||[]).map((function(e){return fm(t.Co,e)})),r=e.mutations.map((function(e){return fm(t.Co,e)})),i=wy.fromMillis(e.localWriteTimeMs);return new d_(e.batchId,i,n,r)}function Z_(t){var e=X_(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?X_(t.lastLimboFreeSnapshotVersion):_y.min(),r=void 0!==t.query.documents?($v(1===(r=t.query).documents.length),Lb(Ab(sm(r.documents[0])))):vm(t.query);return new zy(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ny.fromBase64String(t.resumeToken))}function tE(t,e){var n=$_(e.nt),r=$_(e.lastLimboFreeSnapshotVersion),i=(Vy(e.target)?pm:dm)(t.Co,e.target);return t=e.resumeToken.toBase64(),new RE(e.targetId,jy(e.target),n,t,e.sequenceNumber,r,i)}var eE=(nE.Fo=function(t,e,n,r){return $v(""!==t.uid),new nE(t.Zs()?t.uid:"",e,n,r)},nE.prototype.ko=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oE(t).rs({index:CE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},nE.prototype.Oo=function(t,e,n,r){var i=this,o=aE(t),a=oE(t);return a.add({}).next((function(s){$v("number"==typeof s);for(var u,c,l,h,f,p=new d_(s,e,n,r),d=(u=i.serializer,c=i.userId,h=(l=p).baseMutations.map((function(t){return hm(u.Co,t)})),f=l.mutations.map((function(t){return hm(u.Co,t)})),new CE(c,l.batchId,l.ar.toMillis(),h,f)),v=[],y=new tg((function(t,e){return Zv(t.B(),e.B())})),g=0,m=r;g<m.length;g++){var b=m[g],w=kE.key(i.userId,b.key.path,s);y=y.add(b.key.path.F()),v.push(a.put(d)),v.push(o.put(w,kE.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Dr.Mo(t,e))})),t.pr((function(){i.xo[s]=p.keys()})),Sw.kn(v).next((function(){return p}))}))},nE.prototype.$o=function(t,e){var n=this;return oE(t).get(e).next((function(t){return t?($v(t.userId===n.userId),J_(n.serializer,t)):null}))},nE.prototype.Lo=function(t,e){var n=this;return this.xo[e]?Sw.resolve(this.xo[e]):this.$o(t,e).next((function(t){return t?(t=t.keys(),n.xo[e]=t):null}))},nE.prototype.Bo=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return oE(t).rs({index:CE.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&($v(e.batchId>=r),i=J_(n.serializer,e)),o.done()})).next((function(){return i}))},nE.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oE(t).rs({index:CE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},nE.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oE(t).ts(CE.userMutationsIndex,n).next((function(t){return t.map((function(t){return J_(e.serializer,t)}))}))},nE.prototype.Nr=function(t,e){var n=this,r=kE.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return aE(t).rs({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=W_(u),s===n.userId&&e.path.isEqual(u))return oE(t).get(r).next((function(t){if(!t)throw Yv();$v(t.userId===n.userId),i.push(J_(n.serializer,t))}));a.done()})).next((function(){return i}))},nE.prototype.$r=function(t,e){var n=this,r=new tg(Zv),i=[];return e.forEach((function(e){var o=kE.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=aE(t).rs({range:o},(function(t,i,o){var a=t[0],s=t[1];t=t[2],s=W_(s),a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()})),i.push(o)})),Sw.kn(i).next((function(){return n.Ko(t,r)}))},nE.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=kE.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new tg(Zv));return aE(t).rs({range:e},(function(t,e,a){var s=t[0],u=t[1];t=t[2],u=W_(u),s===n.userId&&r.M(u)?u.length===i&&(o=o.add(t)):a.done()})).next((function(){return n.Ko(t,o)}))},nE.prototype.Ko=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(oE(t).get(e).next((function(t){if(null===t)throw Yv();$v(t.userId===n.userId),r.push(J_(n.serializer,t))})))})),Sw.kn(i).next((function(){return r}))},nE.prototype.Qo=function(t,e){var n=this;return iE(t.Wo,this.userId,e).next((function(r){return t.pr((function(){n.jo(e.batchId)})),Sw.forEach(r,(function(e){return n.No.Go(t,e)}))}))},nE.prototype.jo=function(t){delete this.xo[t]},nE.prototype.zo=function(t){var e=this;return this.ko(t).next((function(n){if(!n)return Sw.resolve();n=IDBKeyRange.lowerBound(kE.prefixForUser(e.userId));var r=[];return aE(t).rs({range:n},(function(t,n,i){t[0]===e.userId?(t=W_(t[1]),r.push(t)):i.done()})).next((function(){$v(0===r.length)}))}))},nE.prototype.Ho=function(t,e){return rE(t,this.userId,e)},nE.prototype.Jo=function(t){var e=this;return sE(t).get(this.userId).next((function(t){return t||new TE(e.userId,-1,"")}))},nE);function nE(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.xo={}}function rE(t,e,n){var r=(n=kE.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return aE(t).rs({range:n,ss:!0},(function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function iE(t,e,n){var r=t.store(CE.store),i=t.store(kE.store),o=[],a=(t=IDBKeyRange.only(n.batchId),0);t=r.rs({range:t},(function(t,e,n){return a++,n.delete()})),o.push(t.next((function(){$v(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=kE.key(e,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return Sw.kn(o).next((function(){return s}))}function oE(t){return ZE.Kn(t,CE.store)}function aE(t){return ZE.Kn(t,kE.store)}function sE(t){return ZE.Kn(t,TE.store)}var uE,cE=(fE.prototype.Ir=function(t,e,n){return dE(t).put(vE(e),n)},fE.prototype.Ar=function(t,e){return t=dE(t),e=vE(e),t.delete(e)},fE.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},fE.prototype.Rr=function(t,e){var n=this;return dE(t).get(vE(e)).next((function(t){return n.Xo(t)}))},fE.prototype.Zo=function(t,e){var n=this;return dE(t).get(vE(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:yE(t)}:null}))},fE.prototype.getEntries=function(t,e){var n=this,r=ng;return this.ea(t,e,(function(t,e){e=n.Xo(e),r=r.ot(t,e)})).next((function(){return r}))},fE.prototype.na=function(t,e){var n=this,r=ng,i=new Gy(Ty.D);return this.ea(t,e,(function(t,e){var o=n.Xo(e);i=o?(r=r.ot(t,o),i.ot(t,yE(e))):(r=r.ot(t,null),i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},fE.prototype.ea=function(t,e,n){if(e.P())return Sw.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return dE(t).rs({range:r},(function(t,e,r){for(var a=Ty.Z(t);o&&Ty.D(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},fE.prototype.Lr=function(t,e,n){var r,i=this,o=og,a=e.path.length+1,s={};return n.isEqual(_y.min())?(r=e.path.L(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.L(),n=Q_(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=PE.collectionReadTimeIndex),dE(t).rs(s,(function(t,n,r){t.length===a&&(n=K_(i.serializer,n),e.path.M(n.key.path)?n instanceof wb&&Bb(e,n)&&(o=o.ot(n.key,n)):r.done())})).next((function(){return o}))},fE.prototype.ra=function(t){return new lE(this,!!t&&t.oa)},fE.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},fE.prototype.getMetadata=function(t){return pE(t).get(xE.key).next((function(t){return $v(!!t),t}))},fE.prototype.Yo=function(t,e){return pE(t).put(xE.key,e)},fE.prototype.Xo=function(t){return t?(t=K_(this.serializer,t))instanceof _b&&t.version.isEqual(_y.min())?null:t:null},fE),lE=(bo(hE,uE=Dr),hE.prototype.Vr=function(t){var e=this,n=[],r=0,i=new tg((function(t,e){return Zv(t.B(),e.B())}));return this.wr.forEach((function(o,a){var s,u=e.ca.get(o);a?(s=G_(e.ha.serializer,a,e.readTime),i=i.add(o.path.F()),a=yE(s),r+=a-u,n.push(e.ha.Ir(t,o,s))):(r-=u,e.oa?(u=G_(e.ha.serializer,new _b(o,_y.min()),e.readTime),n.push(e.ha.Ir(t,o,u))):n.push(e.ha.Ar(t,o)))})),i.forEach((function(r){n.push(e.ha.Dr.Mo(t,r))})),n.push(this.ha.updateMetadata(t,r)),Sw.kn(n)},hE.prototype.Pr=function(t,e){var n=this;return this.ha.Zo(t,e).next((function(t){return null===t?(n.ca.set(e,0),null):(n.ca.set(e,t.size),t.ta)}))},hE.prototype.gr=function(t,e){var n=this;return this.ha.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ca.set(t,e)})),e}))},hE);function hE(t,e){var n=this;return(n=uE.call(this)||this).ha=t,n.oa=e,n.ca=new by((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function fE(t,e){this.serializer=t,this.Dr=e}function pE(t){return ZE.Kn(t,xE.store)}function dE(t){return ZE.Kn(t,PE.store)}function vE(t){return t.path.L()}function yE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yv();e=t.noDocument}return JSON.stringify(e).length}var gE=(IE.prototype.Mo=function(t,e){return this.ua.add(e),Sw.resolve()},IE.prototype.Kr=function(t,e){return Sw.resolve(this.ua.getEntries(e))},IE),mE=(SE.prototype.add=function(t){var e=t.O(),n=t.F(),r=this.index[e]||new tg(Ey.D);return t=!r.has(n),this.index[e]=r.add(n),t},SE.prototype.has=function(t){var e=t.O();return t=t.F(),(e=this.index[e])&&e.has(t)},SE.prototype.getEntries=function(t){return(this.index[t]||new tg(Ey.D)).L()},SE),bE=(EE.prototype.createOrUpgrade=function(t,e,n,r){var i=this;$v(n<r&&0<=n&&r<=10);var o=new Rw("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(_E.store),(a=t).createObjectStore(TE.store,{keyPath:TE.keyPath}),a.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0}),a.createObjectStore(kE.store),FE(t),t.createObjectStore(PE.store));var a,s=Sw.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(DE.store),a.deleteObjectStore(RE.store),a.deleteObjectStore(LE.store),FE(t)),s=s.next((function(){return t=o.store(LE.store),e=new LE(0,0,_y.min().v(),0),t.put(LE.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(s=s.next((function(){return e=t,(n=o).store(CE.store).ts().next((function(t){e.deleteObjectStore(CE.store),e.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0});var r=n.store(CE.store);return t=t.map((function(t){return r.put(t)})),Sw.kn(t)}));var e,n}))),s=s.next((function(){t.createObjectStore(jE.store,{keyPath:jE.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(s=s.next((function(){return t.createObjectStore(xE.store),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(PE.store)).createIndex(PE.readTimeIndex,PE.readTimeIndexPath,{unique:!1}),n.createIndex(PE.collectionReadTimeIndex,PE.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},EE.prototype.addDocumentGlobal=function(t){var e=0;return t.store(PE.store).rs((function(t,n){e+=yE(n)})).next((function(){var n=new xE(e);return t.store(xE.store).put(xE.key,n)}))},EE.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(TE.store),r=t.store(CE.store);return n.ts().next((function(n){return Sw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(CE.userMutationsIndex,i).next((function(r){return Sw.forEach(r,(function(r){return $v(r.userId===n.userId),r=J_(e.serializer,r),iE(t,n.userId,r).next((function(){}))}))}))}))}))},EE.prototype.ensureSequenceNumbers=function(t){var e=t.store(DE.store),n=t.store(PE.store);return t.store(LE.store).get(LE.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new Ey(n);n=[0,B_(o)],r.push(e.get(n).next((function(n){return n?Sw.resolve():e.put(new DE(0,B_(o),t.highestListenSequenceNumber))})))})).next((function(){return Sw.kn(r)}))}))},EE.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.O();return t=t.F(),r.put({collectionId:e,parent:B_(t)})}}t.createObjectStore(ME.store,{keyPath:ME.keyPath});var r=e.store(ME.store),i=new mE;return e.store(PE.store).rs({ss:!0},(function(t,e){return n((t=new Ey(t)).F())})).next((function(){return e.store(kE.store).rs({ss:!0},(function(t,e){t[0];var r=t[1];return n((t[2],r=W_(r)).F())}))}))},EE.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(RE.store);return n.rs((function(t,r){return r=Z_(r),r=tE(e.serializer,r),n.put(r)}))},EE),wE=function(t,e){this.seconds=t,this.nanoseconds=e},_E=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function EE(t){this.serializer=t}function SE(){this.index={}}function IE(){this.ua=new mE}_E.store="owner",_E.key="owner";var TE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};TE.store="mutationQueues",TE.keyPath="userId";var CE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};CE.store="mutations",CE.keyPath="batchId",CE.userMutationsIndex="userMutationsIndex",CE.userMutationsKeyPath=["userId","batchId"];var kE=(AE.prefixForUser=function(t){return[t]},AE.prefixForPath=function(t,e){return[t,B_(e)]},AE.key=function(t,e,n){return[t,B_(e),n]},AE);function AE(){}kE.store="documentMutations",kE.PLACEHOLDER=new kE;var NE=function(t,e){this.path=t,this.readTime=e},OE=function(t,e){this.path=t,this.version=e},PE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};PE.store="remoteDocuments",PE.readTimeIndex="readTimeIndex",PE.readTimeIndexPath="readTime",PE.collectionReadTimeIndex="collectionReadTimeIndex",PE.collectionReadTimeIndexPath=["parentPath","readTime"];var xE=function(t){this.byteSize=t};xE.store="remoteDocumentGlobal",xE.key="remoteDocumentGlobalKey";var RE=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};RE.store="targets",RE.keyPath="targetId",RE.queryTargetsIndexName="queryTargetsIndex",RE.queryTargetsKeyPath=["canonicalId","targetId"];var DE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};DE.store="targetDocuments",DE.keyPath=["targetId","path"],DE.documentTargetsIndex="documentTargetsIndex",DE.documentTargetsKeyPath=["path","targetId"];var LE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};LE.key="targetGlobalKey",LE.store="targetGlobal";var ME=function(t,e){this.collectionId=t,this.parent=e};function FE(t){t.createObjectStore(DE.store,{keyPath:DE.keyPath}).createIndex(DE.documentTargetsIndex,DE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(RE.store,{keyPath:RE.keyPath}).createIndex(RE.queryTargetsIndexName,RE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(LE.store)}ME.store="collectionParents",ME.keyPath=["collectionId","parent"];var jE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};jE.store="clientMetadata",jE.keyPath="clientId";var UE=Co(Co(Co([TE.store,CE.store,kE.store,PE.store,RE.store,_E.store,LE.store,DE.store],[jE.store]),[xE.store]),[ME.store]),VE=(qE.prototype.Mo=function(t,e){var n=this;if(this.la.has(e))return Sw.resolve();var r=e.O(),i=e.F();return t.pr((function(){n.la.add(e)})),i={collectionId:r,parent:B_(i)},BE(t).put(i)},qE.prototype.Kr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ey(e),""],!1,!0);return BE(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(W_(o.parent))}return n}))},qE);function qE(){this.la=new mE}function BE(t){return ZE.Kn(t,ME.store)}var zE=(KE.prototype.next=function(){return this._a+=2,this._a},KE.fa=function(){return new KE(0)},KE.da=function(){return new KE(-1)},KE),WE=(HE.prototype.wa=function(t){var e=this;return this.Ea(t).next((function(n){var r=new zE(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},HE.prototype.Ia=function(t){return this.Ea(t).next((function(t){return _y.V(new wy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},HE.prototype.ma=function(t){return this.Ea(t).next((function(t){return t.highestListenSequenceNumber}))},HE.prototype.Aa=function(t,e,n){var r=this;return this.Ea(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},HE.prototype.Ra=function(t,e){var n=this;return this.Pa(t,e).next((function(){return n.Ea(t).next((function(r){return r.targetCount+=1,n.ga(e,r),n.Ta(t,r)}))}))},HE.prototype.Va=function(t,e){return this.Pa(t,e)},HE.prototype.ya=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return GE(t).delete(e.targetId)})).next((function(){return n.Ea(t)})).next((function(e){return $v(0<e.targetCount),--e.targetCount,n.Ta(t,e)}))},HE.prototype.po=function(t,e,n){var r=this,i=0,o=[];return GE(t).rs((function(a,s){(s=Z_(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.ya(t,s)))})).next((function(){return Sw.kn(o)})).next((function(){return i}))},HE.prototype.Ce=function(t,e){return GE(t).rs((function(t,n){n=Z_(n),e(n)}))},HE.prototype.Ea=function(t){return QE(t).get(LE.key).next((function(t){return $v(null!==t),t}))},HE.prototype.Ta=function(t,e){return QE(t).put(LE.key,e)},HE.prototype.Pa=function(t,e){return GE(t).put(tE(this.serializer,e))},HE.prototype.ga=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},HE.prototype.ba=function(t){return this.Ea(t).next((function(t){return t.targetCount}))},HE.prototype.va=function(t,e){var n=jy(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return GE(t).rs({range:n,index:RE.queryTargetsIndexName},(function(t,n,i){n=Z_(n),Uy(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},HE.prototype.Sa=function(t,e,n){var r=this,i=[],o=YE(t);return e.forEach((function(e){var a=B_(e.path);i.push(o.put(new DE(n,a))),i.push(r.No.Da(t,n,e))})),Sw.kn(i)},HE.prototype.Ca=function(t,e,n){var r=this,i=YE(t);return Sw.forEach(e,(function(e){var o=B_(e.path);return Sw.kn([i.delete([n,o]),r.No.Na(t,n,e)])}))},HE.prototype.pa=function(t,e){return t=YE(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},HE.prototype.xa=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=YE(t);var n=ug();return t.rs({range:e,ss:!0},(function(t,e,r){t=W_(t[1]),t=new Ty(t),n=n.add(t)})).next((function(){return n}))},HE.prototype.Ho=function(t,e){e=B_(e.path),e=IDBKeyRange.bound([e],[ey(e)],!1,!0);var n=0;return YE(t).rs({index:DE.documentTargetsIndex,ss:!0,range:e},(function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},HE.prototype.Ue=function(t,e){return GE(t).get(e).next((function(t){return t?Z_(t):null}))},HE);function HE(t,e){this.No=t,this.serializer=e}function KE(t){this._a=t}function GE(t){return ZE.Kn(t,RE.store)}function QE(t){return ZE.Kn(t,LE.store)}function YE(t){return ZE.Kn(t,DE.store)}var $E,XE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JE=(bo(eS,$E=F),eS),ZE=(tS.Kn=function(t,e){if(t instanceof JE)return Iw.Kn(t.Wo,e);throw Yv()},tS.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new qv(Vv.FAILED_PRECONDITION,XE);return t.Ha(),t.Ja(),t.Ya(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ja.ma(e)}))})).then((function(e){t.Ma=new n_(e,t.ka)})).then((function(){t.$a=!0})).catch((function(e){return t.Wa&&t.Wa.close(),Promise.reject(e)}))},tS.prototype.Xa=function(t){var e=this;return this.Ka=function(n){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){return this.Ii?[2,t(n)]:[2]}))}))},t(this.isPrimary)},tS.prototype.Za=function(t){var e=this;this.Wa.jn((function(n){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},tS.prototype.th=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},tS.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return rS(e).put(new jE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.eh(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Ka(!1)})))}))})).next((function(){return t.nh(e)})).next((function(n){return t.isPrimary&&!n?t.sh(e).next((function(){return!1})):!!n&&t.ih(e).next((function(){return!0}))}))})).catch((function(e){if(xw(e))return Hv("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Hv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Ka(e)})),t.isPrimary=e}))},tS.prototype.eh=function(t){var e=this;return nS(t).get(_E.key).next((function(t){return Sw.resolve(e.rh(t))}))},tS.prototype.oh=function(t){return rS(t).delete(this.clientId)},tS.prototype.ah=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Eo(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=tS.Kn(t,jE.store);return e.ts().next((function(t){var n=i.uh(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Sw.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ga)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ga.removeItem(this.lh(r.clientId));o.label=2;case 2:return[2]}}))}))},tS.prototype.Ya=function(){var t=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ah()})).then((function(){return t.Ya()}))}))},tS.prototype.rh=function(t){return!!t&&t.ownerId===this.clientId},tS.prototype.nh=function(t){var e=this;return this.Oa?Sw.resolve(!0):nS(t).get(_E.key).next((function(n){if(null!==n&&e.hh(n.leaseTimestampMs,5e3)&&!e._h(n.ownerId)){if(e.rh(n)&&e.networkEnabled)return!0;if(!e.rh(n)){if(!n.allowTabSynchronization)throw new qv(Vv.FAILED_PRECONDITION,XE);return!1}}return!(!e.networkEnabled||!e.inForeground)||rS(t).ts().next((function(t){return void 0===e.uh(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Hv("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},tS.prototype.Di=function(){return _o(this,void 0,void 0,(function(){var t=this;return Eo(this,(function(e){switch(e.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[_E.store,jE.store],(function(e){var n=new JE(e,n_.ai);return t.sh(n).next((function(){return t.oh(n)}))}))];case 1:return e.sent(),this.Wa.close(),this.Eh(),[2]}}))}))},tS.prototype.uh=function(t,e){var n=this;return t.filter((function(t){return n.hh(t.updateTimeMs,e)&&!n._h(t.clientId)}))},tS.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return rS(e).ts().next((function(e){return t.uh(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(tS.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),tS.prototype.Th=function(t){return eE.Fo(t,this.serializer,this.Dr,this.No)},tS.prototype.Ih=function(){return this.ja},tS.prototype.mh=function(){return this.vr},tS.prototype.Ah=function(){return this.Dr},tS.prototype.runTransaction=function(t,e,n){var r=this;Hv("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Wa.runTransaction(t,o,UE,(function(o){return i=new JE(o,r.Ma?r.Ma.next():n_.ai),"readwrite-primary"===e?r.eh(i).next((function(t){return!!t||r.nh(i)})).next((function(e){if(!e)throw Kv("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Ka(!1)})),new qv(Vv.FAILED_PRECONDITION,y_);return n(i)})).next((function(t){return r.ih(i).next((function(){return t}))})):r.Rh(i).next((function(){return n(i)}))})).then((function(t){return i.br(),t}))},tS.prototype.Rh=function(t){var e=this;return nS(t).get(_E.key).next((function(t){if(null!==t&&e.hh(t.leaseTimestampMs,5e3)&&!e._h(t.ownerId)&&!e.rh(t)&&!(e.Oa||e.allowTabSynchronization&&t.allowTabSynchronization))throw new qv(Vv.FAILED_PRECONDITION,XE)}))},tS.prototype.ih=function(t){var e=new _E(this.clientId,this.allowTabSynchronization,Date.now());return nS(t).put(_E.key,e)},tS.Ln=function(){return Iw.Ln()},tS.prototype.sh=function(t){var e=this,n=nS(t);return n.get(_E.key).next((function(t){return e.rh(t)?(Hv("IndexedDbPersistence","Releasing primary lease."),n.delete(_E.key)):Sw.resolve()}))},tS.prototype.hh=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Kv("Detected an update time that is in the future: "+t+" > "+n),1))},tS.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},tS.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},tS.prototype.Ja=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e.fh(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},tS.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},tS.prototype._h=function(t){try{var e=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.lh(t)));return Hv("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Kv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},tS.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(i){Kv("Failed to set zombie client id.",i)}},tS.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch(i){}},tS.prototype.lh=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},tS);function tS(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.fn=i,this.window=o,this.document=a,this.ka=u,this.Oa=c,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!tS.Ln())throw new qv(Vv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new iS(this,r),this.Qa=e+"main",this.serializer=new H_(s),this.Wa=new Iw(this.Qa,10,new bE(this.serializer)),this.ja=new WE(this.No,this.serializer),this.Dr=new VE,this.vr=(e=this.serializer,s=this.Dr,new cE(e,s)),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===c&&Kv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function eS(t,e){var n=this;return(n=$E.call(this)||this).Wo=t,n.Fa=e,n}function nS(t){return ZE.Kn(t,_E.store)}function rS(t){return ZE.Kn(t,jE.store)}var iS=(oS.prototype.Po=function(t){var e=this.Ph(t);return this.db.Ih().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},oS.prototype.Ph=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},oS.prototype.Ce=function(t,e){return this.db.Ih().Ce(t,e)},oS.prototype.yo=function(t,e){return this.gh(t,(function(t,n){return e(n)}))},oS.prototype.Da=function(t,e,n){return aS(t,n)},oS.prototype.Na=function(t,e,n){return aS(t,n)},oS.prototype.po=function(t,e,n){return this.db.Ih().po(t,e,n)},oS.prototype.Go=aS,oS.prototype.Vh=function(t,e){return r=e,i=!1,sE(n=t).os((function(t){return rE(n,t,r).next((function(t){return t&&(i=!0),Sw.resolve(!t)}))})).next((function(){return i}));var n,r,i},oS.prototype.bo=function(t,e){var n=this,r=this.db.mh().ra(),i=[],o=0;return this.gh(t,(function(a,s){s<=e&&(s=n.Vh(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),YE(t).delete([0,B_(a.path)])}))})),i.push(s))})).next((function(){return Sw.kn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},oS.prototype.removeTarget=function(t,e){return e=e.st(t.Fa),this.db.Ih().Va(t,e)},oS.prototype.yh=aS,oS.prototype.gh=function(t,e){t=YE(t);var n,r=n_.ai;return t.rs({index:DE.documentTargetsIndex},(function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==n_.ai&&e(new Ty(W_(n)),r),r=i,n=t):r=n_.ai})).next((function(){r!==n_.ai&&e(new Ty(W_(n)),r)}))},oS.prototype.So=function(t){return this.db.mh().aa(t)},oS);function oS(t,e){this.db=t,this.wo=new U_(this,e)}function aS(t,e){return YE(t).put((t=t.Fa,new DE(0,B_(e.path),t)))}function sS(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var uS=(cS.prototype.mo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bh)}))},cS);function cS(t,e,n){this.persistence=t,this.ph=e,this.bh=new Gy(Zv),this.Sh=new by(jy,Uy),this.Dh=_y.min(),this.Sr=t.Th(n),this.Ch=t.mh(),this.ja=t.Ih(),this.Nh=new g_(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}function lS(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.Ch.ra({oa:!0});return r=n,i=t,a=h,u=(s=(o=e).batch).keys(),c=Sw.resolve(),u.forEach((function(t){c=c.next((function(){return a.Rr(i,t)})).next((function(e){var n=e;$v(null!==(e=o.dr.get(t))),(!n||n.version.h(e)<0)&&(n=s.hr(t,n,o))&&a.Ir(n,o._r)}))})),c.next((function(){return r.Sr.Qo(i,s)})).next((function(){return h.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Nh.Or(t,l)}))}))}function hS(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ja.Ia(t)}))}function fS(t,e){var n=t,r=e.nt,i=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ch.ra({oa:!0});i=n.bh;var a=[];e.zt.forEach((function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.ja.Ca(t,e.se,o).next((function(){return n.ja.Sa(t,e.ee,o)}))),0<(c=e.resumeToken).o()&&(s=l.it(c,r).st(t.Fa),i=i.ot(o,s),u=l,c=e,$v(0<(l=s).resumeToken.o()),(0===u.resumeToken.o()||3e8<=l.nt.p()-u.nt.p()||0<c.ee.size+c.ne.size+c.se.size)&&a.push(n.ja.Va(t,s))))}));var s,u=ng,c=ug();return e.Jt.forEach((function(t,e){c=c.add(t)})),a.push(o.getEntries(t,c).next((function(i){e.Jt.forEach((function(s,c){var l=i.get(s);c instanceof _b&&c.version.isEqual(_y.min())?(o.Ar(s,r),u=u.ot(s,c)):null==l||0<c.version.h(l.version)||0===c.version.h(l.version)&&l.hasPendingWrites?(o.Ir(c,r),u=u.ot(s,c)):Hv("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",c.version),e.Yt.has(s)&&a.push(n.persistence.No.yh(t,s))}))}))),r.isEqual(_y.min())||(s=n.ja.Ia(t).next((function(e){return n.ja.Aa(t,t.Fa,r)})),a.push(s)),Sw.kn(a).next((function(){return o.apply(t)})).next((function(){return n.Nh.Mr(t,u)}))})).then((function(t){return n.bh=i,t}))}function pS(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ja.va(t,e).next((function(i){return i?(r=i,Sw.resolve(r)):n.ja.wa(t).next((function(i){return r=new zy(e,i,0,t.Fa),n.ja.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bh.get(t.targetId);return(null===r||0<t.nt.h(r.nt))&&(n.bh=n.bh.ot(t.targetId,t),n.Sh.set(e,t.targetId)),t}))}function dS(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:i=(r=t).bh.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.No.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!xw(o=a.sent()))throw o;return Hv("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.bh=r.bh.remove(e),r.Sh.delete(i.target),[2]}}))}))}function vS(t,e,n){var r=t,i=_y.min(),o=ug();return r.persistence.runTransaction("Execute query","readonly",(function(t){return a=r,s=t,u=Lb(e),(void 0!==(a=(c=a).Sh.get(u))?Sw.resolve(c.bh.get(a)):c.ja.va(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ja.xa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.ph.Lr(t,e,n?i:_y.min(),n?o:ug())})).next((function(t){return{documents:t,Fh:o}}));var a,s,u,c}))}function yS(t,e){var n=t,r=n.ja;return(t=n.bh.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function gS(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Ch,r=t,t=e.Dh,i=n,o=ng,a=Q_(t),t=dE(r),r=IDBKeyRange.lowerBound(a,!0),t.rs({index:PE.readTimeIndex,range:r},(function(t,e){var n=K_(i.serializer,e);o=o.ot(n.key,n),a=e.readTime})).next((function(){return{kh:o,readTime:Y_(a)}}));var n,r,i,o,a})).then((function(t){var n=t.kh;return t=t.readTime,e.Dh=t,n}))}function mS(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=dE(t),e=_y.min(),t.rs({index:PE.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=Y_(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.Dh=t}))]}))}))}function bS(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){if(t.code!==Vv.FAILED_PRECONDITION||t.message!==y_)throw t;return Hv("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function wS(t,e){this.user=e,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+t}function _S(t,e,n,r,i){var o=this;this.Gc=t,this.zc=e,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=i,this.tu.eu((function(t){n.ws((function(){return _o(o,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return eI(this)?(Hv("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return(e=t).Xc.add(4),[4,GS(e)];case 1:return n.sent(),e.nu.set("Unknown"),e.Xc.delete(4),[4,KS(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nu=new DS(n,r)}var ES,SS,IS,TS=(HS.prototype.P=function(){return this.Oh.P()},HS.prototype.Da=function(t,e){e=new CS(t,e),this.Oh=this.Oh.add(e),this.$h=this.$h.add(e)},HS.prototype.Bh=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},HS.prototype.Na=function(t,e){this.qh(new CS(t,e))},HS.prototype.Uh=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},HS.prototype.Kh=function(t){var e=this,n=new Ty(new Ey([])),r=new CS(n,t),i=(t=new CS(n,t+1),[]);return this.$h.xt([r,t],(function(t){e.qh(t),i.push(t.key)})),i},HS.prototype.Qh=function(){var t=this;this.Oh.forEach((function(e){return t.qh(e)}))},HS.prototype.qh=function(t){this.Oh=this.Oh.delete(t),this.$h=this.$h.delete(t)},HS.prototype.Wh=function(t){var e=new Ty(new Ey([])),n=new CS(e,t),r=(t=new CS(e,t+1),ug());return this.$h.xt([n,t],(function(t){r=r.add(t.key)})),r},HS.prototype.Ho=function(t){var e=new CS(t,0);return null!==(e=this.Oh.kt(e))&&t.isEqual(e.key)},HS),CS=(WS.Mh=function(t,e){return Ty.D(t.key,e.key)||Zv(t.jh,e.jh)},WS.Lh=function(t,e){return Zv(t.jh,e.jh)||Ty.D(t.key,e.key)},WS),kS=(zS.prototype.getToken=function(){return Promise.resolve(null)},zS.prototype.Hh=function(){},zS.prototype.Jh=function(t){(this.zh=t)(Zw.UNAUTHENTICATED)},zS.prototype.Yh=function(){this.zh=null},zS),AS=(BS.prototype.getToken=function(){var t=this,e=this.tc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.tc!==e?(Hv("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($v("string"==typeof n.accessToken),new wS(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},BS.prototype.Hh=function(){this.forceRefresh=!0},BS.prototype.Jh=function(t){this.zh=t,this.Zh&&t(this.currentUser)},BS.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},BS.prototype.ec=function(){var t=this.auth&&this.auth.getUid();return $v(null===t||"string"==typeof t),new Zw(t)},BS),NS=(Object.defineProperty(qS.prototype,"Gh",{get:function(){var t={"X-Goog-AuthUser":this.sc},e=this.nc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),qS),OS=(VS.prototype.getToken=function(){return Promise.resolve(new NS(this.nc,this.sc))},VS.prototype.Jh=function(t){t(Zw.ni)},VS.prototype.Yh=function(){},VS.prototype.Hh=function(){},VS),PS=(US.prototype.cc=function(){return 1===this.state||2===this.state||4===this.state},US.prototype.uc=function(){return 2===this.state},US.prototype.start=function(){3!==this.state?this.auth():this.lc()},US.prototype.stop=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},US.prototype._c=function(){this.state=0,this.Vs.reset()},US.prototype.fc=function(){var t=this;this.uc()&&null===this.hc&&(this.hc=this.fn.Vn(this.ic,6e4,(function(){return t.dc()})))},US.prototype.wc=function(t){this.Ec(),this.stream.send(t)},US.prototype.dc=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){return this.uc()?[2,this.close(0)]:[2]}))}))},US.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},US.prototype.close=function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,3!==t?this.Vs.reset():e&&e.code===Vv.RESOURCE_EXHAUSTED?(Kv(e.toString()),Kv("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):e&&e.code===Vv.UNAUTHENTICATED&&this.oc.Hh(),null!==this.stream&&(this.Tc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ic(e)];case 1:return n.sent(),[2]}}))}))},US.prototype.Tc=function(){},US.prototype.auth=function(){var t=this;this.state=1;var e=this.mc(this.ac),n=this.ac;this.oc.getToken().then((function(e){t.ac===n&&t.Ac(e)}),(function(n){e((function(){var e=new qv(Vv.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rc(e)}))}))},US.prototype.Ac=function(t){var e=this,n=this.mc(this.ac);this.stream=this.Pc(t),this.stream.gc((function(){n((function(){return e.state=2,e.listener.gc()}))})),this.stream.Ic((function(t){n((function(){return e.Rc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},US.prototype.lc=function(){var t=this;this.state=4,this.Vs.Pn((function(){return _o(t,void 0,void 0,(function(){return Eo(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},US.prototype.Rc=function(t){return Hv("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},US.prototype.mc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ac===t?n():(Hv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},bo(jS,IS=K=US),jS.prototype.Pc=function(t){return this.rc.Vc("Listen",t)},jS.prototype.onMessage=function(t){this.Vs.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(i=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:Yv(),r=e.targetChange.targetIds||[],i=(o=e.targetChange.resumeToken,t.Ke?($v(void 0===o||"string"==typeof o),ny.fromBase64String(o||"")):($v(void 0===o||o instanceof Uint8Array),ny.fromUint8Array(o||new Uint8Array))),o=e.targetChange.cause,a=o&&(o=void 0===(a=o).code?Vv.UNKNOWN:Ky(a.code),new qv(o,a.message||""));r=new gg(n,r,i,a||null)}else if("documentChange"in e){e.documentChange,(u=e.documentChange).document,u.document.name,u.document.updateTime,i=om(t,u.document.name);var s=em(u.document.updateTime),u=(a=new hb({mapValue:{fields:u.document.fields}}),s=new wb(i,s,a,{}),a=u.targetIds||[],u.removedTargetIds||[]);r=new vg(a,u,s.key,s)}else if("documentDelete"in e){e.documentDelete,(u=e.documentDelete).document,s=om(t,u.document);var c=u.readTime?em(u.readTime):_y.min();c=new _b(s,c),u=u.removedTargetIds||[],r=new vg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove,(c=e.documentRemove).document;var l=om(t,c.document);c=c.removedTargetIds||[],r=new vg([],c,l,null)}else{if(!("filter"in e))return Yv();e.filter,(l=e.filter).targetId,e=new qy(e=l.count||0),l=l.targetId,r=new yg(l,e)}return r}(this.serializer,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?_y.min():em(t.readTime):_y.min()}(t),this.listener.yc(e,t)},jS.prototype.bc=function(t){var e,n,r,i,o={};o.database=um(this.serializer),o.addTarget=(e=this.serializer,(r=Vy(r=(n=t).target)?{documents:pm(e,r)}:{query:dm(e,r)}).targetId=n.targetId,0<n.resumeToken.o()&&(r.resumeToken=tm(e,n.resumeToken)),r),this.serializer,i=t,(t=null==(t=function(){switch(i.et){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yv()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.wc(o)},jS.prototype.vc=function(t){var e={};e.database=um(this.serializer),e.removeTarget=t,this.wc(e)},jS),xS=(bo(FS,SS=K),Object.defineProperty(FS.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),FS.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,SS.prototype.start.call(this)},FS.prototype.Tc=function(){this.Sc&&this.Cc([])},FS.prototype.Pc=function(t){return this.rc.Vc("Write",t)},FS.prototype.onMessage=function(t){if($v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Sc){this.Vs.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?($v(void 0!==r),n.map((function(t){return function(t,e){var n=t.updateTime?em(t.updateTime):em(e);return n.isEqual(_y.min())&&(n=em(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new Bm(n,e)}(t,r)}))):[]),n=em(t.commitTime);return this.listener.Nc(n,e)}var r;return $v(!t.writeResults||0===t.writeResults.length),this.Sc=!0,this.listener.xc()},FS.prototype.Fc=function(){var t={};t.database=um(this.serializer),this.wc(t)},FS.prototype.Cc=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return hm(e.serializer,t)}))},this.wc(t)},FS),RS=(bo(MS,ES=function(){}),MS.prototype.Oc=function(){if(this.kc)throw new qv(Vv.FAILED_PRECONDITION,"The client has already been terminated.")},MS.prototype.Mc=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.Mc(t,e,n,i)})).catch((function(t){throw t.code===Vv.UNAUTHENTICATED&&r.credentials.Hh(),t}))},MS.prototype.$c=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.$c(t,e,n,i)})).catch((function(t){throw t.code===Vv.UNAUTHENTICATED&&r.credentials.Hh(),t}))},MS.prototype.terminate=function(){this.kc=!1},MS),DS=(LS.prototype.Uc=function(){var t=this;0===this.Lc&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,(function(){return t.Bc=null,t.Qc("Backend didn't respond within 10 seconds."),t.Kc("Offline"),Promise.resolve()})))},LS.prototype.Wc=function(t){"Online"===this.state?this.Kc("Unknown"):(this.Lc++,1<=this.Lc&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Kc("Offline")))},LS.prototype.set=function(t){this.jc(),this.Lc=0,"Online"===t&&(this.qc=!1),this.Kc(t)},LS.prototype.Kc=function(t){t!==this.state&&(this.state=t,this.di(t))},LS.prototype.Qc=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.qc?(Kv(t),this.qc=!1):Hv("OnlineStateTracker",t)},LS.prototype.jc=function(){null!==this.Bc&&(this.Bc.cancel(),this.Bc=null)},LS);function LS(t,e){this.hs=t,this.di=e,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}function MS(t,e,n){var r=this;return(r=ES.call(this)||this).credentials=t,r.rc=e,r.serializer=n,r.kc=!1,r}function FS(t,e,n,r,i){var o=this;return(o=SS.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Sc=!1,o}function jS(t,e,n,r,i){var o=this;return(o=IS.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function US(t,e,n,r,i,o){this.fn=t,this.ic=n,this.rc=r,this.oc=i,this.listener=o,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new Ew(t,e)}function VS(t,e){this.nc=t,this.sc=e}function qS(t,e){this.nc=t,this.sc=e,this.type="FirstParty",this.user=Zw.ni}function BS(t){var e=this;this.Xh=null,this.currentUser=Zw.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){e.tc++,e.currentUser=e.ec(),e.Zh=!0,e.zh&&e.zh(e.currentUser)},this.tc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),t.get().then((function(t){e.auth=t,e.Xh&&e.auth.addAuthTokenListener(e.Xh)}),(function(){})))}function zS(){this.zh=null}function WS(t,e){this.key=t,this.jh=e}function HS(){this.Oh=new tg(CS.Mh),this.$h=new tg(CS.Lh)}function KS(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:if(!eI(t))return[3,4];e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function GS(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function QS(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return e=t,Hv("RemoteStore","RemoteStore shutting down."),e.Xc.add(5),[4,GS(e)];case 1:return n.sent(),e.tu.Di(),e.nu.set("Unknown"),[2]}}))}))}function YS(t,e){t.Yc.has(e.targetId)||(t.Yc.set(e.targetId,e),tI(t)?ZS(t):lI(t).uc()&&XS(t,e))}function $S(t,e){var n=t;t=lI(n),n.Yc.delete(e),t.uc()&&JS(n,e),0===n.Yc.size&&(t.uc()?t.fc():eI(n)&&n.nu.set("Unknown"))}function XS(t,e){t.su.me(e.targetId),lI(t).bc(e)}function JS(t,e){t.su.me(e),lI(t).vc(e)}function ZS(t){t.su=new bg({qe:function(e){return t.Hc.qe(e)},Ue:function(e){return t.Yc.get(e)||null}}),lI(t).start(),t.nu.Uc()}function tI(t){return eI(t)&&!lI(t).cc()&&0<t.Yc.size}function eI(t){return 0===t.Xc.size}function nI(t){t.su=void 0}function rI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:if(t.nu.set("Online"),!(e instanceof gg&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Yc.has(o)?[4,t.Hc.iu(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Yc.delete(o),t.su.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Hv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,iI(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vg?t.su.be(e):e instanceof yg?t.su.ke(e):t.su.De(e),n.isEqual(_y.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,hS(t.Gc)];case 8:return i=o.sent(),0<=n.h(i)?[4,(s=n,(u=(a=t).su.$e(s)).zt.forEach((function(t,e){var n;0<t.resumeToken.o()&&(n=a.Yc.get(e))&&a.Yc.set(e,n.it(t.resumeToken,s))})),u.Ht.forEach((function(t){var e=a.Yc.get(t);e&&(a.Yc.set(t,e.it(ny.u,e.nt)),JS(a,t),e=new zy(e.target,t,1,e.sequenceNumber),XS(a,e))})),a.Hc.ru(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Hv("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,iI(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function iI(t,e,n){return _o(this,void 0,void 0,(function(){var r=this;return Eo(this,(function(i){switch(i.label){case 0:if(!xw(e))throw e;return t.Xc.add(1),[4,GS(t)];case 1:return i.sent(),t.nu.set("Offline"),n=n||function(){return hS(t.Gc)},t.hs.Cs((function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return Hv("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xc.delete(1),[4,KS(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function oI(t,e){return e().catch((function(n){return iI(t,n,e)}))}function aI(t){return _o(this,void 0,void 0,(function(){var e,n,r,i;return Eo(this,(function(o){switch(o.label){case 0:n=hI(e=t),r=0<e.Jc.length?e.Jc[e.Jc.length-1].batchId:-1,o.label=1;case 1:if(!(eI(e)&&e.Jc.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.Gc,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===s&&(s=-1),u.Sr.Bo(t,s)})))];case 3:return null===(i=o.sent())?(0===e.Jc.length&&n.fc(),[3,7]):(r=i.batchId,function(t,e){t.Jc.push(e),(t=hI(t)).uc()&&t.Dc&&t.Cc(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,iI(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return sI(e)&&uI(e),[2]}var a,s,u}))}))}function sI(t){return eI(t)&&!hI(t).cc()&&0<t.Jc.length}function uI(t){hI(t).start()}function cI(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Xc.delete(2),[4,KS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xc.add(2),[4,GS(n)]);case 3:r.sent(),n.nu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lI(t){var e,n,r,i=this;return t.hu||(t.hu=(e=t.zc,n=t.hs,r={gc:function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t.Yc.forEach((function(e,n){XS(t,e)})),[2]}))}))}.bind(null,t),Ic:function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){return nI(t),tI(t)?(t.nu.Wc(e),ZS(t)):t.nu.set("Unknown"),[2]}))}))}.bind(null,t),yc:rI.bind(null,t)},e.Oc(),new PS(n,e.rc,e.credentials,e.serializer,r)),t.Zc.push((function(e){return _o(i,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e?(t.hu._c(),tI(t)?ZS(t):t.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.hu.stop()];case 2:n.sent(),nI(t),n.label=3;case 3:return[2]}}))}))}))),t.hu}function hI(t){var e,n,r,i=this;return t.cu||(t.cu=(e=t.zc,n=t.hs,r={gc:function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return hI(t).Fc(),[2]}))}))}.bind(null,t),Ic:function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e&&hI(t).Dc?[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return Hy(r=e.code)&&r!==Vv.ABORTED?(n=t.Jc.shift(),hI(t)._c(),[4,oI(t,(function(){return t.Hc.au(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,aI(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sI(t)&&uI(t),[2]}}))}))}.bind(null,t),xc:function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i;return Eo(this,(function(o){for(e=hI(t),n=0,r=t.Jc;n<r.length;n++)i=r[n],e.Cc(i.mutations);return[2]}))}))}.bind(null,t),Nc:function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=t.Jc.shift(),i=v_.from(r,e,n),[4,oI(t,(function(){return t.Hc.ou(i)}))];case 1:return o.sent(),[4,aI(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},e.Oc(),new xS(n,e.rc,e.credentials,e.serializer,r)),t.Zc.push((function(e){return _o(i,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e?(t.cu._c(),[4,aI(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.cu.stop()];case 3:n.sent(),0<t.Jc.length&&(Hv("RemoteStore","Stopping write stream with "+t.Jc.length+" pending writes"),t.Jc=[]),n.label=4;case 4:return[2]}}))}))}))),t.cu}var fI=function(t){this.key=t},pI=function(t){this.key=t},dI=(Object.defineProperty(bI.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),bI.prototype.Eu=function(t,e){var n=this,r=e?e.Tu:new hg,i=(e||this).du,o=(e||this).Qt,a=i,s=!1,u=Nb(this.query)&&i.size===this.query.limit?i.last():null,c=Ob(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=(h=e instanceof wb?e:null)&&(Bb(n.query,h)?h:null),f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations);e=!1,l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),e=!0):n.Iu(l,h)||(r.track({type:2,doc:h}),e=!0,(u&&0<n.fu(h,u)||c&&n.fu(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),e=!0):l&&!h&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=h?(a=a.add(h),p?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),Nb(this.query)||Ob(this.query))for(;a.size>this.query.limit;){var l=Nb(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{du:a,Tu:r,mu:s,Qt:o}},bI.prototype.Iu=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},bI.prototype.Vr=function(t,e,n){var r=this,i=this.du;this.du=t.du,this.Qt=t.Qt;var o=t.Tu.Ut();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.fu(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yv()}}var i,o})),this.Au(n);var a=e?this.Ru():[];return e=(n=0===this._u.size&&this.te?1:0)!==this.lu,this.lu=n,0!==o.length||e?{snapshot:new fg(this.query,t.du,i,o,t.Qt,0==n,e,!1),Pu:a}:{Pu:a}},bI.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Vr({du:this.du,Tu:new hg,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},bI.prototype.gu=function(t){return!this.uu.has(t)&&!!this.du.has(t)&&!this.du.get(t).Ye},bI.prototype.Au=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uu=e.uu.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uu=e.uu.delete(t)})),this.te=t.te)},bI.prototype.Ru=function(){var t=this;if(!this.te)return[];var e=this._u;this._u=ug(),this.du.forEach((function(e){t.gu(e.key)&&(t._u=t._u.add(e.key))}));var n=[];return e.forEach((function(e){t._u.has(e)||n.push(new pI(e))})),this._u.forEach((function(t){e.has(t)||n.push(new fI(t))})),n},bI.prototype.Vu=function(t){return this.uu=t.Fh,this._u=ug(),t=this.Eu(t.documents),this.Vr(t,!0)},bI.prototype.yu=function(){return fg.Gt(this.query,this.du,this.Qt,0===this.lu)},bI),vI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yI=function(t){this.key=t,this.pu=!1},gI=(Object.defineProperty(mI.prototype,"Uu",{get:function(){return!0===this.qu},enumerable:!1,configurable:!0}),mI);function mI(t,e,n,r,i,o){this.Gc=t,this.bu=e,this.vu=n,this.Su=r,this.currentUser=i,this.Du=o,this.Cu={},this.Nu=new by(Vb,Ub),this.xu=new Map,this.Fu=[],this.ku=new Gy(Ty.D),this.Ou=new Map,this.Mu=new TS,this.$u={},this.Lu=new Map,this.Bu=zE.da(),this.onlineState="Unknown",this.qu=void 0}function bI(t,e){this.query=t,this.uu=e,this.lu=null,this.te=!1,this._u=ug(),this.Qt=ug(),this.fu=zb(t),this.du=new lg(this.fu)}function wI(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return t.Ku=function(e,n,r){return function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o;return Eo(this,(function(a){switch(a.label){case 0:return(i=e.view.Eu(n)).mu?[4,vS(t.Gc,e.query,!1).then((function(t){return t=t.documents,e.view.Eu(t,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.zt.get(e.targetId),o=e.view.Vr(i,t.Uu,o),[2,(AI(t,e.targetId,o.Pu),o.snapshot)]}}))}))}(t,e,n,r)},[4,vS(t.Gc,e,!0)];case 1:return o=s.sent(),a=new dI(e,o.Fh),i=a.Eu(o.documents),o=dg.Zt(n,r&&"Offline"!==t.onlineState),o=a.Vr(i,t.Uu,o),AI(t,n,o.Pu),a=new vI(e,n,a),[2,(t.Nu.set(e,a),t.xu.has(n)?t.xu.get(n).push(e):t.xu.set(n,[e]),o.snapshot)]}}))}))}function _I(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fS(n.Gc,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){(e=n.Ou.get(e))&&($v(t.ee.size+t.ne.size+t.se.size<=1),0<t.ee.size?e.pu=!0:0<t.ne.size?$v(e.pu):0<t.se.size&&($v(e.pu),e.pu=!1))})),[4,OI(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,bS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function EI(t,e,n){var r;((t=t).Uu&&0===n||!t.Uu&&1===n)&&(r=[],t.Nu.forEach((function(t,n){(n=n.view.Ks(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.Bs.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Ks(e)&&(n=!0)})),n&&Xw(t)}(t.vu,e),r.length&&t.Cu.yc(r),t.onlineState=e,t.Uu&&t.Su.ji(e))}function SI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.Gc,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Sr.$o(t,s).next((function(n){return $v(null!==n),e=n.keys(),u.Sr.Qo(t,n)})).next((function(){return u.Sr.zo(t)})).next((function(){return u.Nh.Or(t,e)}))})))];case 2:return i=o.sent(),TI(r,e,n),II(r,e),r.Su.Oi(e,"rejected",n),[4,OI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function II(t,e){(t.Lu.get(e)||[]).forEach((function(t){t.resolve()})),t.Lu.delete(e)}function TI(t,e,n){var r=t,i=r.$u[r.currentUser.ti()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.$u[r.currentUser.ti()]=i)}function CI(t,e,n){void 0===n&&(n=null),t.Su.Bi(e);for(var r=0,i=t.xu.get(e);r<i.length;r++){var o=i[r];t.Nu.delete(o),n&&t.Cu.Qu(o,n)}t.xu.delete(e),t.Uu&&t.Mu.Kh(e).forEach((function(e){t.Mu.Ho(e)||kI(t,e)}))}function kI(t,e){var n=t.ku.get(e);null!==n&&($S(t.bu,n),t.ku=t.ku.remove(e),t.Ou.delete(n),NI(t))}function AI(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fI?(t.Mu.Da(o.key,e),function(t,e){e=e.key,t.ku.get(e)||(Hv("SyncEngine","New document in limbo: "+e),t.Fu.push(e),NI(t))}(t,o)):o instanceof pI?(Hv("SyncEngine","Document no longer in limbo: "+o.key),t.Mu.Na(o.key,e),t.Mu.Ho(o.key)||kI(t,o.key)):Yv()}}function NI(t){for(;0<t.Fu.length&&t.ku.size<t.Du;){var e=t.Fu.shift(),n=t.Bu.next();t.Ou.set(n,new yI(e)),t.ku=t.ku.ot(e,n),YS(t.bu,new zy(Lb(Ab(e.path)),n,2,n_.ai))}}function OI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).Nu.P()?[3,3]:(r.Nu.forEach((function(t,s){a.push(r.Ku(s,e,n).then((function(t){t&&(r.Uu&&r.Su.Ki(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=m_.zr(s.targetId,t),o.push(t))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Cu.yc(i),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Eo(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Sw.forEach(e,(function(e){return Sw.forEach(e.jr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return Sw.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!xw(r=c.sent()))throw r;return Hv("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.bh.get(a),u=s.nt,u=s.rt(u),n.bh=n.bh.ot(a,u));return[2]}}))}))}(r.Gc,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function PI(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Hv("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return r=(n=t).Sr,i=n.Nh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Sr.Uo(t).next((function(a){return o=a,r=n.persistence.Th(e),i=new g_(n.Ch,r,n.persistence.Ah()),r.Uo(t)})).next((function(e){for(var n=[],r=[],a=ug(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.Or(t,a).next((function(t){return{Wu:t,ju:n,Gu:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Sr=r,n.Nh=i,n.ph.xh(n.Nh),o)]}}))}))}(n.Gc,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Lu.forEach((function(t){t.forEach((function(t){t.reject(new qv(Vv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Lu.clear(),n.Su.Wi(e,r.ju,r.Gu),[4,OI(n,r.Wu)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function xI(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,(s=(i=t).Gc,u=e,l=(c=s).Sr,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.Lo(t,u).next((function(e){return e?c.Nh.Or(t,e):Sw.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,aI(i.bu)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(TI(i,e,r||null),II(i,e),i.Gc.Sr.jo(e)):Yv(),a.label=4;case 4:return[4,OI(i,o)];case 5:return a.sent(),[3,7];case 6:Hv("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function RI(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Eo(this,(function(l){switch(l.label){case 0:return MI(n=t),FI(n),!0!==e||!0===n.qu?[3,3]:(r=n.Su.Ci(),[4,DI(n,r.L())]);case 1:return i=l.sent(),n.qu=!0,[4,cI(n.bu,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],YS(n.bu,s);return[3,7];case 3:return!1!==e||!1===n.qu?[3,7]:(u=[],c=Promise.resolve(),n.xu.forEach((function(t,e){n.Su.qi(e)?u.push(e):c=c.then((function(){return CI(n,e),dS(n.Gc,e,!0)})),$S(n.bu,e)})),[4,c]);case 4:return l.sent(),[4,DI(n,u)];case 5:return l.sent(),(h=n).Ou.forEach((function(t,e){$S(h.bu,e)})),h.Mu.Qh(),h.Ou=new Map,h.ku=new Gy(Ty.D),n.qu=!1,[4,cI(n.bu,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function DI(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p;return Eo(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,a=e,d.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.xu.get(s))&&0!==c.length?[4,pS(n.Gc,Lb(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=h[l],f=n.Nu.get(f),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,vS((n=t).Gc,e.query,!0)];case 1:return r=i.sent(),r=e.view.Vu(r),[2,(n.Uu&&AI(n,e.targetId,r.Pu),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yS(n.Gc,s)];case 8:return p=d.sent(),[4,pS(n.Gc,p)];case 9:return u=d.sent(),[4,wI(n,LI(p),s,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Cu.yc(i),r)]}}))}))}function LI(t){return kb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function MI(t){return t.bu.Hc.ru=_I.bind(null,t),t.bu.Hc.qe=function(t,e){var n=t;if((t=n.Ou.get(e))&&t.pu)return ug().add(t.key);var r=ug();if(!(e=n.xu.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var a=o[i];a=n.Nu.get(a),r=r.Ot(a.view.wu)}return r}.bind(null,t),t.bu.Hc.iu=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(r=t).Su.Ki(e,"rejected",n),a=r.Ou.get(e),(i=a&&a.key)?(o=(o=new Gy(Ty.D)).ot(i,new _b(i,_y.min())),a=ug().add(i),a=new pg(_y.min(),new Map,new tg(Zv),o,a),[4,_I(r,a)]):[3,2];case 1:return s.sent(),r.ku=r.ku.remove(i),r.Ou.delete(e),NI(r),[3,4];case 2:return[4,dS(r.Gc,e,!1).then((function(){return CI(r,e,n)})).catch(bS)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,t),t.Cu.yc=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query;if(s=n.Bs.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Qs(a)&&(r=!0);s.Ls=a}}r&&Xw(n)}.bind(null,t.vu),t.Cu.Qu=function(t,e,n){var r=t;if(t=r.Bs.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.Bs.delete(e)}.bind(null,t.vu),t}function FI(t){return t.bu.Hc.ou=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,lS(n.Gc,e)];case 2:return i=o.sent(),TI(n,r,null),II(n,r),n.Su.Oi(r,"acknowledged"),[4,OI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,t),t.bu.Hc.au=SI.bind(null,t),t}var jI,UI,VI,qI=(fT.prototype.xh=function(t){this.zu=t},fT.prototype.Lr=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.W())||n.isEqual(_y.min())?this.Hu(t,e):this.zu.Or(t,r).next((function(o){var a=i.Ju(e,o);return(Nb(e)||Ob(e))&&i.mu(e.an,a,r,n)?i.Hu(t,e):(Wv()<=Na.DEBUG&&Hv("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qb(e)),i.zu.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},fT.prototype.Ju=function(t,e){var n=new tg(zb(t));return e.forEach((function(e,r){r instanceof wb&&Bb(t,r)&&(n=n.add(r))})),n},fT.prototype.mu=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.h(r))},fT.prototype.Hu=function(t,e){return Wv()<=Na.DEBUG&&Hv("IndexFreeQueryEngine","Using full collection scan to execute query:",qb(e)),this.zu.Lr(t,e,_y.min())},fT),BI=(hT.prototype.ko=function(t){return Sw.resolve(0===this.Sr.length)},hT.prototype.Oo=function(t,e,n,r){var i=this.Yu;this.Yu++,0<this.Sr.length&&this.Sr[this.Sr.length-1],n=new d_(i,e,n,r),this.Sr.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.Xu=this.Xu.add(new CS(s.key,i)),this.Dr.Mo(t,s.key.path.F())}return Sw.resolve(n)},hT.prototype.$o=function(t,e){return Sw.resolve(this.Zu(e))},hT.prototype.Bo=function(t,e){return e+=1,e=(e=this.tl(e))<0?0:e,Sw.resolve(this.Sr.length>e?this.Sr[e]:null)},hT.prototype.qo=function(){return Sw.resolve(0===this.Sr.length?-1:this.Yu-1)},hT.prototype.Uo=function(t){return Sw.resolve(this.Sr.slice())},hT.prototype.Nr=function(t,e){var n=this,r=new CS(e,0),i=(e=new CS(e,Number.POSITIVE_INFINITY),[]);return this.Xu.xt([r,e],(function(t){t=n.Zu(t.jh),i.push(t)})),Sw.resolve(i)},hT.prototype.$r=function(t,e){var n=this,r=new tg(Zv);return e.forEach((function(t){var e=new CS(t,0);t=new CS(t,Number.POSITIVE_INFINITY),n.Xu.xt([e,t],(function(t){r=r.add(t.jh)}))})),Sw.resolve(this.el(r))},hT.prototype.Qr=function(t,e){var n=e.path,r=n.length+1;e=n,Ty.X(e)||(e=e.child("")),e=new CS(new Ty(e),0);var i=new tg(Zv);return this.Xu.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(i=i.add(t.jh)),!0)}),e),Sw.resolve(this.el(i))},hT.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.Zu(t))&&n.push(t)})),n},hT.prototype.Qo=function(t,e){var n=this;$v(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xu;return Sw.forEach(e.mutations,(function(i){var o=new CS(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xu=r}))},hT.prototype.jo=function(t){},hT.prototype.Ho=function(t,e){var n=new CS(e,0);return n=this.Xu.kt(n),Sw.resolve(e.isEqual(n&&n.key))},hT.prototype.zo=function(t){return this.Sr.length,Sw.resolve()},hT.prototype.nl=function(t,e){return this.tl(t)},hT.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},hT.prototype.Zu=function(t){return(t=this.tl(t))<0||t>=this.Sr.length?null:this.Sr[t]},hT),zI=(lT.prototype.Ir=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:o,readTime:n}),this.size+=o-i,this.Dr.Mo(t,r.path.F())},lT.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},lT.prototype.Rr=function(t,e){return e=this.docs.get(e),Sw.resolve(e?e.ta:null)},lT.prototype.getEntries=function(t,e){var n=this,r=ng;return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),Sw.resolve(r)},lT.prototype.Lr=function(t,e,n){for(var r=og,i=new Ty(e.path.child("")),o=this.docs.ft(i);o.At();){var a=(s=o.It()).key,s=(u=s.value).ta,u=u.readTime;if(!e.path.M(a.path))break;u.h(n)<=0||s instanceof wb&&Bb(e,s)&&(r=r.ot(s.key,s))}return Sw.resolve(r)},lT.prototype.il=function(t,e){return Sw.forEach(this.docs,(function(t){return e(t)}))},lT.prototype.ra=function(t){return new WI(this)},lT.prototype.aa=function(t){return Sw.resolve(this.size)},lT),WI=(bo(cT,VI=Dr),cT.prototype.Vr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ha.Ir(t,i,e.readTime)):e.ha.Ar(r)})),Sw.kn(n)},cT.prototype.Pr=function(t,e){return this.ha.Rr(t,e)},cT.prototype.gr=function(t,e){return this.ha.getEntries(t,e)},cT),HI=(uT.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),Sw.resolve()},uT.prototype.Ia=function(t){return Sw.resolve(this.lastRemoteSnapshotVersion)},uT.prototype.ma=function(t){return Sw.resolve(this.ol)},uT.prototype.wa=function(t){return this.highestTargetId=this.hl.next(),Sw.resolve(this.highestTargetId)},uT.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),Sw.resolve()},uT.prototype.Pa=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new zE(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},uT.prototype.Ra=function(t,e){return this.Pa(e),this.targetCount+=1,Sw.resolve()},uT.prototype.Va=function(t,e){return this.Pa(e),Sw.resolve()},uT.prototype.ya=function(t,e){return this.rl.delete(e.target),this.al.Kh(e.targetId),--this.targetCount,Sw.resolve()},uT.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),Sw.kn(o).next((function(){return i}))},uT.prototype.ba=function(t){return Sw.resolve(this.targetCount)},uT.prototype.va=function(t,e){return e=this.rl.get(e)||null,Sw.resolve(e)},uT.prototype.Sa=function(t,e,n){return this.al.Bh(e,n),Sw.resolve()},uT.prototype.Ca=function(t,e,n){this.al.Uh(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),Sw.kn(i)},uT.prototype.pa=function(t,e){return this.al.Kh(e),Sw.resolve()},uT.prototype.xa=function(t,e){return e=this.al.Wh(e),Sw.resolve(e)},uT.prototype.Ho=function(t,e){return Sw.resolve(this.al.Ho(e))},uT),KI=(sT.prototype.start=function(){return Promise.resolve()},sT.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(sT.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),sT.prototype.Za=function(){},sT.prototype.th=function(){},sT.prototype.Ah=function(){return this.Dr},sT.prototype.Th=function(t){var e=this.cl[t.ti()];return e||(e=new BI(this.Dr,this.No),this.cl[t.ti()]=e),e},sT.prototype.Ih=function(){return this.ja},sT.prototype.mh=function(){return this.vr},sT.prototype.runTransaction=function(t,e,n){var r=this;Hv("MemoryPersistence","Starting transaction:",t);var i=new GI(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).xn().then((function(t){return i.br(),t}))},sT.prototype.fl=function(t,e){return Sw.On(Object.values(this.cl).map((function(n){return function(){return n.Ho(t,e)}})))},sT),GI=(bo(aT,UI=F),aT),QI=(oT.El=function(t){return new oT(t)},Object.defineProperty(oT.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Yv()},enumerable:!1,configurable:!0}),oT.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),Sw.resolve()},oT.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),Sw.resolve()},oT.prototype.Go=function(t,e){return this.Tl.add(e.toString()),Sw.resolve()},oT.prototype.removeTarget=function(t,e){var n=this;this.dl.Kh(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Ih();return r.xa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.ya(t,e)}))},oT.prototype.ll=function(){this.wl=new Set},oT.prototype._l=function(t){var e=this,n=this.persistence.mh().ra();return Sw.forEach(this.Tl,(function(r){var i=Ty.H(r);return e.Il(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},oT.prototype.yh=function(t,e){var n=this;return this.Il(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},oT.prototype.ul=function(t){return 0},oT.prototype.Il=function(t,e){var n=this;return Sw.On([function(){return Sw.resolve(n.dl.Ho(e))},function(){return n.persistence.Ih().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},oT),YI=(iT.prototype.gc=function(t){this.Rl=t},iT.prototype.Ic=function(t){this.Pl=t},iT.prototype.onMessage=function(t){this.gl=t},iT.prototype.close=function(){this.Al()},iT.prototype.send=function(t){this.ml(t)},iT.prototype.Vl=function(){this.Rl()},iT.prototype.yl=function(t){this.Pl(t)},iT.prototype.pl=function(t){this.gl(t)},iT),$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XI=(rT.prototype.Mc=function(t,e,n,r){var i=this.Dl(t,e);return Hv("RestConnection","Sending: ",i,n),e={},this.Cl(e,r),this.Nl(t,i,e,n).then((function(t){return Hv("RestConnection","Received: ",t),t}),(function(e){throw Gv("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},rT.prototype.$c=function(t,e,n,r){return this.Mc(t,e,n,r)},rT.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",t["Content-Type"]="text/plain",e)for(var n in e.Gh)e.Gh.hasOwnProperty(n)&&(t[n]=e.Gh[n])},rT.prototype.Dl=function(t,e){return t=$I[t],this.vl+"/v1/"+e+":"+t},bo(nT,jI=rT),nT.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var a=new Uv;a.listenOnce(Fv.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Mv.NO_ERROR:var e=a.getResponseJson();Hv("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mv.TIMEOUT:Hv("Connection",'RPC "'+t+'" timed out'),o(new qv(Vv.DEADLINE_EXCEEDED,"Request time out"));break;case Mv.HTTP_ERROR:var n=a.getStatus();Hv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(e=a.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(Vv).indexOf(n)?n:Vv.UNKNOWN,o(new qv(n,e.message))):o(new qv(Vv.UNKNOWN,"Server responded with status "+a.getStatus())):o(new qv(Vv.UNAVAILABLE,"Connection failed."));break;default:Yv()}}finally{Hv("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},nT.prototype.Vc=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ov;t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T},this.Cl(t.initMessageHeaders,e),jo()||Vo()||0<=Fo().indexOf("Electron/")||0<=(e=Fo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=Fo().indexOf("MSAppHost/")||Uo()||(t.httpHeadersOverwriteParam="$httpHeaders"),Hv("Connection","Creating WebChannel: "+(n=n.join("")),t);var i=r.createWebChannel(n,t),o=!1,a=!1,s=new YI({ml:function(t){a?Hv("Connection","Not sending because WebChannel is closed:",t):(o||(Hv("Connection","Opening WebChannel transport."),i.open(),o=!0),Hv("Connection","WebChannel sending:",t),i.send(t))},Al:function(){return i.close()}});return(t=function(t,e){i.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))})(jv.EventType.OPEN,(function(){a||Hv("Connection","WebChannel transport opened.")})),t(jv.EventType.CLOSE,(function(){a||(a=!0,Hv("Connection","WebChannel transport closed"),s.yl())})),t(jv.EventType.ERROR,(function(t){a||(a=!0,Gv("Connection","WebChannel transport errored:",t),s.yl(new qv(Vv.UNAVAILABLE,"The operation could not be completed")))})),t(jv.EventType.MESSAGE,(function(t){var e,n,r,o;a||($v(!!(e=t.data[0])),(n=e.error||(null===(o=e[0])||void 0===o?void 0:o.error))?(Hv("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=By[r];if(void 0!==t)return Ky(t)}(),o=n.message,void 0===t&&(t=Vv.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),a=!0,s.yl(new qv(t,o)),i.close()):(Hv("Connection","WebChannel received:",e),s.pl(e)))})),setTimeout((function(){s.Vl()}),0),s},nT),JI=(eT.prototype.eu=function(t){this.Ml.push(t)},eT.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},eT.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},eT.prototype.Fl=function(){Hv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},eT.prototype.Ol=function(){Hv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},eT.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},eT),ZI=(tT.prototype.eu=function(t){},tT.prototype.Di=function(){},tT);function tT(){}function eT(){var t=this;this.xl=function(){return t.Fl()},this.kl=function(){return t.Ol()},this.Ml=[],this.$l()}function nT(t){var e=this;return(e=jI.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.T=t.T,e}function rT(t){this.bl=t,this._=t._;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}function iT(t){this.ml=t.ml,this.Al=t.Al}function oT(t){this.persistence=t,this.dl=new TS,this.wl=null}function aT(t){var e=this;return(e=UI.call(this)||this).Fa=t,e}function sT(t){var e=this;this.cl={},this.Ma=new n_(0),this.$a=!1,this.$a=!0,this.No=t(this),this.ja=new HI(this),this.Dr=new gE,this.vr=(t=this.Dr,new zI(t,(function(t){return e.No.ul(t)})))}function uT(t){this.persistence=t,this.rl=new by(jy,Uy),this.lastRemoteSnapshotVersion=_y.min(),this.highestTargetId=0,this.ol=0,this.al=new TS,this.targetCount=0,this.hl=zE.fa()}function cT(t){var e=this;return(e=VI.call(this)||this).ha=t,e}function lT(t,e){this.Dr=t,this.sl=e,this.docs=new Gy(Ty.D),this.size=0}function hT(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Yu=1,this.Xu=new tg(CS.Mh)}function fT(){}function pT(t){return new Yg(t,!0)}var dT,vT,yT=(TT.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return this.Su=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.Gc=this.Kl(t),[2]}}))}))},TT.prototype.Ul=function(t){return null},TT.prototype.Kl=function(t){return e=this.persistence,n=new qI,t=t.Ql,new uS(e,n,t);var e,n},TT.prototype.Bl=function(t){return new KI(QI.El)},TT.prototype.Ll=function(t){return new p_},TT.prototype.terminate=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},TT),gT=(bo(IT,vT=yT),IT.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,vT.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,mS(this.Gc)];case 2:return e.sent(),[4,this.Wl.initialize(this,t)];case 3:return e.sent(),[4,FI(this.Wl.fi)];case 4:return e.sent(),[4,aI(this.Wl.bu)];case 5:return e.sent(),[2]}}))}))},IT.prototype.Ul=function(t){var e=this.persistence.No.wo;return new j_(e,t.hs)},IT.prototype.Bl=function(t){var e=sS(t.bl._,t.bl.persistenceKey),n=void 0!==this.cacheSizeBytes?L_.ao(this.cacheSizeBytes):L_.fo,r=pT(t.bl._);return new ZE(this.synchronizeTabs,e,t.clientId,n,t.hs,Vw(),qw(),r,this.Su,!!this.forceOwnership)},IT.prototype.Ll=function(t){return new p_},IT),mT=(bo(ST,dT=gT),ST.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,dT.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Wl.fi,this.Su instanceof f_?(this.Su.fi={er:xI.bind(null,e),nr:function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(i=t).qu?(Hv("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xu.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,gS(i.Gc)];case 3:return o=s.sent(),a=pg.Xt(e,"current"===n),[4,OI(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,dS(i.Gc,e,!0)];case 6:return s.sent(),CI(i,e,r),[3,8];case 7:Yv(),s.label=8;case 8:return[2]}}))}))}.bind(null,e),sr:function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:if(!(r=MI(t)).qu)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.xu.has(o)?(Hv("SyncEngine","Adding an already active target "+o),[3,5]):[4,yS(r.Gc,o)]):[3,6];case 2:return a=h.sent(),[4,pS(r.Gc,a)];case 3:return s=h.sent(),[4,wI(r,LI(a),s.targetId,!1)];case 4:h.sent(),YS(r.bu,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Eo(this,(function(e){switch(e.label){case 0:return r.xu.has(t)?[4,dS(r.Gc,t,!1).then((function(){$S(r.bu,t),CI(r,t)})).catch(bS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,e),pi:function(t){return t.Gc.persistence.pi()}.bind(null,e)},[4,this.Su.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Xa((function(t){return _o(n,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,RI(this.Wl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ii?this.ql.start(this.Gc):t||this.ql.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},ST.prototype.Ll=function(t){var e=Vw();if(!f_.Ln(e))throw new qv(Vv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sS(t.bl._,t.bl.persistenceKey);return new f_(e,t.hs,n,t.clientId,t.Ql)},ST),bT=(ET.prototype.initialize=function(t,e){return _o(this,void 0,void 0,(function(){var n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.Gc?[3,2]:(this.Gc=t.Gc,this.Su=t.Su,this.zc=this.jl(e),this.bu=this.Gl(e),this.vu=this.zl(e),this.fi=this.Hl(e,!t.synchronizeTabs),this.Su.di=function(t){return EI(n.fi,t,1)},this.bu.Hc.Jl=PI.bind(null,this.fi),[4,cI(this.bu,this.fi.Uu)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},ET.prototype.zl=function(t){return new Qw},ET.prototype.jl=function(t){var e=pT(t.bl._),n=(n=t.bl,new XI(n));return t=t.credentials,new RS(t,n,e)},ET.prototype.Gl=function(t){var e=this;return new _S(this.Gc,this.zc,t.hs,(function(t){return EI(e.fi,t,0)}),t=new(JI.Ln()?JI:ZI))},ET.prototype.Hl=function(t,e){return function(t,e,n,r,i,o,a){return o=new gI(t,e,n,r,i,o),a&&(o.qu=!0),o}(this.Gc,this.bu,this.vu,this.Su,t.Ql,t.Du,e)},ET.prototype.terminate=function(){return QS(this.bu)},ET),wT=(_T.prototype.next=function(t){this.observer.next&&this.Yl(this.observer.next,t)},_T.prototype.error=function(t){this.observer.error?this.Yl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},_T.prototype.Xl=function(){this.muted=!0},_T.prototype.Yl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},_T);function _T(t){this.observer=t,this.muted=!1}function ET(){}function ST(t,e){var n=this;return(n=dT.call(this,t,e,!1)||this).Wl=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function IT(t,e,n){var r=this;return(r=vT.call(this)||this).Wl=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function TT(){this.synchronizeTabs=!1}function CT(t,e,n){if(!n)throw new qv(Vv.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qv(Vv.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function AT(t,e,n,r){if(!0===e&&!0===r)throw new qv(Vv.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function NT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Yv();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function OT(t,e){if(e<=0)throw new qv(Vv.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var PT,xT,RT=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new qv(Vv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new Iy(t)},DT=(bo(UT,xT=RT),UT.documentId=function(){return new UT(Iy.j().B())},UT.prototype.isEqual=function(t){return t instanceof UT&&this.Zl.isEqual(t.Zl)},UT),LT=new RegExp("[~\\*/\\[\\]]"),MT=function(t){this.t_=t},FT=(bo(jT,PT=MT),jT.prototype.e_=function(t){if(2!==t.n_)throw 1===t.n_?t.s_(this.t_+"() can only appear at the top level of your update data"):t.s_(this.t_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},jT.prototype.isEqual=function(t){return t instanceof jT},jT);function jT(){return null!==PT&&PT.apply(this,arguments)||this}function UT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xT.call(this,t)||this}function VT(t,e,n){return new cC({n_:3,i_:e.settings.i_,methodName:t.t_,r_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var qT,BT,zT,WT,HT=(bo(sC,WT=MT),sC.prototype.e_=function(t){return new Vm(t.path,new Tm)},sC.prototype.isEqual=function(t){return t instanceof sC},sC),KT=(bo(aC,zT=MT),aC.prototype.e_=function(t){var e=VT(this,t,!0),n=this.o_.map((function(t){return gC(t,e)}));return n=new Cm(n),new Vm(t.path,n)},aC.prototype.isEqual=function(t){return this===t},aC),GT=(bo(oC,BT=MT),oC.prototype.e_=function(t){var e=VT(this,t,!0),n=this.o_.map((function(t){return gC(t,e)}));return n=new Pm(n),new Vm(t.path,n)},oC.prototype.isEqual=function(t){return this===t},oC),QT=(bo(iC,qT=MT),iC.prototype.e_=function(t){var e=new Lm(t.serializer,Jg(t.serializer,this.a_));return new Vm(t.path,e)},iC.prototype.isEqual=function(t){return this===t},iC),YT=(Object.defineProperty(rC.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(rC.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),rC.prototype.isEqual=function(t){return this.h_===t.h_&&this.c_===t.c_},rC.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},rC.prototype.g=function(t){return Zv(this.h_,t.h_)||Zv(this.c_,t.c_)},rC),$T=function(t){this.u_=t},XT=/^__.*__$/,JT=function(t,e,n){this.l_=t,this.__=e,this.f_=n},ZT=(nC.prototype.d_=function(t,e){var n=[];return null!==this.Qe?n.push(new Zm(t,this.data,this.Qe,e)):n.push(new Jm(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new ib(t,this.fieldTransforms)),n},nC),tC=(eC.prototype.d_=function(t,e){return e=[new Zm(t,this.data,this.Qe,e)],0<this.fieldTransforms.length&&e.push(new ib(t,this.fieldTransforms)),e},eC);function eC(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function nC(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function rC(t,e){if(!isFinite(t)||t<-90||90<t)throw new qv(Vv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new qv(Vv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.h_=t,this.c_=e}function iC(t,e){var n=this;return(n=qT.call(this,t)||this).a_=e,n}function oC(t,e){var n=this;return(n=BT.call(this,t)||this).o_=e,n}function aC(t,e){var n=this;return(n=zT.call(this,t)||this).o_=e,n}function sC(){return null!==WT&&WT.apply(this,arguments)||this}function uC(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Yv()}}var cC=(Object.defineProperty(fC.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(fC.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),fC.prototype.E_=function(t){return new fC(Object.assign(Object.assign({},this.settings),t),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},fC.prototype.T_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.E_({path:e,r_:!1})).I_(t),e},fC.prototype.m_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.E_({path:t,r_:!1})).w_(),t},fC.prototype.A_=function(t){return this.E_({path:void 0,r_:!0})},fC.prototype.s_=function(t){return SC(t,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},fC.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},fC.prototype.w_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},fC.prototype.I_=function(t){if(0===t.length)throw this.s_("Document fields must not be empty");if(uC(this.n_)&&XT.test(t))throw this.s_('Document fields cannot begin and end with "__"')},fC),lC=(hC.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new cC({n_:t,methodName:e,i_:n,path:Iy.U(),r_:!1,R_:r},this._,this.serializer,this.ignoreUndefinedProperties)},hC);function hC(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||pT(t)}function fC(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.w_(),this.fieldTransforms=i||[],this.Qe=o||[]}function pC(t,e,n,r,i,o){void 0===o&&(o={});var a,s,u=t.P_(o.merge||o.mergeFields?2:0,e,n,i);if(wC("Data must be an object, but it was:",u,r),r=mC(r,u),o.merge)a=new Um(u.Qe),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=h[l],p=void 0;if(f instanceof RT)p=f.Zl;else{if("string"!=typeof f)throw Yv();p=EC(e,f,n)}if(!u.contains(p))throw new qv(Vv.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");IC(c,p)||c.push(p)}a=new Um(c),s=u.fieldTransforms.filter((function(t){return a.Je(t.field)}))}else a=null,s=u.fieldTransforms;return new ZT(new hb(r),a,s)}function dC(t,e,n,r){var i=t.P_(1,e,n);wC("Data must be an object, but it was:",i,r);var o=[],a=new fb;return vy(r,(function(t,r){var s=EC(e,t,n);t=i.m_(s),r instanceof FT||r instanceof $T&&r.u_ instanceof FT?o.push(s):null!=(t=gC(r,t))&&(o.push(s),a.set(s,t))})),r=new Um(o),new tC(a.Xe(),r,i.fieldTransforms)}function vC(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[_C(e,r,n)],u=[i];if(o.length%2!=0)throw new qv(Vv.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(_C(e,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=new fb,v=s.length-1;0<=v;--v)IC(p,s[v])||(l=s[v],h=u[v],f=a.m_(l),h instanceof FT||h instanceof $T&&h.u_ instanceof FT?p.push(l):null!=(f=gC(h,f))&&(p.push(l),d.set(l,f)));return i=new Um(p),new tC(d.Xe(),i,a.fieldTransforms)}function yC(t,e,n,r){return void 0===r&&(r=!1),gC(n,t.P_(r?4:3,e))}function gC(t,e){if(t instanceof $T&&(t=t.u_),bC(t))return wC("Unsupported field value:",e,t),mC(t,e);if(t instanceof MT)return function(t,e){if(!uC(e.n_))throw e.s_(t.t_+"() can only be used with update() and set()");if(!e.path)throw e.s_(t.t_+"() is not currently supported inside arrays");(t=t.e_(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.r_&&4!==e.n_)throw e.s_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=gC(o[i],e.A_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Jg(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=wy.fromDate(t);return{timestampValue:Zg(e.serializer,n)}}if(t instanceof wy){var r=new wy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zg(e.serializer,r)}}if(t instanceof YT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iy)return{bytesValue:tm(e.serializer,t.l)};if(t instanceof JT){if(n=e._,!(r=t.l_).isEqual(n))throw e.s_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:nm(t.l_||e._,t.__.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.s_("Unsupported field value: "+NT(t))}(t,e)}function mC(t,e){var n={};return yy(t)?e.path&&0<e.path.length&&e.Qe.push(e.path):vy(t,(function(t,r){null!=(r=gC(r,e.T_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function bC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof wy||t instanceof YT||t instanceof iy||t instanceof JT||t instanceof MT)}function wC(t,e,n){if(!bC(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=NT(n))?e.s_(t+" a custom object"):e.s_(t+" "+n);var r}function _C(t,e,n){if(e instanceof RT)return e.Zl;if("string"==typeof e)return EC(t,e);throw SC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function EC(t,e,n){try{return function(e){if(0<=e.search(LT))throw new qv(Vv.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(DT.bind.apply(DT,Co([void 0],e.split("."))))}catch(t){throw new qv(Vv.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Zl}catch(e){throw SC(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function SC(t,e,n,r,i){var o=r&&!r.P(),a=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new qv(Vv.INVALID_ARGUMENT,(e+=". ")+t+n)}function IC(t,e){return t.some((function(t){return t.isEqual(e)}))}var TC=(OC.prototype.b_=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:if(this.v_(),0<this.mutations.length)throw new qv(Vv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return r=um((n=t).serializer)+"/documents",i={documents:e.map((function(t){return im(n.serializer,t)}))},[4,n.$c("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e;e=n.serializer,t="found"in(t=t)?function(t,e){$v(!!e.found),e.found.name,e.found.updateTime;var n=om(t,e.found.name);return t=em(e.found.updateTime),e=new hb({mapValue:{fields:e.found.fields}}),new wb(n,t,e,{})}(e,t):"missing"in t?function(t,e){return $v(!!e.missing),$v(!!e.readTime),t=om(t,e.missing),e=em(e.readTime),new _b(t,e)}(e,t):Yv(),o.set(t.key.toString(),t)})),a=[],[2,(e.forEach((function(t){$v(!!(t=o.get(t.toString()))),a.push(t)})),a)]}}))}))}(this.zc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof _b||t instanceof wb?n.S_(t):Yv()})),e)]}}))}))},OC.prototype.set=function(t,e){this.write(e.d_(t,this.Ge(t))),this.p_.add(t.toString())},OC.prototype.update=function(t,e){try{this.write(e.d_(t,this.D_(t)))}catch(t){this.y_=t}this.p_.add(t.toString())},OC.prototype.delete=function(t){this.write([new cb(t,this.Ge(t))]),this.p_.add(t.toString())},OC.prototype.commit=function(){return _o(this,void 0,void 0,(function(){var t,e=this;return Eo(this,(function(n){switch(n.label){case 0:if(this.v_(),this.y_)throw this.y_;return t=this.g_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=Ty.H(n),e.mutations.push(new lb(n,e.Ge(n)))})),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=um((n=t).serializer)+"/documents",i={writes:e.map((function(t){return hm(n.serializer,t)}))},[4,n.Mc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.zc,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},OC.prototype.S_=function(t){var e;if(t instanceof wb)e=t.version;else{if(!(t instanceof _b))throw Yv();e=_y.min()}var n=this.g_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qv(Vv.ABORTED,"Document version changed between two reads.")}else this.g_.set(t.key.toString(),e)},OC.prototype.Ge=function(t){var e=this.g_.get(t.toString());return!this.p_.has(t.toString())&&e?zm.updateTime(e):zm.ze()},OC.prototype.D_=function(t){var e=this.g_.get(t.toString());if(this.p_.has(t.toString())||!e)return zm.exists(!0);if(e.isEqual(_y.min()))throw new qv(Vv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zm.updateTime(e)},OC.prototype.write=function(t){this.v_(),this.mutations=this.mutations.concat(t)},OC.prototype.v_=function(){},OC),CC=(NC.prototype.run=function(){this.N_()},NC.prototype.N_=function(){var t=this;this.Vs.Pn((function(){return _o(t,void 0,void 0,(function(){var t,e,n=this;return Eo(this,(function(r){return t=new TC(this.zc),(e=this.x_(t))&&e.then((function(e){n.hs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.F_(t)}))}))})).catch((function(t){n.F_(t)})),[2]}))}))}))},NC.prototype.x_=function(t){try{var e=this.updateFunction(t);return!Ry(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},NC.prototype.F_=function(t){var e=this;0<this.C_&&this.k_(t)?(--this.C_,this.hs.ws((function(){return e.N_(),Promise.resolve()}))):this.ls.reject(t)},NC.prototype.k_=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Hy(t))},NC),kC=(AC.prototype.start=function(t,e,n){var r=this;this.M_(),this.bl=t;var i=new ww,o=!1;return this.credentials.Jh((function(t){return o?void r.hs.Cs((function(){return function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return(n=t).hs.Fs(),Hv("RemoteStore","RemoteStore received new credentials"),r=eI(n),n.Xc.add(3),[4,GS(n)];case 1:return i.sent(),r&&n.nu.set("Unknown"),[4,n.Hc.Jl(e)];case 2:return i.sent(),n.Xc.delete(3),[4,KS(n)];case 3:return i.sent(),[2]}}))}))}(r.bu,t)})):(o=!0,Hv("FirestoreClient","Initializing. user=",t.uid),r.L_(e,n,t,i).then(r.O_.resolve,r.O_.reject))})),this.hs.ws((function(){return r.O_.promise})),i.promise},AC.prototype.enableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue((function(){return t.persistence.th(!0),(e=t.bu).Xc.delete(0),KS(e);var e}))},AC.prototype.L_=function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o=this;return Eo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),i={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:n,Du:100},[4,t.initialize(i)];case 1:return a.sent(),[4,e.initialize(t,i)];case 2:return a.sent(),this.persistence=t.persistence,this.Su=t.Su,this.Gc=t.Gc,this.ql=t.ql,this.zc=e.zc,this.bu=e.bu,this.fi=e.fi,this.B_=e.vu,this.B_.Us=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return n=MI(t),(a=n.Nu.get(e))?(r=a.targetId,n.Su.$i(r),i=a.view.yu(),[3,4]):[3,1];case 1:return[4,pS(n.Gc,Lb(e))];case 2:return o=s.sent(),a=n.Su.$i(o.targetId),r=o.targetId,[4,wI(n,e,r,"current"===a)];case 3:i=s.sent(),n.Uu&&YS(n.bu,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,this.fi),this.B_.Ws=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=(n=t).Nu.get(e),1<(i=n.xu.get(r.targetId)).length?[2,(n.xu.set(r.targetId,i.filter((function(t){return!Ub(t,e)}))),void n.Nu.delete(e))]:n.Uu?(n.Su.Bi(r.targetId),n.Su.xi(r.targetId)?[3,2]:[4,dS(n.Gc,r.targetId,!1).then((function(){n.Su.Ui(r.targetId),$S(n.bu,r.targetId),CI(n,r.targetId)})).catch(bS)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return CI(n,r.targetId),[4,dS(n.Gc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,this.fi),this.persistence.Za((function(){return _o(o,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(i=a.sent(),r.reject(i),!("FirebaseError"===i.name?i.code===Vv.FAILED_PRECONDITION||i.code===Vv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw i;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),this.L_(new yT,new bT,n,r))];case 4:return[2]}}))}))},AC.prototype.M_=function(){if(this.hs.ps)throw new qv(Vv.FAILED_PRECONDITION,"The client has already been terminated.")},AC.prototype.disableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue((function(){return t.persistence.th(!1),function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return(e=t).Xc.add(0),[4,GS(e)];case 1:return n.sent(),e.nu.set("Offline"),[2]}}))}))}(t.bu)}))},AC.prototype.terminate=function(){var t=this;this.hs.Ds();var e=new ww;return this.hs.bs((function(){return _o(t,void 0,void 0,(function(){var t;return Eo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,QS(this.bu)];case 1:return n.sent(),[4,this.Su.Di()];case 2:return n.sent(),[4,this.persistence.Di()];case 3:return n.sent(),this.credentials.Yh(),e.resolve(),[3,5];case 4:return t=Kw(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,5];case 5:return[2]}}))}))})),e.promise},AC.prototype.waitForPendingWrites=function(){var t=this;this.M_();var e=new ww;return this.hs.ws((function(){return function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:eI((n=t).bu)||Hv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.Gc).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return a.Sr.qo(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Lu.get(r)||[]).push(e),n.Lu.set(r,i),[3,4]);case 3:return i=Kw(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a}))}))}(t.fi,e)})),e.promise},AC.prototype.listen=function(t,e,n){var r=this;this.M_();var i=new wT(n),o=new Jw(t,i,e);return this.hs.ws((function(){return Yw(r.B_,o)})),function(){i.Xl(),r.hs.ws((function(){return $w(r.B_,o)}))}},AC.prototype.q_=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),e=new ww,[2,(this.hs.ws((function(){return function(t,e,n){return _o(this,void 0,void 0,(function(){var r;return Eo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(o=e,(a=t).persistence.runTransaction("read document","readonly",(function(t){return a.Nh.Cr(t,o)})))];case 1:return(r=i.sent())instanceof wb?n.resolve(r):r instanceof _b?n.resolve(null):n.reject(new qv(Vv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=Kw(r=i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}var o,a}))}))}(n.Gc,t,e)})),e.promise)]}}))}))},AC.prototype.U_=function(t,e){return void 0===e&&(e={}),_o(this,void 0,void 0,(function(){var n,r=this;return Eo(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),n=new ww,[2,(this.hs.ws((function(){return i=r.B_,o=r.hs,a=t,s=e,u=n,c=new wT({next:function(t){o.ws((function(){return $w(i,l)}));var e=t.docs.has(a);!e&&t.fromCache?u.reject(new qv(Vv.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&s&&"server"===s.source?u.reject(new qv(Vv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new Jw(Ab(a.path),c,{includeMetadataChanges:!0,Xs:!0}),Yw(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},AC.prototype.K_=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),e=new ww,[2,(this.hs.ws((function(){return function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,vS(t,e,!0)];case 1:return i=o.sent(),r=new dI(e,i.Fh),i=r.Eu(i.documents),i=r.Vr(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=Kw(i=o.sent(),"Failed to execute query '"+e+" against cache"),n.reject(i),[3,3];case 3:return[2]}}))}))}(n.Gc,t,e)})),e.promise)]}}))}))},AC.prototype.Q_=function(t,e){return void 0===e&&(e={}),_o(this,void 0,void 0,(function(){var n,r=this;return Eo(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),n=new ww,[2,(this.hs.ws((function(){return i=r.B_,o=r.hs,a=t,s=e,u=n,c=new wT({next:function(t){o.ws((function(){return $w(i,l)})),t.fromCache&&"server"===s.source?u.reject(new qv(Vv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new Jw(a,c,{includeMetadataChanges:!0,Xs:!0}),Yw(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},AC.prototype.write=function(t){var e=this;this.M_();var n=new ww;return this.hs.ws((function(){return function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:i=FI(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.Gc,l=e,f=c,p=wy.now(),d=l.reduce((function(t,e){return t.add(e.key)}),ug()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return f.Nh.Or(t,d).next((function(e){h=e;for(var n,r=[],i=0,o=l;i<o.length;i++){var a=o[i],s=(n=a,s=h.get(a.key),n instanceof ib?function(t){for(var e=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof wb?t.field(o.field):void 0;null!=(a=Em(o.transform,a||null))&&(e=(null==e?new fb:e).set(o.field,a))}return e?e.Xe():null}(s):null);null!=s&&r.push(new Zm(a.key,s,function t(e){var n=[];return vy(e.fields||{},(function(e,r){var i=new Iy([e]);if(Kg(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Um(n)}(s.proto.mapValue),zm.exists(!0)))}return f.Sr.Oo(t,p,r,l)}))})).then((function(t){var e=t.lr(h);return{batchId:t.batchId,wr:e}})))];case 2:return r=o.sent(),i.Su.Fi(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.$u[a.currentUser.ti()])||new Gy(Zv)).ot(s,u),a.$u[a.currentUser.ti()]=c,[4,OI(i,r.wr)];case 3:return o.sent(),[4,aI(i.bu)];case 4:return o.sent(),[3,6];case 5:return i=Kw(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,p,d}))}))}(e.fi,t,n)})),n.promise},AC.prototype._=function(){return this.bl._},AC.prototype.W_=function(t){var e=this;this.M_();var n=new wT(t);return this.hs.ws((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){return[2,(e=this.B_,r=n,e.qs.add(r),void r.next())];var e,r}))}))})),function(){n.Xl(),e.hs.ws((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){return[2,void this.B_.qs.delete(n)]}))}))}))}},Object.defineProperty(AC.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),AC.prototype.transaction=function(t){var e=this;this.M_();var n=new ww;return this.hs.ws((function(){return new CC(e.hs,e.zc,t,n).run(),Promise.resolve()})),n.promise},AC);function AC(t,e){this.credentials=t,this.hs=e,this.clientId=Xv.t(),this.O_=new ww}function NC(t,e,n,r){this.hs=t,this.zc=e,this.updateFunction=n,this.ls=r,this.C_=5,this.Vs=new Ew(this.hs,"transaction_retry")}function OC(t){this.zc=t,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}function PC(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var xC,RC,DC=(rk.prototype.J_=function(t){switch(xg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ug(t.integerValue||t.doubleValue);case 3:return this.Y_(t.timestampValue);case 4:return this.X_(t);case 5:return t.stringValue;case 6:return this.H_(Vg(t.bytesValue));case 7:return this.Z_(t.referenceValue);case 8:return this.tf(t.geoPointValue);case 9:return this.ef(t.arrayValue);case 10:return this.nf(t.mapValue);default:throw Yv()}},rk.prototype.nf=function(t){var e=this,n={};return vy(t.fields||{},(function(t,r){n[t]=e.J_(r)})),n},rk.prototype.tf=function(t){return new YT(Ug(t.latitude),Ug(t.longitude))},rk.prototype.ef=function(t){var e=this;return(t.values||[]).map((function(t){return e.J_(t)}))},rk.prototype.X_=function(t){switch(this.G_){case"previous":var e=function t(e){return Ng(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==e?null:this.J_(e);case"estimate":return this.Y_(Og(t));default:return null}},rk.prototype.Y_=function(t){return t=jg(t),new wy(t.seconds,t.nanos)},rk.prototype.Z_=function(t){var e=Ey.q(t);return $v(_m(e)),t=new hy(e.get(1),e.get(3)),e=new Ty(e.N(5)),t.isEqual(this._)||Kv("Document "+e+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(e)},rk),LC=L_.uo,MC=(nk.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},nk),FC="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",jC=(ek.prototype.enableIndexedDbPersistence=function(t,e){throw new qv(Vv.FAILED_PRECONDITION,FC)},ek.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new qv(Vv.FAILED_PRECONDITION,FC)},ek.prototype.clearIndexedDbPersistence=function(t){throw new qv(Vv.FAILED_PRECONDITION,FC)},ek),UC=(tk.prototype.enableIndexedDbPersistence=function(t,e){var n=new bT;return e=new gT(n,t.sf().cacheSizeBytes,e),t.if(e,n)},tk.prototype.enableMultiTabIndexedDbPersistence=function(t){var e=new bT,n=new mT(e,t.sf().cacheSizeBytes);return t.if(n,e)},tk.prototype.clearIndexedDbPersistence=function(t){var e=this,n=new ww;return t.rf.bs((function(){return _o(e,void 0,void 0,(function(){var e;return Eo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return Iw.Ln()?(e=t+"main",[4,Iw.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(sS(t.l_,t.af))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},tk),VC=(Object.defineProperty(ZC.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new lC(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),ZC.prototype.settings=function(t){if(t.merge&&delete(t=Object.assign(Object.assign({},this.df),t)).merge,t=new MC(t),this.lf&&!this.df.isEqual(t))throw new qv(Vv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");void 0!==(this.df=t).credentials&&(this.ff=function(t){if(!t)return new kS;switch(t.type){case"gapi":var e=t.client;return $v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new OS(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new qv(Vv.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},ZC.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.df.host&&Gv("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},ZC.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},ZC.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},ZC.prototype.enablePersistence=function(t){if(this.lf)throw new qv(Vv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&AT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,n)},ZC.prototype.clearPersistence=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){if(void 0!==this.lf&&!this.lf.j_)throw new qv(Vv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]}))}))},ZC.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(ZC.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),ZC.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},ZC.prototype.onSnapshotsInSync=function(t){return this.uf(),PC(t)||(t={next:t}),this.lf.W_(t)},ZC.prototype.uf=function(){return this.lf||this.if(new yT,new bT),this.lf},ZC.prototype.If=function(){return new uy(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},ZC.prototype.if=function(t,e){var n=this.If();return this.lf=new kC(this.ff,this.rf),this.lf.start(n,t,e)},ZC._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new qv(Vv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e;if(!(t=t.options.projectId)||"string"!=typeof t)throw new qv(Vv.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new hy(t)},Object.defineProperty(ZC.prototype,"app",{get:function(){if(!this.cf)throw new qv(Vv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),ZC.prototype.collection=function(t){return CT("Firestore.collection","path",t),this.uf(),new hk(Ey.q(t),this,null)},ZC.prototype.doc=function(t){return CT("Firestore.doc","path",t),this.uf(),zC.mf(Ey.q(t),this,null)},ZC.prototype.collectionGroup=function(t){if(CT("Firestore.collectionGroup","collectionId",t),0<=t.indexOf("/"))throw new qv(Vv.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new ck((t=t,new Sb(Ey.U(),t)),this,null)},ZC.prototype.runTransaction=function(t){var e=this;return this.uf().transaction((function(n){return t(new qC(e,n))}))},ZC.prototype.batch=function(){return this.uf(),new BC(this)},ZC.prototype.sf=function(){return this.df},ZC),qC=(JC.prototype.get=function(t){var e=this,n=vk(0,t,this.Af);return this.Rf.b_([n.__]).then((function(t){if(!t||1!==t.length)return Yv();if((t=t[0])instanceof _b)return new HC(e.Af,n.__,null,!1,!1,n.f_);if(t instanceof wb)return new HC(e.Af,n.__,t,!1,!1,n.f_);throw Yv()}))},JC.prototype.set=function(t,e,n){return t=vk(0,t,this.Af),n=kT("Transaction.set",n),e=yk(t.f_,e,n),n=pC(this.Af.wf,"Transaction.set",t.__,e,null!==t.f_,n),this.Rf.set(t.__,n),this},JC.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return e="string"==typeof e||e instanceof DT?(r=vk(0,t,this.Af),vC(this.Af.wf,"Transaction.update",r.__,e,n,i)):(r=vk(0,t,this.Af),dC(this.Af.wf,"Transaction.update",r.__,e)),this.Rf.update(r.__,e),this},JC.prototype.delete=function(t){return t=vk(0,t,this.Af),this.Rf.delete(t.__),this},JC),BC=(XC.prototype.set=function(t,e,n){return this.Vf(),t=vk(0,t,this.Af),n=kT("WriteBatch.set",n),e=yk(t.f_,e,n),n=pC(this.Af.wf,"WriteBatch.set",t.__,e,null!==t.f_,n),this.Pf=this.Pf.concat(n.d_(t.__,zm.ze())),this},XC.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return this.Vf(),e="string"==typeof e||e instanceof DT?(r=vk(0,t,this.Af),vC(this.Af.wf,"WriteBatch.update",r.__,e,n,i)):(r=vk(0,t,this.Af),dC(this.Af.wf,"WriteBatch.update",r.__,e)),this.Pf=this.Pf.concat(e.d_(r.__,zm.exists(!0))),this},XC.prototype.delete=function(t){return this.Vf(),t=vk(0,t,this.Af),this.Pf=this.Pf.concat(new cb(t.__,zm.ze())),this},XC.prototype.commit=function(){return this.Vf(),this.gf=!0,0<this.Pf.length?this.Af.uf().write(this.Pf):Promise.resolve()},XC.prototype.Vf=function(){if(this.gf)throw new qv(Vv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},XC),zC=(bo($C,RC=JT),$C.mf=function(t,e,n){if(t.length%2!=0)throw new qv(Vv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new $C(new Ty(t),e,n)},Object.defineProperty($C.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty($C.prototype,"parent",{get:function(){return new hk(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty($C.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),$C.prototype.collection=function(t){if(CT("DocumentReference.collection","path",t),!t)throw new qv(Vv.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");return t=Ey.q(t),new hk(this.__.path.child(t),this.firestore,null)},$C.prototype.isEqual=function(t){return t instanceof $C&&this.firestore===t.firestore&&this.__.isEqual(t.__)&&this.f_===t.f_},$C.prototype.set=function(t,e){return e=kT("DocumentReference.set",e),t=yk(this.f_,t,e),e=pC(this.firestore.wf,"DocumentReference.set",this.__,t,null!==this.f_,e),this.lf.write(e.d_(this.__,zm.ze()))},$C.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return t="string"==typeof t||t instanceof DT?vC(this.firestore.wf,"DocumentReference.update",this.__,t,e,n):dC(this.firestore.wf,"DocumentReference.update",this.__,t),this.lf.write(t.d_(this.__,zm.exists(!0)))},$C.prototype.delete=function(){return this.lf.write([new cb(this.__,zm.ze())])},$C.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||PC(e[i])||(r=e[i],i++);var o={includeMetadataChanges:r.includeMetadataChanges};PC(e[i])&&(a=e[i],e[i]=null===(r=a.next)||void 0===r?void 0:r.bind(a),e[i+1]=null===(r=a.error)||void 0===r?void 0:r.bind(a),e[i+2]=null===(r=a.complete)||void 0===r?void 0:r.bind(a));var a={next:function(n){e[i]&&e[i](t.yf(n))},error:e[i+1],complete:e[i+2]};return this.lf.listen(Ab(this.__.path),o,a)},$C.prototype.get=function(t){var e=this,n=this.firestore.uf();return t&&"cache"===t.source?n.q_(this.__).then((function(t){return new HC(e.firestore,e.__,t,!0,t instanceof wb&&t.Ye,e.f_)})):n.U_(this.__,t).then((function(t){return e.yf(t)}))},$C.prototype.withConverter=function(t){return new $C(this.__,this.firestore,t)},$C.prototype.yf=function(t){var e=t.docs.get(this.__);return new HC(this.firestore,this.__,e,t.fromCache,t.hasPendingWrites,this.f_)},$C),WC=(YC.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},YC),HC=(QC.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.pf){if(this.f_){var n=new KC(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(n,t)}return new DC(this.Af.l_,t.serverTimestamps||"none",(function(t){return new zC(t,e.Af,null)}),(function(t){return new ly(t)})).J_(this.pf.rn())}},QC.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.pf&&null!==(t=this.pf.data().field(_C("DocumentSnapshot.get",t,this.__))))return new DC(this.Af.l_,e.serverTimestamps||"none",(function(t){return new zC(t,n.Af,n.f_)}),(function(t){return new ly(t)})).J_(t)},Object.defineProperty(QC.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(QC.prototype,"ref",{get:function(){return new zC(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(QC.prototype,"exists",{get:function(){return null!==this.pf},enumerable:!1,configurable:!0}),Object.defineProperty(QC.prototype,"metadata",{get:function(){return new WC(this.vf,this.bf)},enumerable:!1,configurable:!0}),QC.prototype.isEqual=function(t){return t instanceof QC&&this.Af===t.Af&&this.bf===t.bf&&this.__.isEqual(t.__)&&(null===this.pf?null===t.pf:this.pf.isEqual(t.pf))&&this.f_===t.f_},QC),KC=(bo(GC,xC=HC),GC.prototype.data=function(t){return xC.prototype.data.call(this,t)},GC);function GC(){return null!==xC&&xC.apply(this,arguments)||this}function QC(t,e,n,r,i,o){this.Af=t,this.__=e,this.pf=n,this.bf=r,this.vf=i,this.f_=o}function YC(t,e){this.hasPendingWrites=t,this.fromCache=e}function $C(t,e,n){var r=this;return(r=RC.call(this,e.l_,t,n)||this).__=t,r.firestore=e,r.f_=n,r.lf=r.firestore.uf(),r}function XC(t){this.Af=t,this.Pf=[],this.gf=!1}function JC(t,e){this.Af=t,this.Rf=e}function ZC(t,e,n){var r=this;if(void 0===n&&(n=new jC),this.hf=n,this.cf=null,this.rf=new zw,this.INTERNAL={delete:function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options)n=t,this.cf=n,this.l_=ZC._f(n),this.af=n.name,this.ff=new AS(e);else{if(!(t=t).projectId)throw new qv(Vv.INVALID_ARGUMENT,"Must provide projectId");this.l_=new hy(t.projectId,t.database),this.af="[DEFAULT]",this.ff=new kS}this.df=new MC({})}function tk(){}function ek(){}function nk(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qv(Vv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=L_._o;else{if(t.cacheSizeBytes!==LC&&t.cacheSizeBytes<L_.lo)throw new qv(Vv.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+L_.lo);this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,AT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function rk(t,e,n,r){this._=t,this.G_=e,this.z_=n,this.H_=r}function ik(t,e,n){if("string"==typeof n){if(""===n)throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rb(e)&&-1!==n.indexOf("/"))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(Ey.q(n)),!Ty.X(e))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return qg(t,new Ty(e))}if(n instanceof JT)return qg(t,n.__);throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+NT(n)+".")}function ok(t,e){if(!Array.isArray(t)||0===t.length)throw new qv(Vv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new qv(Vv.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ak(t,e,n){if(!n.isEqual(e))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function sk(t){if(Ob(t)&&0===t.on.length)throw new qv(Vv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uk,ck=(dk.prototype.where=function(t,e,n){return t=_C("Query.where",t),e=function(t,e,n,r,i,o){if(r.W()){if("array-contains"===i||"array-contains-any"===i)throw new qv(Vv.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){ok(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(ik(n,t,c))}l={arrayValue:{values:a}}}else l=ik(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||ok(o,i),l=yC(e,"Query.where",o,"in"===i||"not-in"===i);var l=Hb.create(r,i,l);return function(t,e){if(e.un()){var n=xb(t);if(null!==n&&!n.isEqual(e.field))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=Pb(t))&&ak(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new qv(Vv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new qv(Vv.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,l),l}(this.Sf,this.firestore.wf,this.firestore.l_,t,e,n),new dk((e=(n=this.Sf).filters.concat([e]),new Sb(n.path,n.collectionGroup,n.on.slice(),e,n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.f_)},dk.prototype.orderBy=function(t,e){if(void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new qv(Vv.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var n;return t=_C("Query.orderBy",t),t=function(t,e,n){if(null!==t.startAt)throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return n=e=new bw(e,n),null!==Pb(t)||null!==(t=xb(t))&&ak(0,t,n.field),e}(this.Sf,t,n),new dk((t=(n=this.Sf).on.concat([t]),new Sb(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.f_)},dk.prototype.limit=function(t){return OT("Query.limit",t),new dk(Mb(this.Sf,t,"F"),this.firestore,this.f_)},dk.prototype.limitToLast=function(t){return OT("Query.limitToLast",t),new dk(Mb(this.Sf,t,"L"),this.firestore,this.f_)},dk.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Df("Query.startAt",t,e,!0),new dk(Fb(this.Sf,t),this.firestore,this.f_)},dk.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Df("Query.startAfter",t,e,!1),new dk(Fb(this.Sf,t),this.firestore,this.f_)},dk.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Df("Query.endBefore",t,e,!0),new dk(jb(this.Sf,t),this.firestore,this.f_)},dk.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Df("Query.endAt",t,e,!1),new dk(jb(this.Sf,t),this.firestore,this.f_)},dk.prototype.isEqual=function(t){return t instanceof dk&&this.firestore===t.firestore&&Ub(this.Sf,t.Sf)&&this.f_===t.f_},dk.prototype.withConverter=function(t){return new dk(this.Sf,this.firestore,t)},dk.prototype.Df=function(t,e,n,r){return e instanceof HC?function(e,n,r,i){if(!r)throw new qv(Vv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=Db(e);a<s.length;a++){var u=s[a];if(u.field.W())o.push(qg(n,r.key));else{var c=r.field(u.field);if(Ng(c))throw new qv(Vv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.B(),new qv(Vv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new hw(o,i)}(this.Sf,this.firestore.l_,e.pf,r):(n=[e].concat(n),function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new qv(Vv.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.W()){if("string"!=typeof c)throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Rb(t)&&-1!==c.indexOf("/"))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ey.q(c));if(!Ty.X(l))throw new qv(Vv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new Ty(l),s.push(qg(e,l))}else c=yC(n,r,c),s.push(c)}return new hw(s,o)}(this.Sf,this.firestore.l_,this.firestore.wf,t,n,r))},dk.prototype.onSnapshot=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={},o=0;"object"!=typeof n[o]||PC(n[o])||(i=n[o],o++),PC(n[o])&&(a=n[o],n[o]=null===(t=a.next)||void 0===t?void 0:t.bind(a),n[o+1]=null===(t=a.error)||void 0===t?void 0:t.bind(a),n[o+2]=null===(t=a.complete)||void 0===t?void 0:t.bind(a));var a={next:function(t){n[o]&&n[o](new lk(e.firestore,e.Sf,t,e.f_))},error:n[o+1],complete:n[o+2]};return sk(this.Sf),this.firestore.uf().listen(this.Sf,i,a)},dk.prototype.get=function(t){var e=this;sk(this.Sf);var n=this.firestore.uf();return(t&&"cache"===t.source?n.K_(this.Sf):n.Q_(this.Sf,t)).then((function(t){return new lk(e.firestore,e.Sf,t,e.f_)}))},dk),lk=(Object.defineProperty(pk.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(pk.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(pk.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),pk.prototype.forEach=function(t,e){var n=this;this.Nf.docs.forEach((function(r){t.call(e,n.kf(r,n.metadata.fromCache,n.Nf.Qt.has(r.key)))}))},Object.defineProperty(pk.prototype,"query",{get:function(){return new ck(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),pk.prototype.docChanges=function(t){if((t=!(!t||!t.includeMetadataChanges))&&this.Nf.jt)throw new qv(Vv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===t||(this.xf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yv()}}(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.Nf,t,this.kf.bind(this)),this.Ff=t),this.xf},pk.prototype.isEqual=function(t){return t instanceof pk&&this.Af===t.Af&&Ub(this.Cf,t.Cf)&&this.Nf.isEqual(t.Nf)&&this.f_===t.f_},pk.prototype.kf=function(t,e,n){return new KC(this.Af,t.key,t,e,n,this.f_)},pk),hk=(bo(fk,uk=ck),Object.defineProperty(fk.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(fk.prototype,"parent",{get:function(){var t=this.Sf.path.F();return t.P()?null:new zC(new Ty(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(fk.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),fk.prototype.doc=function(t){return 0===arguments.length&&(t=Xv.t()),CT("CollectionReference.doc","path",t),t=Ey.q(t),zC.mf(this.Sf.path.child(t),this.firestore,this.f_)},fk.prototype.add=function(t){t=this.f_?this.f_.toFirestore(t):t;var e=this.doc();return new zC(e.__,this.firestore,null).set(t).then((function(){return e}))},fk.prototype.withConverter=function(t){return new fk(this.Of,this.firestore,t)},fk);function fk(t,e,n){var r=this;if(((r=uk.call(this,Ab(t),e,n)||this).Of=t).length%2!=1)throw new qv(Vv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.B()+" has "+t.length);return r}function pk(t,e,n,r){this.Af=t,this.Cf=e,this.Nf=n,this.f_=r,this.xf=null,this.Ff=null,this.metadata=new WC(n.hasPendingWrites,n.fromCache)}function dk(t,e,n){this.Sf=t,this.firestore=e,this.f_=n}function vk(t,e,n){if((e=function(t,e){if(t instanceof e)return t;if(e.name===t.constructor.name)throw new qv(Vv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=NT(t),new qv(Vv.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}(e,zC)).firestore!==n)throw new qv(Vv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function yk(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}bo(wk,gk=$T),wk.serverTimestamp=function(){var t=new HT("serverTimestamp");return t.t_="FieldValue.serverTimestamp",new wk(t)},wk.delete=function(){var t=new FT("deleteField");return t.t_="FieldValue.delete",new wk(t)},wk.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KT("arrayUnion",t)}.apply(void 0,t);return n.t_="FieldValue.arrayUnion",new wk(n)},wk.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new GT("arrayRemove",t)}.apply(void 0,t);return n.t_="FieldValue.arrayRemove",new wk(n)},wk.increment=function(t){return(t=new QT("increment",t)).t_="FieldValue.increment",new wk(t)},wk.prototype.isEqual=function(t){return this.u_.isEqual(t.u_)};var gk,mk,bk={Firestore:VC,GeoPoint:YT,Timestamp:wy,Blob:ly,Transaction:qC,WriteBatch:BC,DocumentReference:zC,DocumentSnapshot:HC,Query:ck,QueryDocumentSnapshot:KC,QuerySnapshot:lk,CollectionReference:hk,FieldPath:DT,FieldValue:Dr=wk,setLogLevel:function(t){Bv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:LC};function wk(){return null!==gk&&gk.apply(this,arguments)||this}(mk=Ja).INTERNAL.registerComponent(new _a("firestore",(function(t){return e=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal"),new VC(e,t,new UC);var e}),"PUBLIC").setServiceProps(Object.assign({},bk))),mk.registerVersion("@firebase/firestore","2.0.0");var _k,Ek={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sk=(bo(Ik,_k=Error),Ik);function Ik(t,e,n){return e=_k.call(this,e)||this,Object.setPrototypeOf(e,Ik.prototype),e.code=t,e.details=n,e}function Tk(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!Ek[s])return new Sk("internal","internal");r=Ek[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new Sk(r,i,o)}var Ck=(kk.prototype.getAuthToken=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},kk.prototype.getInstanceIdToken=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},kk.prototype.getContext=function(){return _o(this,void 0,void 0,(function(){var t,e;return Eo(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},kk);function kk(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function Ak(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var Nk=(Ok.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Ak(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},Ok.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Ak(t,(function(t){return e.decode(t)})):t},Ok);function Ok(){}var Pk,xk,Rk,Dk=(Object.defineProperty(Lk.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Lk.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},Lk.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},Lk.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},Lk.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},Lk.prototype.postJSON=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},Lk.prototype.call=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(t,e){l=setTimeout((function(){e(new Sk("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([Mk(s,this.postJSON(r,i,o)),a,Mk(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new Sk("cancelled","Firebase Functions instance was deleted.");if(s=Tk(a.status,a.json,this.serializer))throw s;if(!a.json)throw new Sk("internal","Response is not valid JSON object.");if(void 0===(s=a.json.data)&&(s=a.json.result),void 0===s)throw new Sk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},Lk);function Lk(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new Nk,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Ck(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function Mk(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function Fk(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function jk(t,e,n){var r,i=new Promise((function(i,o){Fk(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Uk(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Vk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return jk(this[e],r,arguments)})}))}function qk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Bk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=jk(t,r,arguments)).then((function(t){if(t)return new Wk(t,n.request)}));var t,n})}))}function zk(t){this._index=t}function Wk(t,e){this._cursor=t,this._request=e}function Hk(t){this._store=t}function Kk(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function Gk(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Kk(n)}function Qk(t){this._db=t}function Yk(t,e,n){var r=(e=jk(indexedDB,"open",[t,e])).request;return r&&(r.onupgradeneeded=function(t){n&&n(new Gk(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new Qk(t)}))}function $k(t){return jk(indexedDB,"deleteDatabase",[t])}Pk=Ja,xk=fetch.bind(self),Rk={Functions:Dk},Pk.INTERNAL.registerComponent(new _a("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new Dk(n,r,t,e,xk)}),"PUBLIC").setServiceProps(Rk).setMultipleInstances(!0)),Ja.registerVersion("@firebase/functions","0.6.0"),Uk(zk,"_index",["name","keyPath","multiEntry","unique"]),Vk(zk,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Bk(zk,"_index",IDBIndex,["openCursor","openKeyCursor"]),Uk(Wk,"_cursor",["direction","key","primaryKey","value"]),Vk(Wk,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Wk.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Fk(e._request).then((function(t){if(t)return new Wk(t,e._request)}))}))})})),Hk.prototype.createIndex=function(){return new zk(this._store.createIndex.apply(this._store,arguments))},Hk.prototype.index=function(){return new zk(this._store.index.apply(this._store,arguments))},Uk(Hk,"_store",["name","keyPath","indexNames","autoIncrement"]),Vk(Hk,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Bk(Hk,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),qk(Hk,"_store",IDBObjectStore,["deleteIndex"]),Kk.prototype.objectStore=function(){return new Hk(this._tx.objectStore.apply(this._tx,arguments))},Uk(Kk,"_tx",["objectStoreNames","mode"]),qk(Kk,"_tx",IDBTransaction,["abort"]),Gk.prototype.createObjectStore=function(){return new Hk(this._db.createObjectStore.apply(this._db,arguments))},Uk(Gk,"_db",["name","version","objectStoreNames"]),qk(Gk,"_db",IDBDatabase,["deleteObjectStore","close"]),Qk.prototype.transaction=function(){return new Kk(this._db.transaction.apply(this._db,arguments))},Uk(Qk,"_db",["name","version","objectStoreNames"]),qk(Qk,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Hk,zk].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[zk,Hk].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Xk=1e4,Jk="w:0.4.18",Zk="FIS_v2",tA="https://firebaseinstallations.googleapis.com/v1",eA=36e5,nA=((F={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',F["not-registered"]="Firebase Installation is not registered.",F["installation-not-found"]="Firebase Installation not found.",F["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',F["app-offline"]="Could not process request. Application offline.",F["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Yo("installations","Installations",Dr=F));function rA(t){return t instanceof Go&&t.code.includes("request-failed")}function iA(t){return t=t.projectId,tA+"/projects/"+t+"/installations"}function oA(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function aA(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=(n=r.sent()).error,[2,nA.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function sA(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uA(t,e){return e=e.refreshToken,(t=sA(t)).append("Authorization",Zk+" "+e),t}function cA(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function lA(t){return new Promise((function(e){setTimeout(e,t)}))}var hA=/^[cdef][\w-]{21}$/,fA="";function pA(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=function(t){return btoa(String.fromCharCode.apply(String,To(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22),hA.test(t)?t:fA}catch(t){return fA}}function dA(t){return t.appName+"!"+t.appId}var vA=new Map;function yA(t,e){gA(t=dA(t),e),function(t,e){var n=bA();n&&n.postMessage({key:t,fid:e}),wA()}(t,e)}function gA(t,e){var n,r,i=vA.get(t);if(i)try{for(var o=So(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var mA=null;function bA(){return!mA&&"BroadcastChannel"in self&&((mA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){gA(t.data.key,t.data.fid)}),mA}function wA(){0===vA.size&&mA&&(mA.close(),mA=null)}var _A,EA="firebase-installations-database",SA=1,IA="firebase-installations-store",TA=null;function CA(){return TA=TA||Yk(EA,SA,(function(t){0===t.oldVersion&&t.createObjectStore(IA)}))}function kA(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return n=dA(t),[4,CA()];case 1:return i=a.sent(),r=i.transaction(IA,"readwrite"),[4,(i=r.objectStore(IA)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||yA(t,e.fid),[2,e]}}))}))}function AA(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=dA(t),[4,CA()];case 1:return[4,(n=(n=r.sent()).transaction(IA,"readwrite")).objectStore(IA).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function NA(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return n=dA(t),[4,CA()];case 1:return i=s.sent(),r=i.transaction(IA,"readwrite"),[4,(i=r.objectStore(IA)).get(n)];case 2:return o=s.sent(),void 0!==(a=e(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||yA(t,a.fid),[2,a]}}))}))}function OA(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,NA(t,(function(n){return n=xA(n||{fid:pA(),registrationStatus:0}),n=function(t,e){return 0!==e.registrationStatus?1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,PA(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,lA(100)];case 3:return i.sent(),[4,PA(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,OA(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e}:navigator.onLine?(t=function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return _o(this,void 0,void 0,(function(){var e,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return e=iA(t),r=sA(t),a={fid:n,authVersion:Zk,appId:t.appId,sdkVersion:Jk},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,cA((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:oA(a.authToken)}];case 3:return[4,aA("Create Installation",o)];case 4:throw s.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,kA(t,n)];case 2:return rA(r=i.sent())&&409===r.customData.serverCode?[4,AA(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,kA(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:e,registrationPromise:t}):{installationEntry:e,registrationPromise:Promise.reject(nA.create("app-offline"))}}(t,n),e=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==fA?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function PA(t){return NA(t,(function(t){if(!t)throw nA.create("installation-not-found");return xA(t)}))}function xA(t){return 1===(e=t).registrationStatus&&e.registrationTime+Xk<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function RA(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return _o(this,void 0,void 0,(function(){var t,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,iA(t)+"/"+e+"/authTokens:generate"}(n,e),i=uA(n,e),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:Jk}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,cA((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,oA(s=u.sent())];case 3:return[4,aA("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function DA(t,e){return void 0===e&&(e=!1),_o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return[4,NA(t.appConfig,(function(r){if(!MA(r))throw nA.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eA}(i)){if(1===o.requestStatus)return n=function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,LA(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,lA(100)];case 3:return r.sent(),[4,LA(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,DA(t,e)]:[2,n]}}))}))}(t,e),r;if(!navigator.onLine)throw nA.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=wo(wo({},i),{authToken:o}),n=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,RA(t,e)];case 1:return n=o.sent(),i=wo(wo({},e),{authToken:n}),[4,kA(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!rA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,AA(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=wo(wo({},e),{authToken:{requestStatus:0}}),[4,kA(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function LA(t){return NA(t,(function(t){if(!MA(t))throw nA.create("not-registered");var e=t.authToken;return 1===(e=e).requestStatus&&e.requestTime+Xk<Date.now()?wo(wo({},t),{authToken:{requestStatus:0}}):t}))}function MA(t){return void 0!==t&&2===t.registrationStatus}function FA(t,e){return void 0===e&&(e=!1),_o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,OA(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,DA(t,e)];case 2:return[2,n.sent().token]}}))}))}function jA(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,iA(t)+"/"+e}(t,e),i=uA(t,e),r={method:"DELETE",headers:i},[4,cA((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,aA("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function UA(t,e){var n=t.appConfig;return function(t,e){bA();var n=dA(t);(t=vA.get(n))||(t=new Set,vA.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=dA(t=n),(t=vA.get(i))&&(t.delete(r),0===t.size&&vA.delete(i),wA())}}function VA(t){return nA.create("missing-app-config-values",{valueName:t})}(_A=Ja).INTERNAL.registerComponent(new _a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw VA("App Configuration");if(!t.name)throw VA("App Name");try{for(var r=So(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw VA(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,OA(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||DA(t)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return FA(n,t)},delete:function(){return function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,NA(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw nA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw nA.create("app-offline");case 3:return[4,jA(e,n)];case 4:return r.sent(),[4,AA(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return UA(n,t)}}}),"PUBLIC")),_A.registerVersion("@firebase/installations","0.4.18"),(F={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',F["only-available-in-window"]="This method is available in a Window context.",F["only-available-in-sw"]="This method is available in a service worker context.",F["permission-default"]="The notification permission was not granted and dismissed instead.",F["permission-blocked"]="The notification permission was not granted and blocked instead.",F["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",F["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",F["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",F["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",F["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",F["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",F["token-update-no-token"]="FCM returned no token when updating the user to push.",F["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",F["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",F["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",F["invalid-vapid-key"]="The public VAPID key must be a string.",F["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var qA,BA=new Yo("messaging","Messaging",Dr=F),zA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WA="https://fcmregistrations.googleapis.com/v1",HA="FCM_MSG",KA="google.c.a.c_id";function GA(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,To(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(F=qA=qA||{}).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked";var QA="fcm_token_details_db",YA=5,$A="fcm_token_object_Store";function XA(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(QA))return[2,null];r.label=2;case 2:return e=null,[4,Yk(QA,YA,(function(r){return _o(n,void 0,void 0,(function(){var n,i,o;return Eo(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains($A)?[4,(o=r.transaction.objectStore($A)).index("fcmSenderId").get(t)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:GA(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:GA(i.auth),p256dh:GA(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:GA(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,$k(QA)];case 4:return r.sent(),[4,$k("fcm_vapid_details_db")];case 5:return r.sent(),[4,$k("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var JA="firebase-messaging-database",ZA=1,tN="firebase-messaging-store",eN=null;function nN(){return eN=eN||Yk(JA,ZA,(function(t){0===t.oldVersion&&t.createObjectStore(tN)}))}function rN(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=oN(t),[4,nN()];case 1:return[4,r.sent().transaction(tN).objectStore(tN).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,XA(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,iN(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function iN(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return n=oN(t),[4,nN()];case 1:return[4,(r=(r=i.sent()).transaction(tN,"readwrite")).objectStore(tN).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}}))}))}function oN(t){return t.appConfig.appId}function aN(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,uN(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(sN(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,BA.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),BA.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function sN(t){return t=t.projectId,WA+"/projects/"+t+"/registrations"}function uN(t){var e=t.appConfig,n=t.installations;return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function cN(t){var e=t.p256dh,n=t.auth;return e={web:{endpoint:t.endpoint,auth:n,p256dh:e}},(t=t.vapidKey)!==zA&&(e.web.applicationPubKey=t),e}function lN(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw BA.create("permission-blocked");return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}}))}))}(e,n)];case 1:return o=a.sent(),[4,rN(t)];case 2:return r=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:GA(o.getKey("auth")),p256dh:GA(o.getKey("p256dh"))},r?[3,3]:[2,fN(t,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,aN(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,fN(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,uN(t)];case 1:n=a.sent(),r=cN(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(sN(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),BA.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,BA.create("token-update-failed",{errorInfo:o});if(!i.token)throw BA.create("token-update-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return r=a.sent(),i=wo(wo({},t),{token:r,createTime:Date.now()}),[4,iN(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,hN(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function hN(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,rN(t)];case 1:return(n=r.sent())?[4,aN(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=oN(t),[4,nN()];case 1:return[4,(n=(n=r.sent()).transaction(tN,"readwrite")).objectStore(tN).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function fN(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,uN(t)];case 1:n=a.sent(),r=cN(e),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(sN(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),BA.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,BA.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw BA.create("token-subscribe-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,iN(t,n)];case 2:return r.sent(),[2,n.token]}}))}))}function pN(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n),(n=e.notification.body)&&(t.notification.body=n),(e=e.notification.image)&&(t.notification.image=e)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n),(e=e.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=e)}}(e,t),e}function dN(t){return"object"==typeof t&&t&&KA in t}var vN=(Object.defineProperty(yN.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),yN.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw BA.create("invalid-bg-handler");this.bgMessageHandler=t},yN.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},yN.prototype.getToken=function(){var t;return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,rN(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:zA,n.label=2;case 2:return[2,lN(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},yN.prototype.deleteToken=function(){return hN(this.firebaseDependencies,self.registration)},yN.prototype.requestPermission=function(){throw BA.create("only-available-in-window")},yN.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw BA.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw BA.create("invalid-vapid-key");this.vapidKey=t},yN.prototype.useServiceWorker=function(){throw BA.create("only-available-in-window")},yN.prototype.onMessage=function(){throw BA.create("only-available-in-window")},yN.prototype.onTokenRefresh=function(){throw BA.create("only-available-in-window")},yN.prototype.onPush=function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return(r=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,gN()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=qA.PUSH_RECEIVED;try{for(var i=So(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((s=wo({},(o=r).notification)).data=((a={})[HA]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(r=pN(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[2]}var o,a,s}))}))},yN.prototype.onSubChange=function(t){var e;return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,hN(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,rN(this.firebaseDependencies)];case 3:return n=r.sent(),[4,hN(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,lN(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:zA)];case 5:return r.sent(),[2]}}))}))},yN.prototype.onNotificationClick=function(t){var e;return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[HA])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||(dN(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return[4,gN()];case 1:e=u.sent();try{for(n=So(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,(u=3e3,new Promise((function(t){setTimeout(t,u)})))];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=qA.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}var u}))}))},yN);function yN(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function gN(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var mN=(Object.defineProperty(bN.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),bN.prototype.messageEventListener=function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===qA.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),dN(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},bN.prototype.getVapidKey=function(){return this.vapidKey},bN.prototype.getSwReg=function(){return this.swRegistration},bN.prototype.getToken=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw BA.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,lN(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},bN.prototype.updateVapidKey=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=zA),[2]}))}))},bN.prototype.updateSwReg=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw BA.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},bN.prototype.registerDefaultSw=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=e.sent(),BA.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},bN.prototype.deleteToken=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,hN(this.firebaseDependencies,this.swRegistration)]}}))}))},bN.prototype.requestPermission=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?BA.create("permission-blocked"):BA.create("permission-default")}}))}))},bN.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw BA.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw BA.create("invalid-vapid-key");this.vapidKey=t},bN.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw BA.create("invalid-sw-registration");if(this.swRegistration)throw BA.create("use-sw-after-get-token");this.swRegistration=t},bN.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},bN.prototype.setBackgroundMessageHandler=function(){throw BA.create("only-available-in-sw")},bN.prototype.onBackgroundMessage=function(){throw BA.create("only-available-in-sw")},bN.prototype.onTokenRefresh=function(){return function(){}},bN.prototype.logEvent=function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case qA.NOTIFICATION_CLICKED:return"notification_open";case qA.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[KA],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},bN);function bN(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function wN(t){return BA.create("missing-app-config-values",{valueName:t})}function _N(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Dr={isSupported:_N},Ja.INTERNAL.registerComponent(new _a("messaging",(function(t){var e=t.getProvider("app").getImmediate();if(t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw wN("App Configuration Object");if(!t.name)throw wN("App Name");var r=t.options;try{for(var i=So(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw wN(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")},!_N())throw BA.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?vN:mN)(t)}),"PUBLIC").setServiceProps(Dr));var EN,SN="firebasestorage.googleapis.com",IN=12e4,TN=6e5,CN=(bo(kN,EN=Go),kN.prototype.codeEquals=function(t){return NN(t)===this.code},Object.defineProperty(kN.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(kN.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),kN);function kN(t,e){return(e=EN.call(this,NN(t),"Firebase Storage: "+e)||this).customData={serverResponse:null},Object.setPrototypeOf(e,kN.prototype),e}var AN={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function NN(t){return"storage/"+t}function ON(){return new CN(AN.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function PN(){return new CN(AN.CANCELED,"User canceled the upload/download.")}function xN(){return new CN(AN.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RN(){return new CN(AN.APP_DELETED,"The Firebase app was deleted.")}function DN(t,e){return new CN(AN.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function LN(t){throw new CN(AN.INTERNAL_ERROR,"Internal error: "+t)}var MN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},FN=function(t,e){this.data=t,this.contentType=e||null};function jN(t,e){switch(t){case MN.RAW:return new FN(UN(e));case MN.BASE64:case MN.BASE64URL:return new FN(VN(t,e));case MN.DATA_URL:return new FN(function(t){return(t=new BN(t)).base64?VN(MN.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw DN(MN.DATA_URL,"Malformed data URL.")}return UN(e)}(t.rest)}(e),new BN(e).contentType)}throw ON()}function UN(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function VN(t,e){switch(t){case MN.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw DN(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case MN.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw DN(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw DN(t,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var qN,BN=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw DN(MN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=";base64",(e=r).length>=n.length&&e.substring(e.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},zN={STATE_CHANGED:"state_changed"},WN="running",HN="pausing",KN="paused",GN="success",QN="canceling",YN="canceled",$N="error",XN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JN(t){switch(t){case WN:case HN:case QN:return XN.RUNNING;case KN:return XN.PAUSED;case GN:return XN.SUCCESS;case YN:return XN.CANCELED;case $N:default:return XN.ERROR}}function ZN(t){return null!=t}function tO(t){return"string"==typeof t||t instanceof String}function eO(t){return nO()&&t instanceof Blob}function nO(){return"undefined"!=typeof Blob}function rO(t,e,n,r){if(r<e)throw new CN(AN.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n<r)throw new CN(AN.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}(F=qN=qN||{})[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT";var iO=(oO.prototype.send=function(t,e,n,r){if(this.sent_)throw LN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),ZN(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return ZN(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},oO.prototype.getErrorCode=function(){if(!this.sent_)throw LN("cannot .getErrorCode() before sending");return this.errorCode_},oO.prototype.getStatus=function(){if(!this.sent_)throw LN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}},oO.prototype.getResponseText=function(){if(!this.sent_)throw LN("cannot .getResponseText() before sending");return this.xhr_.responseText},oO.prototype.abort=function(){this.xhr_.abort()},oO.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},oO.prototype.addUploadProgressListener=function(t){ZN(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},oO.prototype.removeUploadProgressListener=function(t){ZN(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},oO);function oO(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=qN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=qN.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=qN.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var aO=(sO.prototype.createXhrIo=function(){return new iO},sO);function sO(){}function uO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(nO())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var cO=(lO.prototype.size=function(){return this.size_},lO.prototype.type=function(){return this.type_},lO.prototype.slice=function(t,e){if(eO(this.data_)){var n=this.data_;return null===(r=t,i=e,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new lO(i)}var r,i;return new lO(new Uint8Array(this.data_.buffer,t,e-t),!0)},lO.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(nO()){var n=t.map((function(t){return t instanceof lO?t.data_:t}));return new lO(uO.apply(null,n))}n=t.map((function(t){return tO(t)?jN(MN.RAW,t).data:t.data_}));var r=0;n.forEach((function(t){r+=t.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]})),new lO(i,!0)},lO.prototype.uploadData=function(){return this.data_},lO);function lO(t,e){var n=0,r="";eO(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var hO=(Object.defineProperty(fO.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(fO.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),fO.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},fO.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},fO.makeFromBucketSpec=function(t){var e,n;try{e=fO.makeFromUrl(t)}catch(e){return new fO(t,"")}if(""===e.path)return e;throw n=t,new CN(AN.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},fO.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=SN.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(t);if(c){e=new fO(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw n=t,new CN(AN.INVALID_URL,"Invalid URL '"+n+"'.");return e},fO);function fO(t,e){this.bucket=t,this.path_=e}function pO(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function dO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function vO(t){return"https://"+SN+"/v0"+t}function yO(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function gO(t,e){return e}var mO=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||gO},bO=null;function wO(){if(bO)return bO;var t=[];t.push(new mO("bucket")),t.push(new mO("generation")),t.push(new mO("metageneration")),t.push(new mO("name","fullPath",!0));var e=new mO("name");return e.xform=function(t,e){return!tO(e=e)||e.length<2?e:dO(e)},t.push(e),(e=new mO("size")).xform=function(t,e){return ZN(e)?Number(e):e},t.push(e),t.push(new mO("timeCreated")),t.push(new mO("updated")),t.push(new mO("md5Hash",null,!0)),t.push(new mO("cacheControl",null,!0)),t.push(new mO("contentDisposition",null,!0)),t.push(new mO("contentEncoding",null,!0)),t.push(new mO("contentLanguage",null,!0)),t.push(new mO("contentType",null,!0)),t.push(new mO("metadata","customMetadata",!0)),bO=t}function _O(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath;return r=new hO(n,r),e.makeStorageReference(r)}})}function EO(t,e,n){return null===(e=pO(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return _O(r,t),r}(t,e,n)}function SO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var IO="prefixes",TO="items";function CO(t,e,n){return null===(n=pO(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[IO])for(var i=0,o=n[IO];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new hO(e,a));r.prefixes.push(s)}if(n[TO])for(var u=0,c=n[TO];u<c.length;u++){var l=c[u];s=t.makeStorageReference(new hO(e,l.name)),r.items.push(s)}return r}(t,e,n)}var kO=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function AO(t){if(!t)throw ON()}function NO(t,e){return function(n,r){return AO(null!==(r=EO(t,r,e))),r}}function OO(t,e){return function(n,r){return AO(null!==(r=CO(t,e,r))),r}}function PO(t,e){return function(n,r){var i=EO(t,r,e);return AO(null!==i),function(t,e){if(null===(e=pO(e)))return null;if(!tO(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var n=encodeURIComponent;return e.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return vO("/b/"+n(r)+"/o/"+n(i))+yO({alt:"media",token:e})}))[0]}(i,r)}}function xO(t){return function(e,n){var r,i=401===e.getStatus()?new CN(AN.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,new CN(AN.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,new CN(AN.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function RO(t){var e=xO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(n=t.path,i=new CN(AN.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function DO(t,e,n){var r=vO(e.fullServerUrl()),i=t.maxOperationRetryTime;return(i=new kO(r,"GET",NO(t,n),i)).errorHandler=RO(e),i}function LO(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}function MO(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=LO(e,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+SO(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=cO.getBlob(i,r,s)))throw xN();return s={name:u.fullPath},u=vO(o),o=t.maxUploadRetryTime,(o=new kO(u,"POST",NO(t,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=xO(e),o}var FO=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function jO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){AO(!1)}return AO(!!n&&-1!==(e||["active"]).indexOf(n)),n}function UO(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=LO(e,r,i);return i={name:a.fullPath},o=vO(o),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=SO(a,n),t=t.maxUploadRetryTime,(t=new kO(o,"POST",(function(t){var e;jO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){AO(!1)}return AO(tO(e)),e}),t)).urlParams=i,t.headers=r,t.body=n,t.errorHandler=xO(e),t}function VO(t,e,n,r){return t=t.maxUploadRetryTime,(t=new kO(n,"POST",(function(t){var e=jO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){AO(!1)}n||AO(!1);var i=Number(n);return AO(!isNaN(i)),new FO(i,r.size(),"final"===e)}),t)).headers={"X-Goog-Upload-Command":"query"},t.errorHandler=xO(e),t}function qO(t,e,n,r,i,o,a,s){var u=new FO(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new CN(AN.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw xN();return i=e.maxUploadRetryTime,(i=new kO(n,"POST",(function(t,n){var i=jO(t,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?NO(e,o)(t,n):null,new FO(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=xO(t),i}var BO=function(t,e,n){"function"==typeof t||ZN(e)||ZN(n)?(this.next=t,this.error=e||null,this.complete=n||null):(t=t,this.next=t.next||null,this.error=t.error||null,this.complete=t.complete||null)},zO=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function WO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var HO=(KO.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},KO.prototype.shouldDoResumable_=function(t){return 262144<t.size()},KO.prototype.start_=function(){this.state_===WN&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},KO.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case WN:t(n);break;case QN:e.transition_(YN);break;case HN:e.transition_(KN)}}))},KO.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=UO(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},KO.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=VO(t.service_,t.location_,e,t.blob_);n=t.service_.makeRequest(r,n),(t.request_=n).getPromise().then((function(e){t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},KO.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new FO(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=qO(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(i){return t.error_=i,void t.transition_($N)}i=t.service_.makeRequest(o,i),(t.request_=i).getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(GN)):t.completeTransitions_()}),t.errorHandler_)}))},KO.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},KO.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=DO(t.service_,t.location_,t.mappings_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(GN)}),t.metadataErrorHandler_)}))},KO.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=MO(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(GN)}),t.errorHandler_)}))},KO.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},KO.prototype.transition_=function(t){if(this.state_!==t)switch(t){case QN:case HN:this.state_=t,null!==this.request_&&this.request_.cancel();break;case WN:var e=this.state_===KN;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case KN:this.state_=t,this.notifyObservers_();break;case YN:this.error_=PN(),this.state_=t,this.notifyObservers_();break;case $N:case GN:this.state_=t,this.notifyObservers_()}},KO.prototype.completeTransitions_=function(){switch(this.state_){case HN:this.transition_(KN);break;case QN:this.transition_(YN);break;case WN:this.start_()}},Object.defineProperty(KO.prototype,"snapshot",{get:function(){var t=JN(this.state_);return new zO(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),KO.prototype.on=function(t,e,n,r){var i=this,o=new BO(e,n,r);return this.addObserver_(o),function(){i.removeObserver_(o)}},KO.prototype.then=function(t,e){return this.promise_.then(t,e)},KO.prototype.catch=function(t){return this.then(null,t)},KO.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},KO.prototype.removeObserver_=function(t){-1!==(t=this.observers_.indexOf(t))&&this.observers_.splice(t,1)},KO.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},KO.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(JN(this.state_)){case XN.SUCCESS:WO(this.resolve_.bind(null,this.snapshot))();break;case XN.CANCELED:case XN.ERROR:WO(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},KO.prototype.notifyObserver_=function(t){switch(JN(this.state_)){case XN.RUNNING:case XN.PAUSED:t.next&&WO(t.next.bind(t,this.snapshot))();break;case XN.SUCCESS:t.complete&&WO(t.complete.bind(t))();break;case XN.CANCELED:case XN.ERROR:t.error&&WO(t.error.bind(t,this.error_))();break;default:t.error&&WO(t.error.bind(t,this.error_))()}},KO.prototype.resume=function(){var t=this.state_===KN||this.state_===HN;return t&&this.transition_(WN),t},KO.prototype.pause=function(){var t=this.state_===WN;return t&&this.transition_(HN),t},KO.prototype.cancel=function(){var t=this.state_===WN||this.state_===HN;return t&&this.transition_(QN),t},KO);function KO(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=WN,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(AN.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_($N))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(AN.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_($N))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}var GO=(QO.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},QO.prototype.newRef=function(t,e){return new QO(t,e)},QO.prototype.mappings=wO,QO.prototype.child=function(t){var e;return e=this.location.path,t=(t=t).split("/").filter((function(t){return 0<t.length})).join("/"),t=0===e.length?t:e+"/"+t,t=new hO(this.location.bucket,t),this.newRef(this.service,t)},Object.defineProperty(QO.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);return null===t?null:(t=new hO(this.location.bucket,t),this.newRef(this.service,t))},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"root",{get:function(){var t=new hO(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"name",{get:function(){return dO(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),QO.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new HO(this,this.service,this.location,this.mappings(),new cO(t),e)},QO.prototype.putString=function(t,e,n){return void 0===e&&(e=MN.RAW),this.throwIfRoot_("putString"),t=jN(e,t),!ZN((n=Object.assign({},n)).contentType)&&ZN(t.contentType)&&(n.contentType=t.contentType),new HO(this,this.service,this.location,this.mappings(),new cO(t.data,!0),n)},QO.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n,r,i=(i=t.service,r=vO((n=t.location).fullServerUrl()),i=i.maxOperationRetryTime,(i=new kO(r,"DELETE",(function(t,e){}),i)).successCodes=[200,204],i.errorHandler=RO(n),i);return t.service.makeRequest(i,e).getPromise()}))},QO.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},QO.prototype.listAllHelper=function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return r={pageToken:e},[4,this.list(r)];case 1:return n=i.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},QO.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&rO("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r,i,o,a,s,u=(r=e.service,i=e.location,o="/",a=n.pageToken,u=n.maxResults,s={},i.isRoot?s.prefix="":s.prefix=i.path+"/",o&&0<o.length&&(s.delimiter=o),a&&(s.pageToken=a),u&&(s.maxResults=u),a=vO(i.bucketOnlyServerUrl()),u=r.maxOperationRetryTime,(u=new kO(a,"GET",OO(r,i.bucket),u)).urlParams=s,u.errorHandler=xO(i),u);return e.service.makeRequest(u,t).getPromise()}))},QO.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=DO(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},QO.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r,i,o,a,s,u=(r=e.service,i=e.location,u=t,o=e.mappings(),a=vO(i.fullServerUrl()),s=SO(u,o),u=r.maxOperationRetryTime,(u=new kO(a,"PATCH",NO(r,o),u)).headers={"Content-Type":"application/json; charset=utf-8"},u.body=s,u.errorHandler=RO(i),u);return e.service.makeRequest(u,n).getPromise()}))},QO.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n,r,i,o,a=(n=t.service,r=t.location,i=t.mappings(),o=vO(r.fullServerUrl()),a=n.maxOperationRetryTime,(a=new kO(o,"GET",PO(n,i),a)).errorHandler=RO(r),a);return t.service.makeRequest(a,e).getPromise().then((function(t){if(null===t)throw new CN(AN.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}))},QO.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw t=t,new CN(AN.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},QO);function QO(t,e){this.service=t,this.location=e instanceof hO?e:hO.makeFromUrl(e)}var YO=($O.prototype.getPromise=function(){return this.promise_},$O.prototype.cancel=function(t){},$O);function $O(t){this.promise_=Promise.reject(t)}var XO=(JO.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(t){i(t)}else null!==o?((n=ON()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?RN:PN)()):i(n=new CN(AN.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||h()||o?f.call.apply(f,Co([null,t],e)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),p(0)):t||(a=1)))}this.canceled_?l(0,new ZO(!1,null,!0)):this.backoffId_=(t=function(t,e){function n(t){var e=t.loaded;t=t.lengthComputable?t.total:-1,null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new ZO(!1,null,!0)):(e=c.pool_.createXhrIo(),c.pendingXhr_=e,null!==c.progressCallback_&&e.addUploadProgressListener(n),e.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(n),c.pendingXhr_=null;var r=e.getErrorCode()===qN.NO_ERROR,i=e.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),t(!0,new ZO(i,e))):(e=e.getErrorCode()===qN.ABORT,t(!1,new ZO(!1,null,e)))})))},e=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){v(o=!0)}),n),v)},JO.prototype.getPromise=function(){return this.promise_},JO.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},JO.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t);return t=-1!==this.additionalRetryCodes_.indexOf(t),e||n||t},JO);function JO(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var ZO=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function tP(t,e,n,r){var i=yO(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return i=a,(e=e)&&(i["X-Firebase-GMPID"]=e),e=a,null!==(n=n)&&0<n.length&&(e.Authorization="Firebase "+n),e=a,n=void 0!==Ja?Ja.SDK_VERSION:"AppManager",e["X-Firebase-Storage-Version"]="webjs/"+n,new XO(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var eP=(nP.extractBucket_=function(t){return null==(t=null==t?void 0:t.storageBucket)?null:hO.makeFromBucketSpec(t)},nP.prototype.getAuthToken=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}}))}))},nP.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},nP.prototype.makeStorageReference=function(t){return new GO(this,t)},nP.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new YO(RN());var r=tP(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},nP.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new CN(AN.INVALID_ARGUMENT,"Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new GO(this,this.bucket_);return null!=t?e.child(t):e},nP.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new CN(AN.INVALID_ARGUMENT,"Expected full URL but got a child path, use ref instead.");try{hO.makeFromUrl(t)}catch(t){throw new CN(AN.INVALID_ARGUMENT,"Expected valid full URL but got an invalid one.")}return new GO(this,t)},Object.defineProperty(nP.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),nP.prototype.setMaxUploadRetryTime=function(t){rO("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(nP.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),nP.prototype.setMaxOperationRetryTime=function(t){rO("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(nP.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(nP.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),nP);function nP(t,e,n,r){this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=e,this.maxOperationRetryTime_=IN,this.maxUploadRetryTime_=TN,this.requests_=new Set,this.pool_=n,this.bucket_=null!=r?hO.makeFromBucketSpec(r):nP.extractBucket_(null===(r=this.app_)||void 0===r?void 0:r.options),this.internals_=new oP(this)}var rP,iP,oP=(aP.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},aP);function aP(t){this.service_=t}function sP(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),new eP(n,t,new aO,e)}iP={TaskState:XN,TaskEvent:zN,StringFormat:MN,Storage:eP,Reference:GO},(rP=Ja).INTERNAL.registerComponent(new _a("storage",sP,"PUBLIC").setServiceProps(iP).setMultipleInstances(!0)),rP.registerVersion("@firebase/storage","0.4.0");var uP,cP,lP="0.4.3",hP="FB-PERF-TRACE-MEASURE",fP="@firebase/performance/config",pP="@firebase/performance/configexpire",dP=(Dr="Performance",(F={})["trace started"]="Trace {$traceName} was started before.",F["trace stopped"]="Trace {$traceName} is not running.",F["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",F["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",F["no window"]="Window is not available.",F["no app id"]="App id is not available.",F["no project id"]="Project id is not available.",F["no api key"]="Api key is not available.",F["invalid cc log"]="Attempted to queue invalid cc event",F["FB not default"]="Performance can only start when Firebase app instance is the default one.",F["RC response not ok"]="RC response is not ok",F["invalid attribute name"]="Attribute name {$attributeName} is invalid.",F["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",F["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",F["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Yo("performance",Dr,F=F)),vP=new La(Dr);vP.logLevel=Na.INFO;var yP,gP=(mP.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},mP.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},mP.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},mP.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},mP.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},mP.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},mP.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Bo()||(vP.info("IndexedDB is not supported by current browswer"),!1):(vP.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},mP.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},mP.getInstance=function(){return void 0===uP&&(uP=new mP(cP)),uP},mP);function mP(t){if(!(this.window=t))throw dP.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function bP(t,e){var n=t.length-e.length;if(n<0||1<n)throw dP.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var wP,_P,EP=(SP.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw dP.create("no app id");return t},SP.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw dP.create("no project id");return t},SP.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw dP.create("no api key");return t},SP.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},SP.getInstance=function(){return void 0===yP&&(yP=new SP),yP},SP);function SP(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=bP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=bP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Dr=_P=_P||{})[Dr.UNKNOWN=0]="UNKNOWN",Dr[Dr.VISIBLE=1]="VISIBLE",Dr[Dr.HIDDEN=2]="HIDDEN";var IP=["firebase_","google_","ga_"],TP=new RegExp("^[a-zA-Z]\\w*$");function CP(){switch(gP.getInstance().document.visibilityState){case"visible":return _P.VISIBLE;case"hidden":return _P.HIDDEN;default:return _P.UNKNOWN}}var kP="0.0.1",AP={loggingEnabled:!0},NP="FIREBASE_INSTALLATIONS_AUTH";function OP(t){var e,n=function(){var t=gP.getInstance().localStorage;if(t){var e=t.getItem(pP);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(fP);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(xP(n),Promise.resolve()):(e=t,function(){var t=EP.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+EP.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+EP.getInstance().getApiKey();return t=new Request(n,{method:"POST",headers:{Authorization:NP+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:EP.getInstance().getAppId(),app_version:lP,sdk_version:kP})}),fetch(t).then((function(t){if(t.ok)return t.json();throw dP.create("RC response not ok")}))})).catch((function(){vP.info(PP)})).then(xP).then((function(t){var e=gP.getInstance().localStorage;t&&e&&(e.setItem(fP,JSON.stringify(t)),e.setItem(pP,String(Date.now()+60*EP.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var PP="Could not fetch config, will use default configs";function xP(t){if(!t)return t;var e=EP.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):AP.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=RP(e.tracesSamplingRate),e.logNetworkAfterSampling=RP(e.networkRequestsSamplingRate),t}function RP(t){return Math.random()<=t}var DP,LP=1;function MP(){return LP=2,DP=DP||function(){var t=gP.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=EP.getInstance().installationsService.getId()).then((function(t){wP=t})),t;var t})).then(OP).then(FP,FP)}function FP(){LP=3}var jP,UP=1e4,VP=5500,qP=3,BP=qP,zP=[],WP=!1;function HP(t){setTimeout((function(){if(0!==BP)return zP.length?void function(){var t=Co(zP);zP=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=EP.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||vP.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=UP;isNaN(n)||(r=Math.max(n,r)),t=t.logResponseDetails,Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(zP=Co(e,zP),vP.info("Retry transport request later.")),BP=qP,HP(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:EP.getInstance().logSource,log_event:e},t).catch((function(){zP=Co(t,zP),BP--,vP.info("Tries left: "+BP+"."),HP(UP)}))}():HP(UP)}),t)}function KP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw dP.create("invalid cc log");zP=Co(zP,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function GP(t,e){(jP=jP||KP($P))(t,e)}function QP(t){var e=EP.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&gP.getInstance().requiredApisAvailable()&&(t.isAuto&&CP()!==_P.VISIBLE||(3===LP?YP(t):MP().then((function(){return YP(t)}),(function(){return YP(t)}))))}function YP(t){var e;!wP||(e=EP.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return GP(t,1)}),0)}function $P(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:XP(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:XP(),trace_metric:e},JSON.stringify(e)})(t)}function XP(){return{google_app_id:EP.getInstance().getAppId(),app_instance_id:wP,web_app_info:{sdk_version:lP,page_url:gP.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=gP.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:CP(),effective_connection_type:function(){var t=gP.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var JP=["_fp","_fcp","_fid"],ZP=(tx.prototype.start=function(){if(1!==this.state)throw dP.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},tx.prototype.stop=function(){if(2!==this.state)throw dP.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),QP(this)},tx.prototype.record=function(t,e,n){if(t<=0)throw dP.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw dP.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=wo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}QP(this)},tx.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},tx.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<JP.indexOf(n))&&n.startsWith("_"))throw dP.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&vP.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},tx.prototype.getMetric=function(t){return this.counters[t]||0},tx.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length)&&!IP.some((function(t){return n.startsWith(t)}))&&!!n.match(TP),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw dP.create("invalid attribute name",{attributeName:t});if(!i)throw dP.create("invalid attribute value",{attributeValue:e})}},tx.prototype.getAttribute=function(t){return this.customAttributes[t]},tx.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},tx.prototype.getAttributes=function(){return wo({},this.customAttributes)},tx.prototype.setStartTime=function(t){this.startTimeUs=t},tx.prototype.setDuration=function(t){this.durationUs=t},tx.prototype.calculateTraceMetrics=function(){var t;(t=(t=this.api.getEntriesByName(this.traceMeasure))&&t[0])&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},tx.createOobTrace=function(t,e,n){var r,i=gP.getInstance().getUrl();i&&(r=new tx("_wt_"+i,!0),i=Math.floor(1e3*gP.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find((function(t){return"first-paint"===t.name})))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find((function(t){return"first-contentful-paint"===t.name})))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),QP(r))},tx.createUserTimingTrace=function(t){QP(new tx(t,!1,t))},tx);function tx(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=gP.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||hP+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function ex(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=gP.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=EP.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return GP(e,0)}),0)))}var nx=5e3;function rx(){wP&&(setTimeout((function(){var t,e=gP.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){ZP.createOobTrace(n,r),t=void 0}),nx),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),ZP.createOobTrace(n,r,e))}))):ZP.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=gP.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)ex(n[e]);t.setupObserver("resource",ex)}),0),setTimeout((function(){for(var t=gP.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ix(n[e]);t.setupObserver("measure",ix)}),0))}function ix(t){(t=t.name).substring(0,hP.length)!==hP&&ZP.createUserTimingTrace(t)}var ox,ax=(sx.prototype.trace=function(t){return new ZP(t)},Object.defineProperty(sx.prototype,"instrumentationEnabled",{get:function(){return EP.getInstance().instrumentationEnabled},set:function(t){EP.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(sx.prototype,"dataCollectionEnabled",{get:function(){return EP.getInstance().dataCollectionEnabled},set:function(t){EP.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),sx);function sx(t){this.app=t,gP.getInstance().requiredApisAvailable()&&zo().then((function(t){t&&(WP||(HP(VP),WP=!0),MP().then(rx,rx))})).catch((function(t){vP.info("Environment doesn't support IndexedDB: "+t)}))}function ux(t,e){if("[DEFAULT]"!==t.name)throw dP.create("FB not default");if("undefined"==typeof window)throw dP.create("no window");return cP=window,EP.getInstance().firebaseAppInstance=t,EP.getInstance().installationsService=e,new ax(t)}(ox=Ja).INTERNAL.registerComponent(new _a("performance",(function(t){return ux(t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate())}),"PUBLIC")),ox.registerVersion("@firebase/performance","0.4.3");var cx,lx,hx="firebase_id",fx="origin",px=6e4,dx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vx="https://www.googletagmanager.com/gtag/js";(Dr=cx=cx||{}).EVENT="event",Dr.SET="set",Dr.CONFIG="config",(Dr=lx=lx||{}).ADD_SHIPPING_INFO="add_shipping_info",Dr.ADD_PAYMENT_INFO="add_payment_info",Dr.ADD_TO_CART="add_to_cart",Dr.ADD_TO_WISHLIST="add_to_wishlist",Dr.BEGIN_CHECKOUT="begin_checkout",Dr.CHECKOUT_PROGRESS="checkout_progress",Dr.EXCEPTION="exception",Dr.GENERATE_LEAD="generate_lead",Dr.LOGIN="login",Dr.PAGE_VIEW="page_view",Dr.PURCHASE="purchase",Dr.REFUND="refund",Dr.REMOVE_FROM_CART="remove_from_cart",Dr.SCREEN_VIEW="screen_view",Dr.SEARCH="search",Dr.SELECT_CONTENT="select_content",Dr.SELECT_ITEM="select_item",Dr.SELECT_PROMOTION="select_promotion",Dr.SET_CHECKOUT_OPTION="set_checkout_option",Dr.SHARE="share",Dr.SIGN_UP="sign_up",Dr.TIMING_COMPLETE="timing_complete",Dr.VIEW_CART="view_cart",Dr.VIEW_ITEM="view_item",Dr.VIEW_ITEM_LIST="view_item_list",Dr.VIEW_PROMOTION="view_promotion",Dr.VIEW_SEARCH_RESULTS="view_search_results";var yx=new La("@firebase/analytics");function gx(t,e,n,r){return function(i,o,a){return _o(this,void 0,void 0,(function(){var s;return Eo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==cx.EVENT?[3,2]:[4,function(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Eo(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(t){var n;if(!(n=(n=a.find((function(e){return e.measurementId===t})))&&e[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(cx.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),yx.error(h),[3,5];case 5:return[2]}}))}))}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==cx.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return _o(this,void 0,void 0,(function(){var a,s;return Eo(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(t){return t.measurementId===i})))?[4,e[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),yx.error(s),[3,8];case 8:return t(cx.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(cx.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),yx.error(s),[3,7];case 7:return[2]}}))}))}}(Dr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Dr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Dr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Dr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Dr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Dr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Dr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var mx=new Yo("analytics","Analytics",Dr=Dr),bx=30;function wx(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var _x=new(wx.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},wx.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},wx.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},wx);function Ex(t){var e;return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=dx.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw mx.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function Sx(t,e,n){return void 0===e&&(e=_x),_o(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Eo(this,(function(c){if(a=t.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw mx.create("no-app-id");if(i)return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Tx,setTimeout((function(){return _o(u,void 0,void 0,(function(){return Eo(this,(function(t){return s.abort(),[2]}))}))}),void 0!==n?n:px),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=_x),_o(this,void 0,void 0,(function(){var n,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:n=e.appId,s=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(f=r,p=o,new Promise((function(t,e){var n=Math.max(p-Date.now(),0),r=setTimeout(t,n);f.addEventListener((function(){clearTimeout(r),e(mx.create("fetch-throttle",{throttleEndTimeMillis:p}))}))})))];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return yx.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,Ex(e)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(Ix(u=h.sent()))return c=503===Number(u.customData.httpStatus)?wa(a,i.intervalMillis,bx):wa(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),yx.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,l,r,i)];if(i.deleteThrottleMetadata(n),s)return yx.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}var f,p}))}))}({appId:r,apiKey:i,measurementId:o},a,s,e)];if(o)return[2,{measurementId:o,appId:r}];throw mx.create("no-api-key")}))}))}function Ix(t){if(t instanceof Go&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}var Tx=(Cx.prototype.addEventListener=function(t){this.listeners.push(t)},Cx.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},Cx);function Cx(){this.listeners=[]}function kx(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return(o=Sx(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&yx.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return yx.error(t)})),e.push(o),a=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return Bo()?[3,1]:(yx.warn(mx.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,zo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),yx.warn(mx.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=u.sent(),o=s[0],a=s[1],i("js",new Date),(s={})[fx]="firebase",s.update=!0,s=s,null!=a&&(s[hx]=a),i(cx.CONFIG,o.measurementId,s),[2,o.measurementId]}}))}))}var Ax,Nx,Ox={},Px=[],xx={},Rx="dataLayer",Dx="gtag",Lx=!1;function Mx(t){if(Lx)throw mx.create("already-initialized");t.dataLayerName&&(Rx=t.dataLayerName),t.gtagName&&(Dx=t.gtagName)}function Fx(t,e){n=[],Uo()&&n.push("This is a browser extension environment."),Wo()||n.push("Cookies are not available."),0<n.length&&(n=n.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=mx.create("invalid-analytics-context",{errorInfo:n}),yx.warn(n.message));var n,r,i,o,a,s,u=t.options.appId;if(!u)throw mx.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw mx.create("no-api-key");yx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ox[u])throw mx.create("already-exists",{id:u});return Lx||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(vx))return r}}()||(a=Rx,(s=document.createElement("script")).src=vx+"?l="+a,s.async=!0,document.head.appendChild(s)),i=Rx,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,n=Ox,a=Px,s=xx,r=Rx,i=Dx,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=gx(o,n,a,s),i={gtagCore:o,wrappedGtag:window[i]},Nx=i.wrappedGtag,Ax=i.gtagCore,Lx=!0),Ox[u]=kx(t,Px,xx,e,Ax),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o;return Eo(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(cx.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=wo(wo({},r),{send_to:o}),t(cx.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(Nx,Ox[u],t,e,n).catch((function(t){return yx.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i;return Eo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(cx.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(cx.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Nx,Ox[u],t,e).catch((function(t){return yx.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i;return Eo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(cx.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(cx.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Nx,Ox[u],t,e).catch((function(t){return yx.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a,s,u;return Eo(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(cx.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(cx.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Nx,Ox[u],t,e).catch((function(t){return yx.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Ox[u],t).catch((function(t){return yx.error(t)}))},INTERNAL:{delete:function(){return delete Ox[u],Promise.resolve()}}}}var jx,Ux="analytics";function Vx(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:if(Uo())return[2,!1];if(!Wo())return[2,!1];if(!Bo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,zo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}(jx=Ja).INTERNAL.registerComponent(new _a(Ux,(function(t){return Fx(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Mx,EventName:lx,isSupported:Vx})),jx.INTERNAL.registerComponent(new _a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Ux).getImmediate().logEvent}}catch(t){throw mx.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),jx.registerVersion("@firebase/analytics","0.6.1");var qx=(Bx.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e;return e=n<=t,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},Bx.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},Bx);function Bx(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}(Dr={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Dr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Dr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Dr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Dr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Dr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Dr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Dr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var zx=new Yo("remoteconfig","Remote Config",Dr=Dr),Wx=(Hx.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===f&&(f=navigator),f.languages&&f.languages[0]||f.language)},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),zx.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),zx.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw zx.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},Hx);function Hx(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var Kx=(Gx.prototype.addEventListener=function(t){this.listeners.push(t)},Gx.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},Gx);function Gx(){this.listeners=[]}var Qx=["1","true","t","yes","y","on"],Yx=($x.prototype.asString=function(){return this._value},$x.prototype.asBoolean=function(){return"static"!==this._source&&0<=Qx.indexOf(this._value.toLowerCase())},$x.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},$x.prototype.getSource=function(){return this._source},$x);function $x(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var Xx=(Jx.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Na.DEBUG;break;case"silent":this._logger.logLevel=Na.SILENT;break;default:this._logger.logLevel=Na.ERROR}},Object.defineProperty(Jx.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(Jx.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),Jx.prototype.activate=function(){return _o(this,void 0,void 0,(function(){var t,e;return Eo(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},Jx.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},Jx.prototype.fetch=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r=this;return Eo(this,(function(i){switch(i.label){case 0:t=new Kx,setTimeout((function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),a="fetch-throttle",n=(o=e)instanceof Go&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,a}))}))},Jx.prototype.fetchAndActivate=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},Jx.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(wo(wo({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},Jx.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},Jx.prototype.getNumber=function(t){return this.getValue(t).asNumber()},Jx.prototype.getString=function(t){return this.getValue(t).asString()},Jx.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Yx("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Yx("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Yx("static"))},Jx);function Jx(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function Zx(t,e){return t=t.target.error||void 0,zx.create(e,{originalErrorMessage:t&&t.message})}var tR="app_namespace_store",eR="firebase_remote_config",nR=1,rR=(iR.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},iR.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},iR.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},iR.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},iR.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},iR.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},iR.prototype.getActiveConfig=function(){return this.get("active_config")},iR.prototype.setActiveConfig=function(t){return this.set("active_config",t)},iR.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},iR.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},iR.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},iR.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},iR.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},iR.prototype.get=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([tR],"readonly").objectStore(tR),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(Zx(t,"storage-get"))},s.onsuccess=function(t){t=t.target.result,r(t?t.value:void 0)}}catch(o){i(zx.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},iR.prototype.set=function(t,e){return _o(this,void 0,void 0,(function(){var n,r=this;return Eo(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([tR],"readwrite").objectStore(tR),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(Zx(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(zx.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},iR.prototype.delete=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([tR],"readwrite").objectStore(tR),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(Zx(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(zx.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},iR.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},iR);function iR(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(eR,nR);n.onerror=function(t){e(Zx(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(tR,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var oR=(aR.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},aR.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},aR.prototype.getActiveConfig=function(){return this.activeConfig},aR.prototype.loadFromStorage=function(){return _o(this,void 0,void 0,(function(){var t,e,n;return Eo(this,(function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},aR.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},aR.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},aR.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},aR);function aR(t){this.storage=t}var sR=(uR.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},uR.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return _o(this,void 0,void 0,(function(){var e,i;return Eo(this,(function(o){switch(o.label){case 0:return[4,(a=t.signal,s=n,new Promise((function(t,e){var n=Math.max(s-Date.now(),0),r=setTimeout(t,n);a.addEventListener((function(){clearTimeout(r),e(zx.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof Go&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+wa(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var a,s}))}))},uR);function uR(t,e){this.client=t,this.storage=e}var cR,lR="@firebase/remote-config";return(cR=Ja).INTERNAL.registerComponent(new _a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw zx.create("registration-window");var i=(s=n.options).projectId,o=s.apiKey,a=s.appId;if(!i)throw zx.create("registration-project-id");if(!o)throw zx.create("registration-api-key");if(!a)throw zx.create("registration-app-id");e=e||"firebase";var s,u=new rR(a,n.name,e);return t=new oR(u),(s=new La(lR)).logLevel=Na.ERROR,a=new Wx(r,cR.SDK_VERSION,e,i,o,a),a=new sR(a,u),a=new qx(a,u,t,s),(s=new Xx(n,a,t,u,s)).ensureInitialized(),s}),"PUBLIC").setMultipleInstances(!0)),cR.registerVersion(lR,"0.1.29"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Ja.registerVersion("firebase","8.0.0","cdn"),Ja}()}).call(this,n(25),n(24))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n(16);var r=n(0),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},function(t,e,n){"use strict";var r=n(16),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),k(a,e,n,"",(function(t){return t}))):null!=a&&(I(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+C(s=t[c],c);u+=k(s,e,n,l,a)}else if("function"===typeof(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(s=t.next()).done;)u+=k(s=s.value,e,n,l=r+C(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function A(t,e,n){if(null==t)return t;var r=[],i=0;return k(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function N(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var O={current:null};function P(){var t=O.current;if(null===t)throw Error(p(321));return t}var x={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error(p(143));return t}},e.Component=y,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)_.call(e,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var r=n(0),i=n(16),o=n(35);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function y(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,I=60107,T=60108,C=60114,k=60109,A=60110,N=60112,O=60113,P=60120,x=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),I=U("react.fragment"),T=U("react.strict_mode"),C=U("react.profiler"),k=U("react.provider"),A=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),P=U("react.suspense_list"),x=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=q&&t[q]||t["@@iterator"])?t:null}function z(t){if(void 0===V)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var W=!1;function H(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function K(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 22:return t=H(t.type._render,!1);case 1:return t=H(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case S:return"Portal";case C:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case N:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case x:return G(t.type);case D:return G(t._render);case R:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function Q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function $(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Q(n)}}function ct(t,e){var n=Q(e.value),r=Q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,yt,gt=(yt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function _t(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_t(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){wt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var St=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,e){if(e){if(St[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Tt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,At=null,Nt=null;function Ot(t){if(t=ti(t)){if("function"!==typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),kt(t.stateNode,t.type,e))}}function Pt(t){At?Nt?Nt.push(t):Nt=[t]:At=t}function xt(){if(At){var t=At,e=Nt;if(Nt=At=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(t,e){return t(e)}function Dt(t,e,n,r,i){return t(e,n,r,i)}function Lt(){}var Mt=Rt,Ft=!1,jt=!1;function Ut(){null===At&&null===Nt||(Lt(),xt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var qt=!1;if(h)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(yt){qt=!1}function zt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var Wt=!1,Ht=null,Kt=!1,Gt=null,Qt={onError:function(t){Wt=!0,Ht=t}};function Yt(t,e,n,r,i,o,a,s,u){Wt=!1,Ht=null,zt.apply(Qt,arguments)}function $t(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if($t(t)!==t)throw Error(a(188))}function Zt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,ce=null,le=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=Zr(t.target);if(null!==e){var n=$t(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){me(t)&&n.delete(e)}function we(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==ce&&me(ce)&&(ce=null),le.forEach(be),he.forEach(be)}function _e(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,we)))}function Ee(t){function e(e){return _e(e,t)}if(0<ae.length){_e(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&_e(se,t),null!==ue&&_e(ue,t),null!==ce&&_e(ce,t),le.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Se(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ie={animationend:Se("Animation","AnimationEnd"),animationiteration:Se("Animation","AnimationIteration"),animationstart:Se("Animation","AnimationStart"),transitionend:Se("Transition","TransitionEnd")},Te={},Ce={};function ke(t){if(Te[t])return Te[t];if(!Ie[t])return t;var e,n=Ie[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Te[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);var Ae=ke("animationend"),Ne=ke("animationiteration"),Oe=ke("animationstart"),Pe=ke("transitionend"),xe=new Map,Re=new Map,De=["abort","abort",Ae,"animationEnd",Ne,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pe,"transitionEnd","waiting","waiting"];function Le(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),xe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Me=8;function Fe(t){if(0!==(1&t))return Me=15,1;if(0!==(2&t))return Me=14,2;if(0!==(4&t))return Me=13,4;var e=24&t;return 0!==e?(Me=12,e):0!==(32&t)?(Me=11,32):0!==(e=192&t)?(Me=10,e):0!==(256&t)?(Me=9,256):0!==(e=3584&t)?(Me=8,e):0!==(4096&t)?(Me=7,4096):0!==(e=4186112&t)?(Me=6,e):0!==(e=62914560&t)?(Me=5,e):67108864&t?(Me=4,67108864):0!==(134217728&t)?(Me=3,134217728):0!==(e=805306368&t)?(Me=2,e):0!==(1073741824&t)?(Me=1,1073741824):(Me=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Me=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Me=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Fe(u),i=Me):0!==(s&=o)&&(r=Fe(s),i=Me)}else 0!==(o=n&~a)?(r=Fe(o),i=Me):0!==s&&(r=Fe(s),i=Me);if(0===r)return 0;if(r=n&((0>(r=31-We(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Fe(e),i<=Me)return e;Me=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-We(e)),r|=t[n],e&=~i;return r}function Ue(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=qe(24&~e))?Ve(10,e):t;case 10:return 0===(t=qe(192&~e))?Ve(8,e):t;case 8:return 0===(t=qe(3584&~e))&&(0===(t=qe(4186112&~e))&&(t=512)),t;case 2:return 0===(e=qe(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function qe(t){return t&-t}function Be(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ze(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(He(t)/Ke|0)|0},He=Math.log,Ke=Math.LN2;var Ge=o.unstable_UserBlockingPriority,Qe=o.unstable_runWithPriority,Ye=!0;function $e(t,e,n,r){Ft||Lt();var i=Je,o=Ft;Ft=!0;try{Dt(i,t,e,n,r)}finally{(Ft=o)||Ut()}}function Xe(t,e,n,r){Qe(Ge,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Ye)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Ze(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ye(se,t,e,n,r,i),!0;case"dragenter":return ue=ye(ue,t,e,n,r,i),!0;case"mouseover":return ce=ye(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return le.set(o,ye(le.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,ye(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}xr(t,e,r,null,n)}}}function Ze(t,e,n,r){var i=Ct(r);if(null!==(i=Zr(i))){var o=$t(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),dn=i({},fn,{view:0,detail:0}),vn=un(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(cn=t.screenX-hn.screenX,ln=t.screenY-hn.screenY):ln=cn=0,hn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},dn,{relatedTarget:0})),wn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=un(i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),En=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Tn[t])&&!!e[t]}function kn(){return Cn}var An=un(i({},dn,{key:function(t){if(t.key){var e=Sn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?In[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Nn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=un(i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,Ln=null;h&&"documentMode"in document&&(Ln=document.documentMode);var Mn=h&&"TextEvent"in window&&!Ln,Fn=h&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zn[t.type]:"textarea"===e}function Hn(t,e,n,r){Pt(r),0<(e=Dr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){Cr(t,0)}function Yn(t){if(X(ei(t)))return t}function $n(t,e){if("change"===t)return e}var Xn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];if(Hn(e,Gn,t,Ct(t)),t=Qn,Ft)t(e);else{Ft=!0;try{Rt(t,e)}finally{Ft=!1,Ut()}}}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ur=Object.prototype.hasOwnProperty;function cr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function fr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Dr(gr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}Le("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Le("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Le(De,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Re.set(_r[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Tr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Yt.apply(this,arguments),Wt){if(!Wt)throw Error(a(198));var l=Ht;Wt=!1,Ht=null,Kt||(Kt=!0,Gt=l)}}(r,e,void 0,t),t.currentTarget=null}function Cr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Tr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Tr(i,s,c),o=u}}}if(Kt)throw t=Gt,Kt=!1,Gt=null,t}function kr(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(Pr(e,t,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Nr(t){t[Ar]||(t[Ar]=!0,s.forEach((function(e){Ir.has(e)||Or(e,!1,t,null),Or(e,!0,t,null)})))}function Or(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Ir.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Pr(o,t,i,e),a.add(s))}function Pr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=$e;break;case 1:i=Xe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!qt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(jt)return t(e,n);jt=!0;try{Mt(t,e,n)}finally{jt=!1,Ut()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=xe.get(t);if(void 0!==s){var u=pn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ae:case Ne:case Oe:u=wn;break;case Pe:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Vt(d,f))&&l.push(Rr(d,v,p)))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=$t(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Nn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ei(u),p=null==c?s:ei(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,Zr(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=Lr(p))d++;for(p=0,v=f;v;v=Lr(v))p++;for(;0<d-p;)l=Lr(l),d--;for(;0<p-d;)f=Lr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=Lr(l),f=Lr(f)}l=null}else l=null;null!==u&&Mr(a,s,u,l,!1),null!==c&&null!==h&&Mr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Wn(s))if(Xn)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(t,r))?Hn(a,y,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ei(r):window,t){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var m;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Bn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,t,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=qn(n))&&(b.data=m))),(m=Mn?function(t,e){switch(t){case"compositionend":return qn(e);case"keypress":return 32!==e.which?null:(Un=!0,jn);case"textInput":return(t=e.data)===jn&&Un?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&Vn(t,e)?(t=rn(),nn=en=tn=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Cr(a,e)}))}function Rr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Vt(t,n))&&r.unshift(Rr(t,o,i)),null!=(o=Vt(t,e))&&r.push(Rr(t,o,i))),t=t.return}return r}function Lr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Mr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Vt(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Vt(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Fr(){}var jr=null,Ur=null;function Vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function qr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,zr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Hr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Zr(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[Yr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[Yr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[Yr]||t[Xr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[$r]||null}function ri(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function ui(t,e){oi++,ii[oi]=t.current,t.current=e}var ci={},li=ai(ci),hi=ai(!1),fi=ci;function pi(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(){si(hi),si(li)}function yi(t,e,n){if(li.current!==ci)throw Error(a(168));ui(li,e),ui(hi,n)}function gi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,G(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,fi=li.current,ui(li,t),ui(hi,hi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=gi(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(li),ui(li,t)):si(hi),ui(hi,n)}var wi=null,_i=null,Ei=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,Ci=o.unstable_requestPaint,ki=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,xi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},Li=void 0!==Ci?Ci:function(){},Mi=null,Fi=null,ji=!1,Ui=ki(),Vi=1e4>Ui?ki:function(){return ki()-Ui};function qi(){switch(Ai()){case Ni:return 99;case Oi:return 98;case Pi:return 97;case xi:return 96;case Ri:return 95;default:throw Error(a(332))}}function Bi(t){switch(t){case 99:return Ni;case 98:return Oi;case 97:return Pi;case 96:return xi;case 95:return Ri;default:throw Error(a(332))}}function zi(t,e){return t=Bi(t),Ei(t,e)}function Wi(t,e,n){return t=Bi(t),Si(t,e,n)}function Hi(){if(null!==Fi){var t=Fi;Fi=null,Ii(t)}Ki()}function Ki(){if(!ji&&null!==Mi){ji=!0;var t=0;try{var e=Mi;zi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(n){throw null!==Mi&&(Mi=Mi.slice(t+1)),Si(Ni,Hi),n}finally{ji=!1}}}var Gi=_.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Yi=ai(null),$i=null,Xi=null,Ji=null;function Zi(){Ji=Xi=$i=null}function to(t){var e=Yi.current;si(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){$i=t,Ji=Xi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Xi){if(null===$i)throw Error(a(308));Xi=e,$i.dependencies={lanes:0,firstContext:e,responders:null}}else Xi=Xi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=v.payload)?d.call(p,f,u):d)||void 0===u)break t;f=i({},f,u);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=p,c=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,js|=s,t.lanes=s,t.memoizedState=f}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternals)&&$t(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cu(),r=lu(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),uo(t,i),hu(t,r,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=di(e)?fi:li.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?pi(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=di(e)?fi:li.current,i.context=pi(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var wo=Array.isArray;function _o(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===fo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function So(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=zu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Gu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=_o(t,e,n),r.return=t,r):((r=Wu(n.type,n.key,n.props,null,t.mode,r)).ref=_o(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Hu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Gu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case E:return(n=Wu(e.type,e.key,e.props,null,t.mode,n)).ref=_o(t,null,e),n.return=t,n;case S:return(e=Qu(e,t.mode,n)).return=t,e}if(wo(e)||B(e))return(e=Hu(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case S:return n.key===i?l(t,e,n,r):null}if(wo(n)||B(n))return null!==i?null:h(t,e,n,r,null);Eo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===I?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case S:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=d(h,i,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach((function(t){return e(i,t)})),c}function y(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=d(v,i,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=_o(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===I?((r=Hu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Wu(o.type,o.key,o.props,null,t.mode,u)).ref=_o(t,r,o),u.return=t,t=u)}return s(t);case S:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Qu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Gu(o,t.mode,u)).return=t,t=r),s(t);if(wo(o))return v(t,r,o,u);if(B(o))return y(t,r,o,u);if(l&&Eo(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(t.type)||"Component"))}return n(t,r)}}var Io=So(!0),To=So(!1),Co={},ko=ai(Co),Ao=ai(Co),No=ai(Co);function Oo(t){if(t===Co)throw Error(a(174));return t}function Po(t,e){switch(ui(No,e),ui(Ao,t),ui(ko,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(ko),ui(ko,e)}function xo(){si(ko),si(Ao),si(No)}function Ro(t){Oo(No.current);var e=Oo(ko.current),n=dt(e,t.type);e!==n&&(ui(Ao,t),ui(ko,n))}function Do(t){Ao.current===t&&(si(ko),si(Ao))}var Lo=ai(0);function Mo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fo=null,jo=null,Uo=!1;function Vo(t,e){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function qo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Bo(t){if(Uo){var e=jo;if(e){var n=e;if(!qo(t,e)){if(!(e=Hr(n.nextSibling))||!qo(t,e))return t.flags=-1025&t.flags|2,Uo=!1,void(Fo=t);Vo(Fo,n)}Fo=t,jo=Hr(e.firstChild)}else t.flags=-1025&t.flags|2,Uo=!1,Fo=t}}function zo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Fo=t}function Wo(t){if(t!==Fo)return!1;if(!Uo)return zo(t),Uo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!qr(e,t.memoizedProps))for(e=jo;e;)Vo(t,e),e=Hr(e.nextSibling);if(zo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){jo=Hr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}jo=null}}else jo=Fo?Hr(t.stateNode.nextSibling):null;return!0}function Ho(){jo=Fo=null,Uo=!1}var Ko=[];function Go(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var Qo=_.ReactCurrentDispatcher,Yo=_.ReactCurrentBatchConfig,$o=0,Xo=null,Jo=null,Zo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if($o=o,Xo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qo.current=null===t||null===t.memoizedState?Oa:Pa,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,e.updateQueue=null,Qo.current=xa,t=n(r,i)}while(ea)}if(Qo.current=Na,e=null!==Jo&&null!==Jo.next,$o=0,Zo=Jo=Xo=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t,Zo}function aa(){if(null===Jo){var t=Xo.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Zo?Xo.memoizedState:Zo.next;if(null!==e)Zo=e,Jo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t}return Zo}function sa(t,e){return"function"===typeof e?e(t):e}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Xo.lanes|=l,js|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,sr(r,e.memoizedState)||(Da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ca(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function la(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=($o&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function ha(t,e,n,r){var i=Os;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Qo.current,c=u.useState((function(){return la(i,e,n)})),l=c[1],h=c[0];c=Zo;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var y=Xo;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(h,t)||(l(t),t=lu(y),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-We(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=lu(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(d,n)&&sr(v,e)&&sr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=l=Aa.bind(null,Xo,t),c.queue=t,c.baseQueue=null,h=la(i,e,n),c.memoizedState=c.baseState=h),h}function fa(t,e,n){return ha(aa(),t,e,n)}function pa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Aa.bind(null,Xo,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Xo.updateQueue)?(e={lastEffect:null},Xo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function va(t){return t={current:t},oa().memoizedState=t}function ya(){return aa().memoizedState}function ga(t,e,n,r){var i=oa();Xo.flags|=t,i.memoizedState=da(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void da(e,n,o,r)}Xo.flags|=t,i.memoizedState=da(1|e,n,o,r)}function ba(t,e){return ga(516,4,t,e)}function wa(t,e){return ma(516,4,t,e)}function _a(t,e){return ma(4,2,t,e)}function Ea(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Sa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,Ea.bind(null,e,t),n)}function Ia(){}function Ta(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ca(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ka(t,e){var n=qi();zi(98>n?98:n,(function(){t(!0)})),zi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{t(!1),e()}finally{Yo.transition=n}}))}function Aa(t,e,n){var r=cu(),i=lu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Xo||null!==a&&a===Xo)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(c){}hu(t,i,r)}}var Na={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Oa={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ga(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Aa.bind(null,Xo,t),[r.memoizedState,t]},useRef:va,useState:pa,useDebugValue:Ia,useDeferredValue:function(t){var e=pa(t),n=e[0],r=e[1];return ba((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=pa(!1),e=t[0];return va(t=ka.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ha(r,t,e,n)},useOpaqueIdentifier:function(){if(Uo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=pa(e)[1];return 0===(2&Xo.mode)&&(Xo.flags|=516,da(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),e}return pa(e="r:"+(Gr++).toString(36)),e},unstable_isNewReconciler:!1},Pa={readContext:ro,useCallback:Ta,useContext:ro,useEffect:wa,useImperativeHandle:Sa,useLayoutEffect:_a,useMemo:Ca,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return wa((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},xa={readContext:ro,useCallback:Ta,useContext:ro,useEffect:wa,useImperativeHandle:Sa,useLayoutEffect:_a,useMemo:Ca,useReducer:ca,useRef:ya,useState:function(){return ca(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ca(sa),n=e[0],r=e[1];return wa((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ca(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Da=!1;function La(t,e,n,r){e.child=null===t?To(e,null,n,r):Io(e,t.child,n,r)}function Ma(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,La(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Fa(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Bu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ja(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=zu(a,r)).ref=e.ref,t.return=e,e.child=t)}function ja(t,e,n,r,i,o){if(null!==t&&cr(t.memoizedProps,r)&&t.ref===e.ref){if(Da=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return qa(t,e,n,r,o)}function Ua(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bu(e,t),null;e.memoizedState={baseLanes:0},bu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,bu(e,r);return La(t,e,i,n),e.child}function Va(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function qa(t,e,n,r,i){var o=di(n)?fi:li.current;return o=pi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,La(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ba(t,e,n,r,i){if(di(n)){var o=!0;mi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),go(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(e,c=di(n)?fi:li.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(e,a,r,c),io=!1;var f=e.memoizedState;a.state=f,lo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||hi.current||io?("function"===typeof l&&(po(e,n,l,r),u=e.memoizedState),(s=io||yo(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Qi(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(e,u=di(n)?fi:li.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&mo(e,a,r,u),io=!1,f=e.memoizedState,a.state=f,lo(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||hi.current||io?("function"===typeof p&&(po(e,n,p,r),d=e.memoizedState),(c=io||yo(e,n,c,r,f,d,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return za(t,e,n,r,o,i)}function za(t,e,n,r,i,o){Va(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&bi(e,n,!1),ns(t,e,o);r=e.stateNode,Ra.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Io(e,t.child,null,o),e.child=Io(e,null,s,o)):La(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function Wa(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Po(t,e.containerInfo)}var Ha,Ka,Ga,Qa={dehydrated:null,retryLane:0};function Ya(t,e,n){var r,i=e.pendingProps,o=Lo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Lo,1&o),null===t?(void 0!==i.fallback&&Bo(e),t=i.children,o=i.fallback,a?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,t):"number"===typeof i.unstable_expectedLoadTime?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,e.lanes=33554432,t):((n=Ku({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ja(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Qa,i):(n=Xa(t,e,i.children,n),e.memoizedState=null,n))}function $a(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ku(e,i,0,null),n=Hu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Xa(t,e,n,r){var i=t.child;return t=i.sibling,n=zu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ja(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=zu(a,s),null!==t?r=zu(t,r):(r=Hu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Za(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(La(t,e,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Za(t,n);else if(19===t.tag)Za(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(Lo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Mo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Mo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),js|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=zu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=zu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!Uo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&vi(),null;case 3:return xo(),si(hi),si(li),Go(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Wo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Oo(No.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Oo(ko.current),Wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[$r]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(t=0;t<Sr.length;t++)kr(Sr[t],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":tt(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ut(r,s),kr("invalid",r)}for(var c in It(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":$(r),rt(r,s,!0);break;case"textarea":$(r),lt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Fr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Yr]=e,t[$r]=r,Ha(t,e),e.stateNode=t,c=Tt(n,r),n){case"dialog":kr("cancel",t),kr("close",t),o=r;break;case"iframe":case"object":case"embed":kr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)kr(Sr[o],t);o=r;break;case"source":kr("error",t),o=r;break;case"img":case"image":case"link":kr("error",t),kr("load",t),o=r;break;case"details":kr("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),kr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),kr("invalid",t);break;default:o=r}It(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Et(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&mt(t,h):"number"===typeof h&&mt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&kr("scroll",t):null!=h&&w(t,s,h,c))}switch(n){case"input":$(t),rt(t,r,!1);break;case"textarea":$(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Fr)}Vr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ga(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Oo(No.current),Oo(ko.current),Wo(e)?(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=e,e.stateNode=r)}return null;case 13:return si(Lo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Wo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Os||0===(134217727&js)&&0===(134217727&Us)||vu(Os,xs))),(r||n)&&(e.flags|=4),null);case 4:return xo(),null===t&&Nr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return di(e.type)&&vi(),null;case 19:if(si(Lo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Mo(t))){for(e.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(Lo,1&Lo.current|2),e.child}t=t.sibling}null!==r.tail&&Vi()>zs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Mo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>zs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=Lo.current,ui(Lo,s?1&e|2:1&e),n):null;case 23:case 24:return wu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:di(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(xo(),si(hi),si(li),Go(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return si(Lo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(Lo),null;case 4:return xo(),null;case 10:return to(t),null;case 23:case 24:return wu(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ha=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Oo(ko.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Fr)}for(h in It(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&kr("scroll",t),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ga=function(t,e,n,r){n!==r&&(e.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function cs(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Qs=r),ss(0,e)},n}function ls(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Fu(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Wr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,t),Ru(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ee(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_t("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(t,e){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(wi,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(e,n);else{r=e;try{i()}catch(o){Fu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Fu(e,o)}break;case 5:fs(e);break;case 4:Es(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ws(t,n,e):_s(t,n,e)}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Fr));else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function Es(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(ys(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[$r]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Tt(t,i),e=Tt(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Et(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?mt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Ee(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Bs=Vi(),vs(e.child,!0)),void Is(e);case 19:return void Is(e);case 17:return;case 23:case 24:return void vs(e,null!==e.memoizedState)}throw Error(a(163))}function Is(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=Uu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ts(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Cs=Math.ceil,ks=_.ReactCurrentDispatcher,As=_.ReactCurrentOwner,Ns=0,Os=null,Ps=null,xs=0,Rs=0,Ds=ai(0),Ls=0,Ms=null,Fs=0,js=0,Us=0,Vs=0,qs=null,Bs=0,zs=1/0;function Ws(){zs=Vi()+500}var Hs,Ks=null,Gs=!1,Qs=null,Ys=null,$s=!1,Xs=null,Js=90,Zs=[],tu=[],eu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!==(48&Ns)?Vi():-1!==iu?iu:iu=Vi()}function lu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===qi()?1:2;if(0===ou&&(ou=Fs),0!==Gi.transition){0!==au&&(au=null!==qs?qs.pendingLanes:0),t=ou;var e=4186112&~au;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=qi(),0!==(4&Ns)&&98===t?t=Ve(12,ou):t=Ve(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ou),t}function hu(t,e,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(t=fu(t,e)))return null;ze(t,e,n),t===Os&&(Us|=e,4===Ls&&vu(t,xs));var r=qi();1===e?0!==(8&Ns)&&0===(48&Ns)?yu(t):(pu(t,n),0===Ns&&(Ws(),Hi())):(0===(4&Ns)||98!==r&&99!==r||(null===eu?eu=new Set([t]):eu.add(t)),pu(t,n)),qs=t}function fu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-We(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=e,Fe(c);var h=Me;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=je(t,t===Os?xs:0),e=Me,0===r)null!==n&&(n!==Di&&Ii(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Di&&Ii(n)}15===e?(n=yu.bind(null,t),null===Mi?(Mi=[n],Fi=Si(Ni,Ki)):Mi.push(n),n=Di):14===e?n=Wi(99,yu.bind(null,t)):n=Wi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),du.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function du(t){if(iu=-1,au=ou=0,0!==(48&Ns))throw Error(a(327));var e=t.callbackNode;if(xu()&&t.callbackNode!==e)return null;var n=je(t,t===Os?xs:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var o=Su();for(Os===t&&xs===r||(Ws(),_u(t,r));;)try{Cu();break}catch(u){Eu(t,u)}if(Zi(),ks.current=o,Ns=i,null!==Ps?r=0:(Os=null,xs=0,r=Ls),0!==(Fs&Us))_u(t,0);else if(0!==r){if(2===r&&(Ns|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(n=Ue(t))&&(r=Iu(t,n))),1===r)throw e=Ms,_u(t,0),vu(t,n),pu(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Nu(t);break;case 3:if(vu(t,n),(62914560&n)===n&&10<(r=Bs+500-Vi())){if(0!==je(t,0))break;if(((i=t.suspendedLanes)&n)!==n){cu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Br(Nu.bind(null,t),r);break}Nu(t);break;case 4:if(vu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-We(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){t.timeoutHandle=Br(Nu.bind(null,t),n);break}Nu(t);break;case 5:Nu(t);break;default:throw Error(a(329))}}return pu(t,Vi()),t.callbackNode===e?du.bind(null,t):null}function vu(t,e){for(e&=~Vs,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function yu(t){if(0!==(48&Ns))throw Error(a(327));if(xu(),t===Os&&0!==(t.expiredLanes&xs)){var e=xs,n=Iu(t,e);0!==(Fs&Us)&&(n=Iu(t,e=je(t,e)))}else n=Iu(t,e=je(t,0));if(0!==t.tag&&2===n&&(Ns|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(e=Ue(t))&&(n=Iu(t,e))),1===n)throw n=Ms,_u(t,0),vu(t,e),pu(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nu(t),pu(t,Vi()),null}function gu(t,e){var n=Ns;Ns|=1;try{return t(e)}finally{0===(Ns=n)&&(Ws(),Hi())}}function mu(t,e){var n=Ns;Ns&=-2,Ns|=8;try{return t(e)}finally{0===(Ns=n)&&(Ws(),Hi())}}function bu(t,e){ui(Ds,Rs),Rs|=e,Fs|=e}function wu(){Rs=Ds.current,si(Ds)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,zr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:xo(),si(hi),si(li),Go();break;case 5:Do(r);break;case 4:xo();break;case 13:case 19:si(Lo);break;case 10:to(r);break;case 23:case 24:wu()}n=n.return}Os=t,Ps=zu(t.current,null),xs=Rs=Fs=e,Ls=0,Ms=null,Vs=Us=js=0}function Eu(t,e){for(;;){var n=Ps;try{if(Zi(),Qo.current=Na,ta){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if($o=0,Zo=Jo=Xo=null,ea=!1,As.current=null,null===n||null===n.return){Ls=1,Ms=e,Ps=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=xs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Lo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var y=f.updateQueue;if(null===y){var g=new Set;g.add(c),f.updateQueue=g}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=ju.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),u=as(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,co(f,cs(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ys||!Ys.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,co(f,ls(f,o,e));break t}}f=f.return}while(null!==f)}Au(n)}catch(S){e=S,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Su(){var t=ks.current;return ks.current=Na,null===t?Na:t}function Iu(t,e){var n=Ns;Ns|=16;var r=Su();for(Os===t&&xs===e||_u(t,e);;)try{Tu();break}catch(i){Eu(t,i)}if(Zi(),Ns=n,ks.current=r,null!==Ps)throw Error(a(261));return Os=null,xs=0,Ls}function Tu(){for(;null!==Ps;)ku(Ps)}function Cu(){for(;null!==Ps&&!Ti();)ku(Ps)}function ku(t){var e=Hs(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,null===e?Au(t):Ps=e,As.current=null}function Au(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,Rs)))return void(Ps=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(Ps=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ps=e);Ps=e=t}while(null!==e);0===Ls&&(Ls=5)}function Nu(t){var e=qi();return zi(99,Ou.bind(null,t,e)),null}function Ou(t,e){do{xu()}while(null!==Xs);if(0!==(48&Ns))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-We(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==eu&&0===(24&r)&&eu.has(t)&&eu.delete(t),t===Os&&(Ps=Os=null,xs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,As.current=null,jr=Ye,dr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,y=s,g=null;e:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(f=h+o),y!==c||0!==l&&3!==y.nodeType||(p=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break e;if(g===u&&++d===o&&(f=h),g===c&&++v===l&&(p=h),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Ye=!1,su=null,uu=!1,Ks=r;do{try{Pu()}catch(C){if(null===Ks)throw Error(a(330));Fu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);su=null,Ks=r;do{try{for(s=t;null!==Ks;){var b=Ks.flags;if(16&b&&mt(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,Ss(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ss(Ks.alternate,Ks);break;case 4:Ss(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var E=u.alternate;gs(u),null!==E&&gs(E)}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Fu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);if(_=Ur,w=pr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=hr(b,E),o=hr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ye=!!jr,Ur=jr=null,t.current=n,Ks=r;do{try{for(b=t;null!==Ks;){var S=Ks.flags;if(36&S&&ds(b,Ks.alternate,Ks),128&S){w=void 0;var I=Ks.ref;if(null!==I){var T=Ks.stateNode;switch(Ks.tag){case 5:w=T;break;default:w=T}"function"===typeof I?I(w):I.current=w}}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Fu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Li(),Ns=i}else t.current=n;if($s)$s=!1,Xs=t,Js=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&(Ys=null),1===r?t===ru?nu++:(nu=0,ru=t):nu=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(wi,n,void 0,64===(64&n.current.flags))}catch(C){}if(pu(t,Vi()),Gs)throw Gs=!1,t=Qs,Qs=null,t;return 0!==(8&Ns)||Hi(),null}function Pu(){for(;null!==Ks;){var t=Ks.alternate;uu||null===su||(0!==(8&Ks.flags)?te(Ks,su)&&(uu=!0):13===Ks.tag&&Ts(t,Ks)&&te(Ks,su)&&(uu=!0));var e=Ks.flags;0!==(256&e)&&ps(t,Ks),0===(512&e)||$s||($s=!0,Wi(97,(function(){return xu(),null}))),Ks=Ks.nextEffect}}function xu(){if(90!==Js){var t=97<Js?97:Js;return Js=90,zi(t,Lu)}return!1}function Ru(t,e){Zs.push(e,t),$s||($s=!0,Wi(97,(function(){return xu(),null})))}function Du(t,e){tu.push(e,t),$s||($s=!0,Wi(97,(function(){return xu(),null})))}function Lu(){if(null===Xs)return!1;var t=Xs;if(Xs=null,0!==(48&Ns))throw Error(a(331));var e=Ns;Ns|=32;var n=tu;tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Fu(o,c)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Fu(o,c)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ns=e,Hi(),!0}function Mu(t,e,n){uo(t,e=cs(0,e=as(n,e),1)),e=cu(),null!==(t=fu(t,1))&&(ze(t,1,e),pu(t,e))}function Fu(t,e){if(3===t.tag)Mu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Mu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,t=as(e,t),1);if(uo(n,i),i=cu(),null!==(n=fu(n,1)))ze(n,1,i),pu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function ju(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=cu(),t.pingedLanes|=t.suspendedLanes&n,Os===t&&(xs&n)===n&&(4===Ls||3===Ls&&(62914560&xs)===xs&&500>Vi()-Bs?_u(t,0):Vs|=n),pu(t,e)}function Uu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===qi()?1:2:(0===ou&&(ou=Fs),0===(e=qe(62914560&~ou))&&(e=4194304))),n=cu(),null!==(t=fu(t,e))&&(ze(t,e,n),pu(t,n))}function Vu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(t,e,n,r){return new Vu(t,e,n,r)}function Bu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zu(t,e){var n=t.alternate;return null===n?((n=qu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Bu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case I:return Hu(n.children,i,o,e);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case C:return(t=qu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=o,t;case O:return(t=qu(13,n,e,i)).type=O,t.elementType=O,t.lanes=o,t;case P:return(t=qu(19,n,e,i)).elementType=P,t.lanes=o,t;case F:return Ku(n,i,o,e);case j:return(t=qu(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case A:s=9;break t;case N:s=11;break t;case x:s=14;break t;case R:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=qu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Hu(t,e,n,r){return(t=qu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){return(t=qu(23,t,r,e)).elementType=F,t.lanes=n,t}function Gu(t,e,n){return(t=qu(6,t,null,e)).lanes=n,t}function Qu(t,e,n){return(e=qu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Be(0),this.expirationTimes=Be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.mutableSourceEagerHydrationData=null}function $u(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Xu(t,e,n,r){var i=e.current,o=cu(),s=lu(i);t:if(n){e:{if($t(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),hu(i,s,o),s}function Ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}function ec(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(t,e,null!=n&&!0===n.hydrate),e=qu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[Xr]=n.current,Nr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ju(a);s.call(t)}}Xu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ju(a);u.call(t)}}mu((function(){Xu(e,a,t,i)}))}return Ju(a)}function ic(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(a(200));return $u(t,e,null,n)}Hs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,e.tag){case 3:Wa(e),Ho();break;case 5:Ro(e);break;case 1:di(e.type)&&mi(e);break;case 4:Po(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ya(t,e,n):(ui(Lo,1&Lo.current),null!==(e=ns(t,e,n))?e.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Lo,Lo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ua(t,e,n)}return ns(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=pi(e,li.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternals=e,bo(e,r,t,n),e=za(null,e,r,!0,o,n)}else e.tag=0,La(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Bu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===N)return 11;if(t===x)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=qa(null,e,i,t,n);break t;case 1:e=Ba(null,e,i,t,n);break t;case 11:e=Ma(null,e,i,t,n);break t;case 14:e=Fa(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(Wa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Ho(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(jo=Hr(e.stateNode.containerInfo.firstChild),Fo=e,o=Uo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=To(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(t,e,r,n),Ho();e=e.child}return e;case 5:return Ro(e),null===t&&Bo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(e.flags|=16),Va(t,e),La(t,e,s,n),e.child;case 6:return null===t&&Bo(e),null;case 13:return Ya(t,e,n);case 4:return Po(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Io(e,null,r,n):La(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ma(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return La(t,e,e.pendingProps,n),e.child;case 8:case 12:return La(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ui(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){e=ns(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,uo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,La(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Fa(t,e,i,o=Qi(i.type,o),r,n);case 15:return ja(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,mi(e)):t=!1,no(e,n),go(e,r,i),bo(e,r,i,n),za(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Ua(t,e,n)}throw Error(a(156,e.tag))},ec.prototype.render=function(t){Xu(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xu(null,t,null,(function(){e[Xr]=null}))},ee=function(t){13===t.tag&&(hu(t,4,cu()),tc(t,4))},ne=function(t){13===t.tag&&(hu(t,67108864,cu()),tc(t,67108864))},re=function(t){if(13===t.tag){var e=cu(),n=lu(t);hu(t,n,e),tc(t,n)}},ie=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Rt=gu,Dt=function(t,e,n,r,i){var o=Ns;Ns|=4;try{return zi(98,t.bind(null,e,n,r,i))}finally{0===(Ns=o)&&(Ws(),Hi())}},Lt=function(){0===(49&Ns)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pu(t,Vi())}))}Hi()}(),xu())},Mt=function(t,e){var n=Ns;Ns|=2;try{return t(e)}finally{0===(Ns=n)&&(Ws(),Hi())}};var oc={Events:[ti,ei,ni,Pt,xt,xu,{current:!1}]},ac={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{wi=uc.inject(sc),_i=uc}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,e.createPortal=ic,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ns;if(0!==(48&n))return t(e);Ns|=1;try{if(t)return zi(99,t.bind(null,e))}finally{Ns=n,Hi()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(a(40));return!!t._reactRootContainer&&(mu((function(){rc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Xr]=null}))})),!0)},e.unstable_batchedUpdates=gu,e.unstable_createPortal=function(t,e){return ic(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return rc(t,e,n,!1,r)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(36)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();w=t+b;try{g(!0,t)?E.postMessage(null):(y=!1,g=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(t){g=t,y||(y=!0,E.postMessage(null))},i=function(t,n){m=p((function(){t(e.unstable_now())}),n)},o=function(){d(m),m=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function I(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],A=[],N=1,O=null,P=3,x=!1,R=!1,D=!1;function L(t){for(var e=I(A);null!==e;){if(null===e.callback)T(A);else{if(!(e.startTime<=t))break;T(A),e.sortIndex=e.expirationTime,S(k,e)}e=I(A)}}function M(t){if(D=!1,L(t),!R)if(null!==I(k))R=!0,r(F);else{var e=I(A);null!==e&&i(M,e.startTime-t)}}function F(t,n){R=!1,D&&(D=!1,o()),x=!0;var r=P;try{for(L(n),O=I(k);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,P=O.priorityLevel;var s=a(O.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?O.callback=s:O===I(k)&&T(k),L(n)}else T(k);O=I(k)}if(null!==O)var u=!0;else{var c=I(A);null!==c&&i(M,c.startTime-n),u=!1}return u}finally{O=null,P=r,x=!1}}var j=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||x||(R=!0,r(F))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return I(k)},e.unstable_next=function(t){switch(P){case 1:case 2:case 3:var e=3;break;default:e=P}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:N++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,S(A,t),null===I(k)&&t===I(A)&&(D?o():D=!0,i(M,a-s))):(t.sortIndex=u,S(k,t),R||x||(R=!0,r(F))),t},e.unstable_wrapCallback=function(t){var e=P;return function(){var n=P;P=e;try{return t.apply(this,arguments)}finally{P=n}}}},function(t,e,n){var r=n(21);t.exports=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(40),i=n(41),o=n(21),a=n(42);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e,n){var r=n(22);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(44);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){var r=n(46),i=n(47),o=n(48);t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var r=n(49),i=n(23);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case y:case c:return t;default:return e}}case o:return e}}}function S(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return S(t)||E(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},function(t,e,n){"use strict";var r=n(54);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}}]]);
//# sourceMappingURL=2.dc59e955.chunk.js.map